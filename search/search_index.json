{"config":{"lang":["en","zh"],"separator":"[\\s\\-\\.]","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u6b22\u8fce\u6765\u5230\u7a0b\u7ec4Wiki","text":"<p>\u8fd9\u91cc\u662f\u53a6\u95e8\u5927\u5b66\u7a0b\u4fca\u8bfe\u9898\u7ec4\u7684\u7ec4\u5185wiki\u3002\u6211\u4eec\u6b22\u8fce\u5176\u4ed6\u8bbf\u95ee\u8005\u4e00\u8d77\u6d4f\u89c8\u548c\u63d0\u5347\uff01\u5982\u679c\u6709\u5176\u4ed6\u5efa\u8bae\u8bf7\u5728github issue\u63d0\u51fa\u3002</p>"},{"location":"#welcome-to-chenggroup-wiki","title":"Welcome to ChengGroup Wiki","text":"<p>This is group wiki for chenggroup of XMU which is personal academic group. Visitors are welcomed to have look in our wiki. It's better if you would like to post any suggestions for us. This Wiki are mainly written in Simplified Chinese.</p>"},{"location":"#wiki_1","title":"\u672cWiki\u7684\u4f7f\u7528\u65b9\u6cd5","text":"<p>\u672cWiki\u50a8\u5b58\u5927\u5bb6\u6240\u9700\u8981\u7684\u6280\u672f\u6027\u548c\u539f\u5219\u6027\u77e5\u8bc6\u3002\u6280\u672f\u6027\u77e5\u8bc6\u5305\u62ec\uff0c\u57fa\u672c\u77e5\u8bc6\u7684\u5b66\u4e60\u548c\u4ee3\u7801\u77e5\u8bc6\u7684\u5b66\u4e60\u3002\u539f\u5219\u6027\u77e5\u8bc6\u5305\u62ec\u6587\u7ae0\u5199\u4f5c\u539f\u5219\uff0c\u5b66\u672f\u7814\u7a76\u539f\u5219\u7b49\u3002\u4ee5\u4e0b\u5217\u51fa\u4e00\u4e9b\u5e38\u7528\u7684\u5165\u95e8\uff0c\u4f9b\u5927\u5bb6\u6d4f\u89c8\u548c\u8df3\u8f6c\u3002</p> <ol> <li>\u65b0\u751f\u7528: \u7ec4\u5185\u5b89\u6392\u548c\u5165\u95e8\u6559\u7a0b\u987a\u5e8f</li> <li>\u7ec4\u5458\u7528: \u96c6\u7fa4\u4f7f\u7528\u57fa\u7840</li> <li>\u7ec4\u5458\u7528: \u96c6\u7fa4GPU\u4f7f\u7528</li> <li>\u7ec4\u5458\u7528: \u5982\u4f55\u4fee\u6539\u4e0e\u8d21\u732eWiki</li> <li>\u96c6\u7fa4\u7ba1\u7406\u4eba\u5458\u7528: \u5e38\u7528\u7684\u8f6f\u4ef6\u5b89\u88c5</li> </ol>"},{"location":"#_1","title":"\u8f6f\u4ef6\u5165\u95e8\u4e0e\u4f7f\u7528\u7ecf\u9a8c","text":"<ol> <li>CP2K\u5165\u95e8</li> </ol>"},{"location":"#_2","title":"\u5982\u6709\u7591\u95ee","text":""},{"location":"#_3","title":"\u9488\u5bf9\u8ba1\u7b97\u5316\u5b66\u95ee\u9898","text":"<p>\u26a0\ufe0f\u8ba1\u7b97\u5316\u5b66\u65b0\u751f\u5fc5\u8bfb\uff1aSimulations: the dark side</p> <p>\u8bf7\u9996\u5148\u9605\u8bfb\u5728\u7f51\u4e0a\u6c42\u52a9\u8ba1\u7b97\u5316\u5b66\u95ee\u9898\u65f6\u7684\u6ce8\u610f\u4e8b\u9879</p> <p>\u5982\u679c\u786e\u5b9e\u6709\u9700\u8981\u4f5c\u8005\u5e2e\u52a9\u7b54\u7591\u7684\u95ee\u9898\uff0c\u8bf7\u5f52\u7eb3\u6e05\u695a\u8981\u70b9\u5e76\u901a\u8fc7\u90ae\u4ef6\u8054\u7cfb\u4f5c\u8005\u3002</p> <p>\u53ef\u53c2\u9605\uff1a\u4e3a\u4ec0\u4e48\u56fd\u5916\u628a\u90ae\u4ef6\u5f53\u5fae\u4fe1\u4e00\u6837\u53d1\uff1f</p>"},{"location":"#_4","title":"\u9488\u5bf9\u4ee3\u7801\u65b9\u9762\u95ee\u9898","text":"<p>\u8bf7\u9996\u5148\u9605\u8bfb\u63d0\u95ee\u7684\u667a\u6167(How To Ask Questions The Smart Way) (\u4f5c\u8005: Eric Steven Raymond, \u8bd1\u8005: ryanhanwu)</p> <p>\u5982\u679c\u786e\u5b9e\u6709\u9700\u8981\u4f5c\u8005\u7b54\u7591\u7684\u95ee\u9898\uff0c\u8bf7\u5f52\u7eb3\u6e05\u695a\u8981\u70b9\u5e76\u5728Github\u63d0\u95ee\u9898(Open Issue in Github)\uff0c\u6216\u901a\u8fc7\u90ae\u4ef6\u8054\u7cfb\u4f5c\u8005\u3002</p> <p>Please read How To Ask Questions The Smart Way (Written by Eric Steven Raymond) first. If there is problem in need of us, please open issue in Github or write E-mail to contact us.</p>"},{"location":"contributors/","title":"\u8d21\u732e\u8005\u5217\u8868","text":"<p>\u63d0\u793a</p> <p>\u8bf7\u53c2\u4e0e\u672c Wiki \u7f16\u5199\u7684\u5404\u4f4d\u8d21\u732e\u8005\u5728\u521d\u6b21\u53c2\u4e0e\u8d21\u732e\u65f6\uff0c\u52a1\u5fc5\u540c\u65f6\u5411\u672c\u9875\u9762\u63d0\u4ea4 PR\uff0c\u6211\u4eec\u5c06\u8bb0\u5f55\u60a8\u7684\u8d21\u732e\u3002</p>"},{"location":"contributors/#_2","title":"\u8bfe\u9898\u7ec4\u5185\u5e08\u751f","text":"<p>\u611f\u8c22\u4ee5\u4e0b\u6240\u6709\u53c2\u4e0e\u672c Wiki \u7ef4\u62a4\u7684\u8bfe\u9898\u7ec4\u5185\u8001\u5e08\u548c\u540c\u5b66\uff08\u6309\u7167\u53c2\u4e0e\u65f6\u95f4\u987a\u5e8f\u4ece\u5148\u5230\u540e\uff09</p> <ul> <li> <p> \u718a\u666f\u653e</p> <p>2015\u7ea7\u672c\u79d1\uff0c2019\u7ea7\u7855\u58eb</p> </li> <li> <p> \u5e84\u6c38\u658c</p> <p>2014\u7ea7\u672c\u79d1\uff0c2018\u7ea7\u535a\u58eb</p> </li> <li> <p> \u5218\u4e91\u9708</p> <p>2015\u7ea7\u672c\u79d1\uff0c2019\u7ea7\u535a\u58eb</p> <p>2024- \u5609\u5e9a\u5b9e\u9a8c\u5ba4\u5de5\u7a0b\u5e08</p> </li> <li> <p> \u9ec4\u5251\u5174</p> <p>2015\u7ea7\u535a\u58eb</p> </li> <li> <p> \u6731\u5609\u6b23</p> <p>2016\u7ea7\u672c\u79d1\uff0c2020\u7ea7\u535a\u58eb</p> </li> <li> <p> \u90ed\u6653\u65ed</p> <p>2016\u7ea7\u672c\u79d1</p> </li> <li> <p> \u6bd5\u777f\u8c6a</p> <p>2017\u7ea7\u672c\u79d1</p> <p>2021-2022 \u79d1\u7814\u52a9\u7406</p> </li> <li> <p> \u80e1\u664b\u5a9b</p> <p>2018\u7ea7\u7855\u58eb\uff0c2020 \u7ea7\u535a\u58eb</p> <p>2024- \u535a\u58eb\u540e</p> </li> <li> <p> \u5f90\u51e1\u6770</p> <p>2022\u7ea7\u7855\u58eb\uff0c2025\u7ea7\u535a\u58eb</p> </li> <li> <p> \u6c88\u7d2b\u83f2</p> <p>2020\u7ea7\u672c\u79d1</p> </li> <li> <p> \u738b\u7a0b\u7384</p> <p>2019\u7ea7\u672c\u79d1\uff0c2023\u7ea7\u7855\u58eb</p> </li> <li> <p> \u9f9a\u7389\u96f7</p> <p>2024\u7ea7\u7855\u58eb</p> </li> </ul>"},{"location":"contributors/#_3","title":"\u70ed\u5fc3\u8d21\u732e\u8005","text":"<p>\u53e6\u5916\uff0c\u7279\u522b\u9e23\u8c22\u4ee5\u4e0b\u53c2\u4e0e\u672c Wiki \u7ef4\u62a4\u7684\u70ed\u5fc3\u8d21\u732e\u8005\uff08\u6309\u7167\u53c2\u4e0e\u65f6\u95f4\u987a\u5e8f\u4ece\u5148\u5230\u540e\uff09</p> <ul> <li> steven</li> </ul>"},{"location":"news/","title":"\u65b0\u95fb\u901a\u77e5","text":""},{"location":"news/#2022","title":"2022","text":""},{"location":"news/#2022-10-01-wiki","title":"2022-10-01 \u65b0\u7248Wiki\u4e0a\u7ebf","text":"<p>\u76f8\u6bd4\u4e8e\u65e7\u7248\uff0c\u65b0\u7248\u91c7\u7528\u4e86\u539f\u751f\u7684Mkdocs+Github Action\u5b9e\u73b0\uff0c\u652f\u6301\u66f4\u591a\u7279\u6027\u3002\u6b22\u8fce\u4f7f\u7528\u3002</p>"},{"location":"wiki/book_recommendation/","title":"\u63a8\u8350\u4e66\u7c4d\u4e00\u89c8","text":""},{"location":"wiki/book_recommendation/#_2","title":"\u57fa\u7840\u7406\u8bba\u7cfb\u5217","text":"<ol> <li>Quantum Chemistry     \u9762\u5411\u5316\u5b66\u5b66\u751f\u7684\u91cf\u5b50\u529b\u5b66\u57fa\u7840\uff0c\u63a8\u7b97\u6bd4\u8f83\u8be6\u7ec6\u3002</li> <li>Modern Quantum Chemistry     \u7ecf\u5178\u91cf\u5b50\u5316\u5b66\u6559\u6750\uff0cHartree-Fock\u7406\u8bba\u662f\u5168\u4e66\u6700\u51fa\u5f69\u7684\u5730\u65b9\u3002</li> <li>The Electronic Structure and Chemistry of Solids     \u5b9a\u6027\u7684\u56fa\u4f53\u7269\u7406\uff0c\u9002\u5408\u5316\u5b66\u5b66\u751f\u9605\u8bfb\uff0c\u5bf9\u56fa\u4f53\u7269\u7406\u6709\u7b80\u5355\u7684\u4e86\u89e3\u3002</li> <li>Statistical Mechanics     \u7cfb\u7edf\u800c\u5168\u7684\u7269\u7406\u5411\u7edf\u8ba1\u529b\u5b66\u5165\u95e8\uff0c\u516c\u5f0f\u63a8\u5bfc\u8be6\u7ec6\uff0c\u8ba4\u771f\u770b\u4f1a\u5bf9\u7edf\u8ba1\u529b\u5b66\u6709\u76f8\u5bf9\u6df1\u5ea6\u7684\u7406\u89e3</li> <li>Second Quantized Approach to Quantum Chemistry     \u6b63\u5982\u8fd9\u672c\u4e66\u7684\u524d\u8a00\u6240\u8bf4\uff0c\u672c\u4e66\u662f\u4e3a\u4e86\u7b80\u5355\u5f15\u5bfc\u5316\u5b66\u5bb6\uff08\u975e\u7269\u7406\u4e13\u4e1a\u7684\u4eba\u58eb\uff09\u719f\u6089\u4e8c\u6b21\u91cf\u5b50\u5316\u8fd9\u95e8\u8bed\u8a00\u3002\u5982\u679c\u4f60\u5728\u6587\u732e\u9605\u8bfb\u4e2d\u60f3\u8be6\u7ec6\u4e86\u89e3\u4e8c\u6b21\u91cf\u5b50\u5316\uff0c\u4e2a\u4eba\u5341\u5206\u63a8\u8350\u8fd9\u672c\u4e66\u3002\u6b63\u5982\u4f5c\u8005\u6240\u8bf4\uff0c\u4e8c\u6b21\u91cf\u5b50\u5316\u7684\u7f8e\u53ea\u6709\u4f60\u5f00\u59cb\u4f7f\u7528\u4e86\u4f60\u624d\u4f1a\u6b23\u8d4f\u5230\u3002</li> </ol>"},{"location":"wiki/book_recommendation/#_3","title":"\u7f16\u7a0b\u7cfb\u5217","text":"<ol> <li>Linux Command Line and Shell Scripting Bible     \u4ece\u5165\u95e8\u5230\u4e2d\u7ea7\uff0c\u8bb2\u89e3\u548c\u5168\u9762\u6027\u6765\u770b\u90fd\u662f\u4e0d\u9519\u7684\u4e66\u3002\u4f7f\u7528bash\u548cshell\u8ddfUnix\u5185\u6838\u8fdb\u884c\u4ea4\u4e92\u662f\u6240\u6709\u7f16\u7a0b\u5f00\u59cb\u7684\u57fa\u7840\uff08\u5982\u679c\u4f60\u60f3\u7528Linux\u6216MacOS\u5feb\u4e50\u7684\u7f16\u7a0b\u7684\u8bdd\uff09</li> <li>Python Crash Course     Python\u7f16\u7a0b\u7684\u7cfb\u7edf\u5165\u95e8\u4e66\uff0cproject\u7ae0\u8282\u53ea\u9700\u8981\u770b\u6570\u636e\u5c55\u793a\u90e8\u5206\u3002</li> <li>Numerical Python     \u6709\u5173\u4e8e\u6570\u636e\u79d1\u5b66\u4e2d\u4f7f\u7528python\u7684text book\uff0cnumpy\uff0cscipy\uff0cmatplotlib\u90fd\u6709\u5305\u62ec</li> <li>Fortran for Scientists &amp; Engineers     Fortran\u5165\u95e8+\u57fa\u7840\uff0c\u4f8b\u5b50\u7b80\u5355\u660e\u4e86\uff0c\u5168\u9762\uff0c20\u5929\u5de6\u53f3\u53ef\u505a\u5b8c\u5168\u4e66\uff0c\u6bcf\u4e2a\u7ae0\u8282\u540e\u9762\u7684\u603b\u7ed3\u548c\u4ee3\u7801\u53c2\u8003\u5f88\u5b8c\u5584\u3002\u53e6\u5916\u5173\u4e8e\u548cC/C++\u7684\u63a5\u53e3\u6559\u7a0b\u5728\u9644\u5f55Fortran/C Interoperablity</li> </ol>"},{"location":"wiki/book_recommendation/#_4","title":"\u5199\u4f5c\u7cfb\u5217","text":"<ol> <li>How to Write a Lot     \u6253\u788e\u4e0d\u5199\u4f5c\u7684\u501f\u53e3</li> </ol>"},{"location":"wiki/miscellaneous/","title":"Miscellaneous","text":"<p>Put temporary or unclassied content here!</p>"},{"location":"wiki/miscellaneous/#run-process-when-you-logout-shell","title":"Run Process when you logout shell","text":"<p>Everytime you login the cluster, you want to run some commands while you have to logout the shell. Unfortunately, these commands will stop as soon as you logout. How to keep commands run? The trick here is use command <code>nohup</code> and <code>&amp;</code>.</p> <p><code>bash nohup command &amp;</code></p> <p>You just need to prepend <code>nohup</code> and append <code>&amp;</code> in your commands.Now, you can go back and have a nice sleep.</p>"},{"location":"wiki/miscellaneous/#linux","title":"\u5220\u9664 linux \u4e0b\u7684\u7b26\u53f7\u94fe\u63a5\uff08\u5feb\u6377\u65b9\u5f0f\uff09","text":"<p>Linux \u7cfb\u7edf\u4e0b\u7684\u7b26\u53f7\u94fe\u63a5\uff0c\u53c8\u79f0\u8f6f\u94fe\u63a5\uff0c\u57fa\u672c\u7c7b\u4f3c\u4e8e Windows \u7cfb\u7edf\u4e0b\u7684\u5feb\u6377\u65b9\u5f0f\u3002\u5982\u679c\u4f60\u5df2\u7ecf\u63a5\u89e6\u8fc7<code>deepmd</code>\uff0c\u4f60\u5e94\u8be5\u5df2\u7ecf\u5bf9\u89c1\u5230\u8fc7\u4e00\u4e9b\u7b26\u53f7\u94fe\u63a5\u4e86\u3002\u9700\u8981\u6ce8\u610f\u7684\u4e00\u70b9\u662f\uff0c\u7b26\u53f7\u94fe\u63a5\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a \u72ec\u7acb\u7684\u6587\u672c\u6587\u4ef6\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u5c06\u5176\u89e3\u91ca\u4e3a\u53e6\u4e00\u4e2a\u6587\u4ef6\u6216\u8005\u8def\u5f84\uff08\u6587\u4ef6\u5939\uff09\u3002\u56e0\u6b64\u7b26\u53f7\u94fe\u63a5\u6709\u5982\u4e0b\u4e24\u4e2a\u6027\u8d28\uff1a</p> <ul> <li> <p>\u5220\u9664\u7b26\u53f7\u94fe\u63a5\u6587\u4ef6\u5e76\u4e0d\u4f1a\u5f71\u54cd\u539f\u672c\u7684\u6587\u4ef6/\u8def\u5f84\uff08\u6587\u4ef6\u5939\uff09</p> </li> <li> <p>\u5220\u9664\u539f\u59cb\u6587\u4ef6/\u8def\u5f84\u540e\uff0c\u7b26\u53f7\u94fe\u63a5\u4ecd\u7136\u5b58\u5728\uff0c\u4f46\u662f\u94fe\u63a5\u4f1a\u635f\u574f\uff0c\u6210\u4e3a \u201cstale symbolic link\u201d\uff08\u5b57\u9762\u610f\u601d\uff09\u3002 </p> </li> </ul> <p>\u5728\u6574\u7406\u5de5\u4f5c\u6587\u4ef6\u5939\u7684\u65f6\u5019\uff0c\u6211\u4eec\u53ef\u80fd\u4f1a\u9700\u8981\u5220\u9664\u7b26\u53f7\u94fe\u63a5\uff0c\u6211\u4eec\u5c24\u5176\u9700\u8981\u6ce8\u610f\u8def\u5f84\u7b26\u53f7\u94fe\u63a5\u7684\u5220\u9664\uff1a</p> <p>\u4e00\u4e2a<code>dp-gen</code>\u7684\u8bad\u7ec3\u8def\u5f84\u7ed3\u6784\u5982\u4e0b\uff1a</p> <pre><code>00.train/\n\u251c\u2500\u2500 000\n\u251c\u2500\u2500 001\n\u251c\u2500\u2500 002\n\u251c\u2500\u2500 003\n\u251c\u2500\u2500 data.init -&gt; /data/rhbi/TiO2-ML/00.cp2k_md\n\u251c\u2500\u2500 data.iters\n\u251c\u2500\u2500 graph.000.pb -&gt; 000/frozen_model.pb\n\u251c\u2500\u2500 graph.001.pb -&gt; 001/frozen_model.pb\n\u251c\u2500\u2500 graph.002.pb -&gt; 002/frozen_model.pb\n\u251c\u2500\u2500 graph.003.pb -&gt; 003/frozen_model.pb\n\u2514\u2500\u2500 jr.json\n</code></pre> <p>\u5047\u8bbe\u4f60\u60f3\u8981\u5220\u9664\u548c\u6587\u4ef6\u5173\u8054\u7684\u8f6f\u94fe\u63a5\u2018graph.000.pb\u2019\uff0c\u8f93\u5165 <code>rm graph.000.pb</code>\uff0c\u6ca1\u6709\u4efb\u4f55\u95ee\u9898\uff0c\u4f60\u6210\u529f\u5220\u9664\u4e86\u8fd9\u4e2a\u6587\u4ef6\u3002\u7136\u800c\u5982\u679c\u4f60\u60f3\u5220\u9664\u548c\u4e00\u4e2a\u6587\u4ef6\u5939\u76f8\u5173\u7684\u94fe\u63a5\uff0cdata.init\uff0c\u4f60\u53ef\u80fd\u4f1a\u4e0d\u5047\u601d\u7d22\u5730\u8f93\u5165</p> <pre><code>rm data.init/\n</code></pre> <p>\u8fd9\u65f6\u5019\u4f60\u4f1a\u6536\u5230\u62a5\u9519\uff1a</p> <pre><code>rm: cannot remove \u2018data.init/\u2019: Is a directory\n</code></pre> <p>\u518d\u6b21\u5f3a\u8c03\uff0c\u7b26\u53f7\u94fe\u63a5\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a \u72ec\u7acb\u7684\u6587\u672c\u6587\u4ef6\u3002\u6536\u5230\u62a5\u9519\u662f\u56e0\u4e3a<code>shell</code>\u7684\u81ea\u52a8\u5168\u529f\u80fd\u628a\u2018data.init\u2019\u8bc6\u522b\u4e3a\u4e86\u4e00\u4e2a\u8def\u5f84\uff0c\u56e0\u6b64\u5728\u6700\u540e\u52a0\u5165\u4e86\u659c\u6760\u2018/\u2019\uff0c\u7136\u800c\u7b26\u53f7\u94fe\u63a5\u53ea\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\uff0c\u8fd9\u4e2a\u65f6\u5019\u7cfb\u7edf\u8ba4\u4e3a\u4e0d\u80fd\u7528<code>rm</code>\u547d\u4ee4\u5220\u6389\u4e00\u4e2a\u8def\u5f84\uff0c\u6240\u4ee5\u62a5\u9519\u3002\u6b63\u786e\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u53bb\u6389\u659c\u6760\uff0c\u8f93\u5165\u6b63\u786e\u7684\u547d\u4ee4\u6210\u529f\u5220\u9664\u94fe\u63a5\uff1a</p> <pre><code>rm data.init\n</code></pre> <p>\u5f53\u7136shell\u7684\u81ea\u52a8\u8865\u5168\u548c\u4f60\u4f7f\u7528\u7684 shell \u7248\u672c\u6709\u5173\uff0c\u6709\u53ef\u80fd\u4f60\u7684 shell \u4e0d\u4f1a\u72af\u8822\u76f4\u63a5\u52a0\u4e0a\u2018/\u2019\uff0c\u4f46\u662f\u5728\u5220\u9664\u94fe\u63a5\u7684\u65f6\u5019\u4f60\u9700\u8981\u989d\u5916\u6ce8\u610f\uff0c\u907f\u514d\u4f60\u7684\u6570\u636e\u635f\u5931\u3002</p> <p>danger</p> <p>\u5343\u4e07\u4e0d\u8981\u8fd0\u884c 'rm -rf data.init/*' \uff0c\u4f60\u4f1a\u5220\u9664\u6389\u539f\u8def\u5f84\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff01\uff01\uff01'</p>"},{"location":"wiki/miscellaneous/#binshm-bad-interpreter-no-such-file-or-directory","title":"\u96c6\u7fa4\u4f7f\u7528\u51fa\u9519\uff1a/bin/sh^M: bad interpreter: No such file or directory","text":""},{"location":"wiki/miscellaneous/#_1","title":"\u9519\u8bef\u60c5\u51b5","text":"<p>/bin/sh^M: bad interpreter: No such file or directory</p> <p>\u5728\u96c6\u7fa4\u4e0a\u4f7f\u7528bsub\u63d0\u4ea4\u4f5c\u4e1a\u540e\u6b63\u5e38\u663e\u793a\uff1a</p> <pre><code>Job &lt;1360&gt; is submitted to queue &lt;53-large&gt;\n</code></pre> <p>\u4f46\u662f\u7528bjobs\u67e5\u770b\u4e0d\u5230\u8fd9\u4e2a\u4f5c\u4e1a\uff0c\uff08\u53ef\u80fd\u5148\u663e\u793a\u5728\u6392\u961fPEND\uff09\u663e\u793aNo unfinished job found\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f7f\u7528ls\u547d\u4ee4\u4f1a\u770b\u89c1\u63d0\u4ea4\u7684.lsf\u4f5c\u4e1a\u7684\u76ee\u5f55\u4e0b\u4f1a\u751f\u6210\u8f93\u51fa\u548c\u62a5\u9519\u6587\u4ef6\uff1a1360.stdout\uff0c1360.stderr\uff0c\u8fd9\u8bf4\u660e\u4f5c\u4e1a\u5df2\u7ecf\u8fd0\u884c\u7ed3\u675f\uff08\u5f02\u5e38\u7ed3\u675f\uff09\u3002</p>"},{"location":"wiki/miscellaneous/#_2","title":"\u9519\u8bef\u539f\u56e0","text":"<p>\u4f7f\u7528vim\u547d\u4ee4\u67e5\u770b.stdout\u548c.stderr\u8fd9\u4e24\u4e2a\u6587\u4ef6\uff0c\u4f1a\u53d1\u73b0\u5728\u4f5c\u4e1a\u7684\u6362\u884c\u5904\u51fa\u73b0\u5f88\u591a^M\u7b26\u53f7\uff0c\u67e5\u8be2\u539f\u56e0\u662fwindows\u7684\u6587\u4ef6\u4e0a\u4f20\u5230linux\u7cfb\u7edf\u65f6\u6587\u4ef6\u683c\u5f0f\u53ef\u80fd\u4e0d\u4e00\u81f4</p>"},{"location":"wiki/miscellaneous/#_3","title":"\u9519\u8bef\u5904\u7406","text":"<p>\u65b9\u6cd5\u4e00\uff1a\u53c2\u8003linux\u4e0b\u8fd0\u884c\u811a\u672c\u62a5\u8bfb\u53d6\u6216^M\u9519\u8bef\u5904\u7406 - \u77e5\u4e4e (zhihu.com)</p> <p>\u65b9\u6cd5\u4e8c\uff1a\u7528vim\u547d\u4ee4\u5728\u96c6\u7fa4\u4e0a\u65b0\u5efa\u4e00\u4e2a\u4f5c\u4e1a\uff0c\u7136\u540e\u628a\u4f5c\u4e1a\u5185\u5bb9\u590d\u5236\u4e0a\u53bb\uff0c\u518dbsub\u63d0\u4ea4\u4f5c\u4e1a\u5373\u53ef</p>"},{"location":"wiki/miscellaneous/#scrum-group","title":"Scrum Group","text":""},{"location":"wiki/miscellaneous/#_4","title":"\u7b80\u5355\u4ecb\u7ecd","text":"<ul> <li>scrum meeting \u5373\u6bcf\u65e5\u4f8b\u4f1a\uff0c\u5728\u6a44\u6984\u7403\u8fd0\u52a8\u4e2d a scrum \u610f\u601d\u4e3a\u4e00\u573a\u6bd4\u8d5b\uff0cscrum meeting \u65e8\u5728\u901a\u8fc7\u6bcf\u65e5\u4f8b\u4f1a\u7684\u5f62\u5f0f\u6765\u603b\u7ed3\u6700\u8fd1\u6240\u505a\u7684\u5de5\u4f5c\uff0c\u8fdb\u884c\u8ba8\u8bba\u548c\u53cd\u601d\u5e76\u5bf9\u672a\u6765\u77ed\u671f\u5185\u7684\u5de5\u4f5c\u8fdb\u884c\u89c4\u5212\u548c\u5c55\u671b\u3002</li> </ul>"},{"location":"wiki/miscellaneous/#_5","title":"\u57fa\u672c\u89c4\u5219","text":"<ul> <li>\u6240\u6709\u7684\u5b66\u751f\u6839\u636e\u6240\u7814\u7a76\u65b9\u5411\u5206\u4e3a\u82e5\u5e72\u5c0f\u7ec4\uff0c\u6bcf\u4e2a\u5c0f\u7ec4\u7531\u5404\u81ea\u7684 scrum master \u7ba1\u7406\uff0c\u5e76\u7531 scrum master \u5e26\u9886\u8fdb\u884c\u6bcf\u5468\u7684\u6c47\u62a5\u3002</li> <li>scrum meeting \u6bcf\u5468\u8fdb\u884c\u4e24\u6b21\uff0c\u8fdb\u884c\u65f6\u95f4\u6839\u636e\u5177\u4f53\u60c5\u51b5\u800c\u5b9a\u3002</li> <li>\u6240\u6709\u7684\u7814\u7a76\u751f\u548c\u672c\u79d1\u56db\u5e74\u7ea7\u5b66\u751f\u9664\u975e\u6709\u8981\u4e8b\u5747\u9700\u53c2\u52a0scrum meeting\uff0c\u5982\u679c\u6709\u4e8b\u4e0d\u80fd\u53c2\u52a0\u7684\u9700\u5411\u6240\u5728\u7ec4\u7684 scrum master \u8fdb\u884c\u8bf7\u5047\u548c\u6c47\u62a5\u3002</li> <li>\u5982\u679c\u5f53\u5929\u8001\u5e08\u7e41\u5fd9\uff0c\u5404\u4e2a\u5c0f\u7ec4\u5e94\u8be5\u81ea\u884c\u7ec4\u7ec7 scrum meeting\u3002</li> </ul>"},{"location":"wiki/miscellaneous/#_6","title":"\u4f8b\u4f1a\u5185\u5bb9","text":"<ul> <li>\u6c47\u62a5\u4ece\u4e0a\u6b21 scrum meeting \u5230\u76ee\u524d\u4e3a\u6b62\u6240\u505a\u7684\u5de5\u4f5c\u5185\u5bb9\uff0c\u5305\u62ec\u9047\u5230\u7684\u95ee\u9898\u3001\u65b0\u7684\u53d1\u73b0\u6216\u8005\u5b58\u5728\u7684\u7591\u95ee\u7b49\u3002</li> </ul>"},{"location":"wiki/miscellaneous/#_7","title":"\u53c2\u8003\u6587\u4ef6","text":"<ul> <li>\u8bf7\u53c2\u8003\u4ee5\u4e0b\u6587\u4ef6\uff08\u5f85\u66f4\u65b0\uff09</li> <li>https://www.scrumguides.org/scrum-guide.html</li> </ul>"},{"location":"wiki/cluster_usage/cluster_usage/","title":"\u8ba1\u7b97\u96c6\u7fa4\u4f7f\u7528\u8bf4\u660e","text":""},{"location":"wiki/cluster_usage/cluster_usage/#_2","title":"\u96c6\u7fa4\u7684\u57fa\u672c\u6982\u5ff5","text":""},{"location":"wiki/cluster_usage/cluster_usage/#cpucore","title":"CPU/Core(\u6838)\u7684\u6982\u5ff5","text":"<p><code>CPU</code> \u662f Central Processing Unit \u7684\u7f29\u5199\u3002\u6bd4\u8d77\u5168\u79f0\uff0c\u4ed6\u7684\u7f29\u5199\u66f4\u4e3a\u5927\u5bb6\u6240\u719f\u77e5\u3002\u6211\u4eec\u4e70\u7535\u8111\u65f6\u90fd\u4f1a\u770b\u8fd9\u4e2a\u7535\u8111\u62e5\u6709\u51e0\u4e2a CPU\u3002CPU\u53ef\u4ee5\u8ba1\u7b97\u6570\u5b57\u6216\u8005\u6267\u884c\u4f60\u7684\u4ee3\u7801\u7b49\u7b49\u3002\u6bcf\u4e2aCPU\u6709\u591a\u4e2a\u8ba1\u7b97\u6838\u5fc3(Core)\uff0c\u8c03\u5ea6\u7cfb\u7edf\u53ef\u6309\u7167\u6240\u9700\u6838\u5fc3\u6570\u5bf9\u4efb\u52a1\u4f7f\u7528\u7684\u8d44\u6e90\u8fdb\u884c\u5206\u914d\uff0c\u56e0\u800c\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u6211\u4eec\u5e38\u5e38\u7528<code>\u6838</code>\u4ee3\u66ff<code>CPU</code>\u8fd9\u4e2a\u8868\u8ff0\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#memory","title":"Memory(\u5185\u5b58)\u7684\u6982\u5ff5","text":"<p><code>\u5185\u5b58</code>(Memory)\u5c31\u662f\u50a8\u5b58\u6570\u636e\u7684\u5730\u65b9\u3002\u8ddf\u786c\u76d8(disk)\u50a8\u5b58\u7684\u6570\u636e\u4e0d\u540c\uff0c<code>\u5185\u5b58</code>\u91cc\u7684\u6570\u636e\u53ef\u4ee5\u76f4\u63a5\u88ab <code>\u6838</code> \u8bfb\u53d6\u3002\u8ddf\u4f60\u5728\u786c\u76d8\u91cc\u50a8\u5b58\u7684\u6570\u636e\u7c7b\u4f3c\uff0c\u53ea\u662f\u5b83\u88ab<code>\u6838</code>\u8bfb\u53d6\u7684\u901f\u5ea6\u66f4\u5feb\u3002\u5f53\u6267\u884c\u7a0b\u5e8f\u65f6\uff0c\u6709\u4e00\u4e9b\u6570\u636e\u4f1a\u5148\u88ab\u8bfb\u5165<code>\u5185\u5b58</code>\uff0c\u7136\u540e\u518d\u6267\u884c\u8ba1\u7b97\u3002\u56e0\u6b64\u5185\u5b58\u8d8a\u5927\uff0c\u88ab\u8bfb\u5165\u7684\u6570\u636e\u4e5f\u5c31\u8d8a\u591a\uff0c\u80fd\u591f\u540c\u65f6\u5904\u7406\u7684\u6570\u636e\u4e5f\u5c31\u8d8a\u591a\uff0c\u4ee3\u7801\u8fd0\u884c\u7684\u65f6\u95f4\u4f1a\u66f4\u77ed\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#node","title":"Node(\u8282\u70b9)\u7684\u6982\u5ff5","text":"<p><code>\u8282\u70b9</code>(Node)\u6362\u4e2a\u65e5\u5e38\u7684\u8bf4\u6cd5\u5c31\u662f\u4f60\u7684<code>\u7535\u8111</code>\uff0c\u6bd4\u5982\u4e00\u53f0\u53f0\u5f0f\u673a\u6216\u8005\u7b14\u8bb0\u672c\u7535\u8111\u3002\u5b83\u7531\u82e5\u5e72\u4e2a<code>\u6838</code>\u548c\u4e00\u4e2a<code>\u5185\u5b58</code>\u7ec4\u6210\u3002\u56e0\u6b64\u53ef\u4ee5\u628a<code>\u8282\u70b9</code>\u7b80\u5355\u7406\u89e3\u6210\u65e5\u5e38\u89c1\u5230\u7684\u7535\u8111(\u4e3b\u673a)\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#hpc","title":"HPC(\u96c6\u7fa4/\u8d85\u7ea7\u8ba1\u7b97\u673a/\u8d85\u7b97)\u7684\u6982\u5ff5","text":"<p><code>HPC</code>\u5c31\u662fHigh Performance Cluster\u7684\u7f29\u5199\uff0c\u53c8\u79f0\u4e3a\u8d85\u7ea7\u8ba1\u7b97\u673a\uff0c\u9ad8\u6027\u80fd\u96c6\u7fa4\u7b49\u3002\u5b83\u7531\u82e5\u5e72\u4e2a<code>\u8282\u70b9</code>\u7ec4\u6210\u3002\u5b9e\u9645\u4f7f\u7528\u4e2d\uff0c\u8fd9\u4e9b<code>\u8282\u70b9</code>\u4f1a\u6709\u4e0d\u540c\u7684\u89d2\u8272\uff0c\u901a\u5e38\u5305\u542b<code>\u767b\u5f55\u8282\u70b9</code>\uff0c<code>\u7ba1\u7406\u8282\u70b9</code>\u548c<code>\u8ba1\u7b97\u8282\u70b9</code>\u7b49\u3002<code>\u767b\u5f55\u8282\u70b9</code>\u987e\u540d\u601d\u4e49\u5c31\u662f\u7528\u6765\u767b\u5f55\u7684<code>\u8282\u70b9</code>\u3002\u7528\u6237\u4ece\u81ea\u5df1\u7535\u8111\u53ef\u4ee5\u767b\u5f55\u5230<code>\u767b\u5f55\u8282\u70b9</code>\u3002<code>\u8ba1\u7b97\u8282\u70b9</code>\u662f\u7528\u6765\u8ba1\u7b97\u7684\u8282\u70b9\uff0c\u4ed6\u4eec\u7684\u552f\u4e00\u4f7f\u547d\u5c31\u662f\u8ba1\u7b97\u3002<code>\u7ba1\u7406\u8282\u70b9</code>\u6bd4\u8f83\u7279\u6b8a\uff0c\u7528\u6765\u7ba1\u7406<code>\u8ba1\u7b97\u8282\u70b9</code>\uff0c\u6bd4\u5982\u5206\u914d\u67d0\u67d0\u8ba1\u7b97\u4efb\u52a1\u7ed9\u67d0\u51e0\u4e2a<code>\u8ba1\u7b97\u8282\u70b9</code>\u6765\u7b97\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#message-passing-interfacempi","title":"Message Passing Interface(MPI)\u5e76\u884c\u8ba1\u7b97\u7684\u6982\u5ff5","text":"<p><code>\u5e76\u884c\u8ba1\u7b97</code>\u662f\u82e5\u5e72\u4e2a<code>\u8282\u70b9</code>\u4e00\u8d77\u6267\u884c\u8ba1\u7b97\u7684\u610f\u601d\u3002\u4ece<code>\u8282\u70b9</code>\u7684\u6982\u5ff5\u53ef\u4ee5\u77e5\u9053\uff0c\u4e00\u4e2a<code>\u8282\u70b9</code>\u7684<code>\u5185\u5b58</code>\u548c<code>\u6838</code>\u80af\u5b9a\u662f\u6709\u9650\u3002\u6bd4\u5982\uff0c\u73b0\u6709\u4e00\u4e2a<code>\u8282\u70b9</code>\u670924\u4e2a<code>\u6838</code>\u548c32GB\u7684<code>\u5185\u5b58</code>\uff0c\u6211\u4eec\u60f3\u6267\u884c\u4e00\u4e2a\u8ba1\u7b97\uff0c\u7528\u523048\u4e2a<code>\u6838</code>\uff0c\u81ea\u7136\u9700\u8981\u7528\u5230\u4e24\u4e2a<code>\u8282\u70b9</code>\u3002\u95ee\u9898\u662f\u53e6\u4e00\u4e2a<code>\u8282\u70b9</code>\u768424\u4e2a<code>\u6838</code>\u5982\u4f55\u8bfb\u53d6\u5230\u7b2c\u4e00\u4e2a<code>\u8282\u70b9</code>\u7684<code>\u5185\u5b58</code>\u91cc\u7684\u6570\u636e?\u8fd9\u4e00\u4e2a\u65f6\u5019\u5c31\u8981\u7528\u5230<code>MPI</code>/<code>\u5e76\u884c\u8ba1\u7b97</code>\u4e86\u3002<code>MPI</code>\u662f\u4fe1\u606f\u4f20\u8f93\u754c\u9762\u7684\u7b80\u79f0\u3002\u662f\u4e00\u79cd\u544a\u8bc9<code>\u8282\u70b9</code>\u600e\u4e48\u8de8\u8282\u70b9\u8bfb\u53d6<code>\u5185\u5b58</code>\u7684\u4ee3\u7801\u3002\u4e5f\u5c31\u662f\u8bf4\u8fd9\u662f\u8ba1\u7b97\u673a\u4ee3\u7801\u7684\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u5e38\u7528\u7684\u8ba1\u7b97\u8f6f\u4ef6<code>vasp</code>\u6216<code>cp2k</code>\u90fd\u5df2\u7ecf\u5199\u5165\u4e86\uff0c\u6240\u4ee5\u53ea\u8981\u76f4\u63a5\u4f7f\u7528\u4fbf\u53ef\u4ee5\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#_3","title":"\u7ec4\u5185\u96c6\u7fa4\u77e5\u8bc6","text":"<p>\u672c\u8bfe\u9898\u7ec4\u4f7f\u7528 Zeus \u8ba1\u7b97\u96c6\u7fa4\u63d0\u4ea4\u8ba1\u7b97\u4efb\u52a1\u8fdb\u884c\u8ba1\u7b97\u6a21\u62df\u3002Zeus \u96c6\u7fa4\u7531\u4e24\u4e2a\u767b\u9646\u8282\u70b9\u3001\u4e00\u4e2a\u7ba1\u7406\u8282\u70b9\u3001\u4e09\u4e2a\u8ba1\u7b97\u96c6\u7fa4\u6784\u6210\uff0c\u6bcf\u4e2a\u8ba1\u7b97\u96c6\u7fa4\u5305\u542b\u591a\u4e2a\u8ba1\u7b97\u8282\u70b9\uff08\u542b\u516d\u4e2a GPU \u8282\u70b9\u548c\u4e00\u4e2a\u5927\u5185\u5b58\u80d6\u8282\u70b9\uff09\uff0c\u5176\u4e2d GPU \u8282\u70b9\u5305\u62ec\u4e00\u4e2a\u5b89\u88c5\u6709 4 \u5f20 V100 \u7684\u8282\u70b9\u3001\u4e00\u4e2a\u5b89\u88c5\u67094\u5f20 A100 \u7684\u8282\u70b9\u548c\u56db\u4e2a\u5b89\u88c5\u6709 8 \u5f20 2080 Ti \u7684\u8282\u70b9\u3002</p> <p>\u76ee\u524d\uff0c\u6240\u6709 CPU \u8282\u70b9\u53ef\u4ee5\u901a\u8fc7\u540c\u4e00\u767b\u9646\u8282\u70b9\u8fdb\u884c\u63d0\u4ea4\uff0c\u4ee5\u4e0b\u5bf9\u96c6\u7fa4\u4f7f\u7528\u7684\u4e00\u4e9b\u6ce8\u610f\u4e8b\u9879\u8fdb\u884c\u8bf4\u660e\u3002\u5173\u4e8e GPU \u7684\u4f7f\u7528\uff0c\u8bf7\u53c2\u8003\u4f7f\u7528\u96c6\u7fa4\u4e0a\u7684GPU\u3002</p> <p>\u4f7f\u7528\u4e0a\u8ff0\u96c6\u7fa4\u4e4b\u524d\uff0c\u4f60\u5fc5\u987b\u62e5\u6709\u4e00\u4e2a\u8d26\u53f7\u624d\u80fd\u8fdb\u884c\u4efb\u52a1\u63d0\u4ea4\u3002\u7533\u8bf7\u8d26\u53f7\u8bf7\u8054\u7cfb\u96c6\u7fa4\u7ba1\u7406\u5458\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#_4","title":"\u521b\u5efa\u5bc6\u94a5\u5bf9","text":"<p>Warning</p> <p>\u65b0\u4eba\u5fc5\u5b66</p> <p><code>ssh</code> \u662f\u7528\u6765\u5b89\u5168\u8fdb\u884c\u767b\u5f55\u8fdc\u7a0b\u7535\u8111\u7684\u547d\u4ee4\u3002\u4f7f\u7528\u540e\uff0c\u6709\u4e24\u79cd\u9009\u62e9\u6765\u9a8c\u8bc1\u767b\u5f55</p> <ol> <li>\u4f7f\u7528\u5bc6\u7801</li> <li>\u4f7f\u7528\u5bc6\u94a5</li> </ol> <p>\u7b2c\u4e00\u79cd\u65b9\u6cd5\u5df2\u7ecf\u4e3a\u5927\u4f17\u6240\u719f\u77e5\uff0c\u4f46\u662f\u4e0d\u5b89\u5168\uff0c\u76ee\u524d\u96c6\u7fa4\u5bf9\u65b0\u5f00\u8d26\u53f7\u539f\u5219\u4e0a\u4e0d\u63d0\u4f9b\u767b\u9646\u5bc6\u7801\u3002\u56e0\u6b64\u6211\u4eec\u91c7\u7528\u5bc6\u94a5\u8fdb\u884c\u767b\u5f55\u3002</p> <p>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u751f\u6210\u5bc6\u94a5:</p> <pre><code>ssh-keygen\n</code></pre> <p>\u6839\u636e\u7ec8\u7aef\u7684\u63d0\u793a\u8fdb\u884c\u64cd\u4f5c\uff08\u5b9e\u9645\u4e0a\u4f60\u53ef\u80fd\u53ea\u9700\u8981\u4e0d\u505c\u6309<code>enter</code>\u952e\uff09\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f60\u4f1a\u5728<code>~/.ssh</code>\u76ee\u5f55\u4e2d\u5f97\u5230<code>id_rsa</code>\u548c<code>id_rsa.pub</code>\u6587\u4ef6\uff0c\u4ed6\u4eec\u5206\u522b\u662f \u79c1\u94a5 \u548c \u516c\u94a5\u3002\u521b\u5efa\u597d\u4e86\u4e4b\u540e\u8bf7\u628a \u516c\u94a5 <code>id_rsa.pub</code> \u6587\u4ef6\u53d1\u7ed9\u670d\u52a1\u5668\u7ba1\u7406\u5458\u3002</p> <p>Warning</p> <p>\u79c1\u94a5\u662f\u767b\u5f55\u96c6\u7fa4\u7684\u94a5\u5319\uff0c\u8bf7\u52a1\u5fc5\u4fdd\u7ba1\u597d\u8fd9\u4e2a\u6587\u4ef6\uff0c\u9632\u6b62\u81ea\u5df1\u7684\u7535\u8111\u88ab\u5165\u4fb5</p>"},{"location":"wiki/cluster_usage/cluster_usage/#_5","title":"\u83b7\u53d6\u8d26\u53f7","text":"<p>\u96c6\u7fa4\u53ea\u5141\u8bb8\u5df2\u7ecf\u6388\u6743\u7684\u7528\u6237\u8fdb\u884c\u767b\u5f55\u3002\u5728\u4ece\u7ba1\u7406\u5458\u5904\u83b7\u5f97\u4f60\u7684\u8d26\u53f7\u540d\u548c\u521d\u59cb\u5bc6\u7801\u540e\uff0c Linux \u6216 Mac \u7528\u6237\u53ef\u76f4\u63a5\u4ece\u547d\u4ee4\u884c\u767b\u5f55\u96c6\u7fa4\uff0c\u4f7f\u7528 <code>ssh</code> \u547d\u4ee4\u5373\u53ef\u3002</p> <pre><code>$ ssh -p &lt;port&gt; username@ip_address\n</code></pre> <p>\u8bf7\u5c06 <code>username</code> \u548c <code>ip_address</code> \u66ff\u6362\u4e3a\u7ba1\u7406\u5458\u63d0\u4f9b\u7684\u8d26\u53f7\u548cIP\u5730\u5740\uff0c<code>&lt;port&gt;</code> \u66ff\u6362\u4e3a\u7aef\u53e3\u53f7\u3002</p> <p>\u96c6\u7fa4\u5747\u91c7\u7528 Linux \u7cfb\u7edf\uff0c\u56e0\u6b64\u4e0d\u719f\u6089 Linux \u57fa\u672c\u64cd\u4f5c\u7684\u7528\u6237\uff08\u4f8b\u5982\u67e5\u770b\u6587\u4ef6\u3001\u7f16\u8f91\u6587\u672c\u3001\u590d\u5236\u6570\u636e\u7b49\uff09\u53ef\u4ee5\u53c2\u8003  Linux \u5165\u95e8\uff0c\u5e76\u719f\u6089\u8fd9\u4e9b\u64cd\u4f5c\u3002\u672c\u6587\u6863\u5047\u8bbe\u7528\u6237\u6709\u4e00\u5b9a\u7684 Linux \u57fa\u7840\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#windows","title":"Windows \u7528\u6237","text":"<p>\u5bf9 Windows \u7528\u6237\u6765\u8bf4\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u6cd5\u767b\u9646\u96c6\u7fa4\u3002</p> <ol> <li> <p>(Windows 10/11\u7528\u6237\u63a8\u8350)\u4f7f\u7528 WSL(Windows Subsystem for Linux)\u3002WSL \u662f Windows 10 \u65b0\u7248\u7684\u7279\u6027\uff0c\u53ef\u4f7f\u5f97\u7528\u6237\u5728 Windows \u7cfb\u7edf\u4e0b\u8fd0\u884c\u547d\u4ee4\u884c\u6a21\u5f0f\u7684 Ubuntu \u6216 OpenSUSE \u7b49\u5b50\u7cfb\u7edf\u3002\u4f7f\u7528 WSL \u7684\u7528\u6237\u53ef\u76f4\u63a5\u53c2\u8003 Linux \u7684\u4f7f\u7528\u65b9\u6cd5\u8fdb\u884c\u64cd\u4f5c\u3002\u5177\u4f53\u5b89\u88c5\u65b9\u5f0f\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\u6559\u7a0b\u3002 \u5bf9\u4e8e\u4f7f\u7528\u96c6\u7fa4\u7684\u5927\u591a\u6570\u9700\u6c42\uff0cWSL 1 \u5373\u53ef\u6ee1\u8db3\uff0c\u56e0\u6b64\u4e0d\u4e00\u5b9a\u9700\u8981\u5347\u7ea7\u5230 WSL 2 \u3002</p> <ul> <li>WSL\u7684\u8be6\u7ec6\u4ecb\u7ecd\u53c2\u8003\u8fd9\u91cc</li> <li>\u8fd9\u79cd\u65b9\u6cd5\u5bf9\u4e8e\u56fe\u5f62\u754c\u9762\uff08VMD\u3001GNUPlot\uff09\u7b49\u652f\u6301\u8f83\u5dee\uff0c\u5c1a\u9700\u8981\u989d\u5916\u7684\u6b65\u9aa4\u914d\u7f6e\u56fe\u5f62\u754c\u9762\u8f6c\u53d1\uff0c\u8fd9\u91cc\u9650\u4e8e\u7bc7\u5e45\u539f\u56e0\u6682\u4e0d\u8fdb\u884c\u4ecb\u7ecd\u3002\u5982\u6709\u9700\u8981\u8bf7\u53c2\u8003\u8fd9\u91cc\u3002</li> <li>\u76ee\u524d Windows 11 \u5df2\u7ecf\u63d0\u4f9b\u4e86\u5bf9\u56fe\u5f62\u754c\u9762\u7684\u76f4\u63a5\u652f\u6301\uff08\u8bf7\u53c2\u8003\uff09\uff0c\u4f46\u9700\u8981\u4f7f\u7528 WSL 2\u3002</li> <li>\u6ce8\u610f\uff1a\u7531\u4e8e\u4ee3\u7406\u673a\u5236\u539f\u56e0\uff0cWSL 2 \u65e0\u6cd5\u76f4\u63a5\u4f7f\u7528\u684c\u9762\u7aef\u7684 Easy Connect VPN\u670d\u52a1\uff0c\u987b\u8bbe\u6cd5\u8fdb\u884c\u7aef\u53e3\u8f6c\u53d1\u3002WSL 1 \u53ef\u4ee5\u3002\u4e5f\u53ef\u4ee5\u8003\u8651\u4f7f\u7528 Easy Connect Docker \u955c\u50cf\uff0c\u901a\u8fc7Socks\u4ee3\u7406\u8bbf\u95eeSSH\u3002</li> </ul> </li> <li> <p>\u4f7f\u7528 Git Windows\u5ba2\u6237\u7aef\uff0c\u5176\u81ea\u5e26\u4e00\u4e2a\u57fa\u4e8eZsh\u7684shell\uff0c\u4ea6\u53ef\u4ee5\u63d0\u4f9b\u5bf9SSH\u7684\u652f\u6301\uff0c\u4f53\u9a8c\u66f4\u63a5\u8fd1\u539f\u751fBash\uff0c\u7f3a\u70b9\u662f\u6ca1\u6709SFTP\u7ba1\u7406\u7b49\u529f\u80fd\u3002</p> </li> <li> <p>\u4f7f\u7528 Xshell\u3001PuTTY \u7b49 SSH \u5ba2\u6237\u7aef\uff0cWindows 10 \u4ee5\u4e0b\u7684\u7528\u6237\u53ef\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002\u8fd9\u7c7b SSH \u5ba2\u6237\u7aef\u53ef\u4ee5\u63d0\u4f9b\u8f83\u5b8c\u6574\u7684 SSH \u529f\u80fd\u3002\u5173\u4e8ePutty\u7684\u4f7f\u7528\u8bf7\u53c2\u8003\u3002</p> </li> <li> <p>\u4f7f\u7528\u865a\u62df\u673a\u5b89\u88c5 Linux\u3002\u82e5\u4e0d\u60f3\u5b89\u88c5 Linux \u53cc\u7cfb\u7edf\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528\u8fd9\u79cd\u65b9\u5f0f\u3002\u6b63\u786e\u914d\u7f6e\u7684\u865a\u62df\u673a\u548c\u771f\u6b63\u4f7f\u7528 Linux \u51e0\u4e4e\u65e0\u5dee\u522b\u3002\u4f46\u865a\u62df\u673a\u542f\u52a8\u65f6\u95f4\u957f\uff0c\u4e14\u5b8c\u5168\u542f\u52a8\u65f6\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\u8f83\u591a\u3002</p> </li> </ol>"},{"location":"wiki/cluster_usage/cluster_usage/#_6","title":"\u76ee\u5f55\u7ed3\u6784","text":"<p>Zeus \u96c6\u7fa4\u5177\u6709\u5982\u4e0b\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u4e3a\u4e86\u4fdd\u6301\u7edf\u4e00\u6027\uff0c\u8bf7\u5728<code>/data/username</code>\uff08<code>username</code>\u8bf7\u66ff\u6362\u4e3a\u81ea\u5df1\u7684\u7528\u6237\u540d\uff09\u4e0b\u505a\u8ba1\u7b97\u3002</p> <pre><code>/data &lt;--\u76ee\u524d\u7684\u6570\u636e\u76d8\uff08432TB\u5927\u5b58\u50a8\uff09\n\u251c\u2500\u2500 51-data &lt;--\u539f51\u5907\u4efd\u540e\u7684\u6570\u636e\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 username\n\u251c\u2500\u2500 52-data &lt;--\u539f52\u5907\u4efd\u540e\u7684\u6570\u636e\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 username\n\u251c\u2500\u2500 home &lt;--Zeus(191)\u767b\u9646\u540e\u7684home\u6587\u4ef6\u5939\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 ...\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 username\n\u251c\u2500\u2500 ...\n\u251c\u2500\u2500 ...\n\u2514\u2500\u2500 username &lt;--\u5728\u8fd9\u91cc\u89e3\u538b\u6570\u636e\u3001\u63d0\u4ea4\u8ba1\u7b97\n</code></pre>"},{"location":"wiki/cluster_usage/cluster_usage/#_7","title":"\u4f5c\u4e1a\u63d0\u4ea4","text":""},{"location":"wiki/cluster_usage/cluster_usage/#_8","title":"\u8ba1\u7b97\u8282\u70b9\u3001\u961f\u5217\u548c\u811a\u672c","text":"<p>\u901a\u8fc7<code>sinfo</code>\u547d\u4ee4\u53ef\u4ee5\u770b\u5230\uff0c\u76ee\u524d\u7684\u96c6\u7fa4\u5305\u62ec51/52/53\u4e09\u4e2a\u7c7b\u522b\uff0c\u5206\u522b\u4e3a51/52/53\u8ba1\u7b97\u96c6\u7fa4\uff0c51/52/53\u96c6\u7fa4\u7684\u8ba1\u7b97\u8282\u70b9\u5206\u522b\u5bf9\u5e94\u7f16\u53f7\u4e3a<code>c51-00x/c52-00x/c53-00x</code>\u3002</p> <pre><code>PARTITION   AVAIL  TIMELIMIT  NODES  STATE NODELIST\ngpu1           up   infinite      1   idle c51-g001\ngpu2           up   infinite      1   idle c51-g002\ngpu3           up   infinite      4   idle c51-m[001-004]\nc51-small      up      20:00     33   idle c51-[001-011,013-034]\nc51-medium     up   12:00:00     33   idle c51-[001-011,013-034]\nc51-large      up 1-00:00:00     33   idle c51-[001-011,013-034]\nc51-long       up 2-00:00:00     33   idle c51-[001-011,013-034]\nc51-xlong      up 3-00:00:00     33   idle c51-[001-011,013-034]\nc51-xlarge     up 1-00:00:00     33   idle c51-[001-011,013-034]\nc51-exlong     up 7-00:00:00     33   idle c51-[001-011,013-034]\nc52-small      up      20:00     40   idle c52-[001-040]\nc52-medium     up   12:00:00     40   idle c52-[001-040]\nc52-large      up 1-00:00:00     40   idle c52-[001-040]\nc52-long       up 2-00:00:00     40   idle c52-[001-040]\nc52-xlong      up 3-00:00:00     40   idle c52-[001-040]\nc52-xlarge     up 1-00:00:00     40   idle c52-[001-040]\nc52-exlong     up 7-00:00:00     40   idle c52-[001-040]\nc53-small      up      20:00     34   idle c53-[001-034]\nc53-medium     up   12:00:00     34   idle c53-[001-034]\nc53-large      up 1-00:00:00     34   idle c53-[001-034]\nc53-long       up 2-00:00:00     34   idle c53-[001-034]\nc53-xlong      up 3-00:00:00     34   idle c53-[001-034]\nc53-xlarge*    up 1-00:00:00     34   idle c53-[001-034]\n</code></pre> <p>\u7531\u4e8e\u5904\u7406\u5668\u6838\u6570\u4e0d\u540c\uff0c\u4efb\u52a1\u53ea\u80fd\u5728\u5177\u6709\u76f8\u540c\u6838\u6570\u7684\u8282\u70b9\u95f4\u5e76\u884c\uff0c\u7531\u6b64\u5bf9\u4e0d\u540c\u96c6\u7fa4\u7684\u8282\u70b9\u6309\u7167\u961f\u5217\u8fdb\u884c\u4e86\u5206\u7ec4\uff0c\u961f\u5217\u524d\u7f00\u5206\u522b\u4e3a<code>51-</code>/<code>52-</code>/<code>53-</code>\uff0c\u5176\u5bf9\u5e94\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684\u6838\u6570\u5206\u522b\u4e3a24/28/32\u3002\u901a\u8fc7<code>sinfo</code>\u547d\u4ee4\u53ef\u4ee5\u770b\u5230\u5f53\u524d\u96c6\u7fa4\u4e0a\u7684\u961f\u5217\u53ca\u5176\u4f7f\u7528\u60c5\u51b5\u3002</p> <p>\u73b0\u7f16\u53f7\u4e3a<code>c51-00x</code> \u7684\u8282\u70b9\u9700\u901a\u8fc7\u961f\u5217<code>c51-small</code>\u3001<code>c51-medium</code>\u3001<code>c51-large</code>\u7b49\u7b49\u6765\u8fdb\u884c\u63d0\u4ea4\uff0c\u5e76\u8bbe\u7f6e\u6838\u6570\u4e3a24\u7684\u500d\u6570\uff0824\uff0c48\uff0c72\u7b49\uff09\u4ee5\u786e\u5b9a\u8282\u70b9\u6570\uff0c<code>--ntasks-per-node=24</code>\u3002 \u4f7f\u7528\u8282\u70b9\u7684\u6570\u91cf\u901a\u8fc7\u603b\u6838\u6570\u9664\u4ee5\u6bcf\u4e2a\u8282\u70b9\u6838\u6570\u7684\u503c\u6765\u786e\u5b9a\u3002 \u540c\u7406\uff0c\u82e5\u60f3\u4f7f\u7528\u7f16\u53f7\u4e3a<code>c52-00x</code> \u7684\u8282\u70b9\uff0c\u5219\u961f\u5217\u540d\u4e3a<code>c52-small</code>\u3001<code>c52-medium</code>\u3001<code>c52-large</code>\u7b49\u7b49\uff0c\u6838\u6570\u4e3a28\u7684\u500d\u6570\uff0828\uff0c56\uff0c84\u7b49\uff09\uff0c<code>--ntasks-per-node=28</code>\uff1b\u82e5\u60f3\u4f7f\u7528\u7f16\u53f7\u4e3a<code>c53-00x</code> \u7684\u8282\u70b9\uff0c\u5219\u961f\u5217\u540d\u4e3a<code>c53-small</code>\u3001<code>c53-medium</code>\u3001<code>c53-large</code>\u7b49\u7b49\uff0c\u6838\u6570\u4e3a32\u7684\u500d\u6570\uff0832\uff0c64\uff0c96\u7b49\uff09\uff0c<code>--ntasks-per-node=32</code>\u3002</p> <p>GPU\uff08Tesla V100\u8282\u70b9\uff09\u548c\u80d6\u8282\u70b9\u4ecd\u6309\u716751\u8fdb\u884c\u7f16\u7ec4\uff0c\u7f16\u53f7\u5206\u522b\u4e3a<code>c51-g001</code>\u548c<code>c51-s001</code>\u3002</p> <p>\u76ee\u524d\u6bcf\u4e2a\u961f\u5217\u4ecd\u9650\u5236\u540c\u65f6\u8fd0\u884c4\u4e2a\u4efb\u52a1\u3001\u961f\u5217\u5185\u4f7f\u7528\u81f3\u591a12\u4e2a\u8282\u70b9\u3002\u65b0\u589e\u5168\u5c40\u4efb\u52a1\u9650\u5236\uff0c\u5373\u4e09\u7ec4\u961f\u5217\u603b\u5171\u4f7f\u7528\u6838\u6570\u4e0d\u8d85\u8fc7556\uff0c\u82e5\u8d85\u51fa\u6b64\u9650\u5236\u5219\u4efb\u52a1\u4f1a\u5904\u4e8ePEND\u72b6\u6001\u3002</p> <p>\u63d0\u4ea4\u811a\u672c\u793a\u4f8b\u653e\u5728<code>/data/share/base/scripts</code>\u91cc\u9762\uff0c\u8f6f\u4ef6\u7edf\u4e00\u5b89\u88c5\u5728<code>/data/share/apps</code>\u4e0b\uff0c\u76ee\u524d\u5b89\u88c5\u4e86VASP 5.4.4\u3001CP2K 7.1\u3001Gaussian 16\u3001Lammps\u3001Gromacs\u3001DeePMD-kit\u7b49\u3002</p> <p>\u8fd9\u91cc\u5bf9\u4f5c\u4e1a\u63d0\u4ea4\u811a\u672c\u4e3e\u4f8b\u8bf4\u660e\u5982\u4e0b\uff1a</p> cp2k.slurm<pre><code>#!/bin/bash\n\n#SBATCH -J cp2k\n#SBATCH -o cp2k.out.%j\n#SBATCH -e cp2k.err.%j\n#SBATCH -p c53-large\n#SBATCH -N 2\n#SBATCH --ntasks-per-node=32\n#SBATCH --exclusive\n#SBATCH --mem=8G\n\n# add modulefiles\nulimit -s unlimited\nmodule load intel/17.5.239 mpi/intel/2017.5.239\nmodule load gcc/5.5.0\nmodule load cp2k/7.1\n\nmpiexec.hydra cp2k.popt input.inp &gt;&amp; output_$LSB_JOBID\n</code></pre> <p>\u5176\u4e2d\uff1a</p> <ul> <li><code>#SBATCH -p \u961f\u5217\u540d</code> \u7528\u4e8e\u6307\u5b9a\u4f5c\u4e1a\u63d0\u4ea4\u7684\u961f\u5217\u3002</li> <li><code>#SBATCH -t hh:mm:ss</code> \u7528\u4e8e\u6307\u5b9a\u4efb\u52a1\u6240\u9700\u7684\u65f6\u95f4\uff08Walltime\uff09\uff0c\u82e5\u8fd0\u884c\u8d85\u8fc7<code>hh:mm:ss</code>\uff0c\u5219\u4efb\u52a1\u4f1a\u88ab\u7ba1\u7406\u7cfb\u7edf\u6740\u6b7b\u3002\u5bf9\u4e8e\u4e0d\u540c\u7c7b\u578b\u7684\u961f\u5217\uff0cWalltime\u4e0a\u9650\u6709\u6240\u4e0d\u540c\u3002\u5bf9<code>small</code>\u961f\u5217\u8981\u6c42\u572820\u5206\u949f\u4ee5\u5185\uff0c\u5bf9<code>medium</code>\u8981\u6c42\u572812\u5c0f\u65f6\u4ee5\u5185\uff0c\u5bf9<code>large</code>\u548c<code>xlarge</code>\u8981\u6c42\u572824\u5c0f\u65f6\u4ee5\u5185\uff0c\u5bf9<code>long</code>\u8981\u6c42\u572848\u5c0f\u65f6\u4ee5\u5185\uff0c\u5bf9<code>xlong</code>\u5219\u572872\u5c0f\u65f6\u4ee5\u5185\u3002</li> <li><code>#SBATCH --job-name=cp2k</code>\u6307\u5b9a\u4f5c\u4e1a\u540d\u79f0\uff0c\u4e00\u822c\u6309\u7167\u5b9e\u9645\u8ba1\u7b97\u6765\u53d6\u540d\u4ee5\u65b9\u4fbf\u67e5\u770b\u5b8c\u6210\u60c5\u51b5\u3002</li> <li><code>#SBATCH -N 2</code>\u6307\u5b9a\u4f5c\u4e1a\u63d0\u4ea4\u7684\u603b\u8282\u70b9\u6570\uff0c<code>#SBATCH --ntasks-per-node=32</code>\u6307\u5b9a\u63d0\u4ea4\u961f\u5217\u7684\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684CPU\u603b\u6838\u6570\uff0c\u4f8b\u5982\u8fd9\u91cc\u572853\u961f\u5217\u4e2d\u9009\u53d62\u4e2a\u8282\u70b9\u8fdb\u884c\u5e76\u884c\u8ba1\u7b97\uff0c\u5373\u4f7f\u7528\u4e8664\u4e2a\u6838\u3002</li> <li><code>#SBATCH --mem=8G</code> \u6307\u5b9a\u4f5c\u4e1a\u6240\u9700\u6d88\u8017\u7684\u5185\u5b58\uff0c\u4f8b\u5982\u8fd9\u91cc\u9650\u5236\u4f5c\u4e1a\u5360\u7528\u5185\u5b58\u4e3a 8 GB\u3002</li> <li><code>module load xxx</code>\u7528\u4e8e\u52a0\u8f7d\u73af\u5883\uff0c\u4fdd\u6301<code>/data/share/base/scripts</code>\u793a\u4f8b\u4e2d\u7684\u5199\u6cd5\u5373\u53ef\u3002</li> <li><code>mpiexec.hydra cp2k.popt input.inp &gt;&amp; output_$LSB_JOBID</code>\u662f\u5b9e\u9645\u6267\u884c\u4efb\u52a1\u7684\u547d\u4ee4\u3002</li> </ul> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u4efb\u52a1\u63d0\u4ea4\u811a\u672c\u5b9e\u9645\u4e0a\u662f\u4e00\u4e2a\u5177\u6709\u7279\u6b8a\u6ce8\u91ca\u683c\u5f0f\u7684 bash \u811a\u672c\u3002\u56e0\u6b64\u5728\u52a0\u8f7d\u73af\u5883\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528 bash \u8bed\u6cd5\u6765\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u3001\u63a7\u5236\u4efb\u52a1\u8fd0\u884c\u7684\u8def\u5f84\u3001\u8fdb\u884c\u6279\u5904\u7406\u7b49\u7b49\u3002</p> <p>\u6ce8\u610f</p> <p>\u5bf9\u4e8e <code>fat</code> \u548c <code>gpu*</code> \u961f\u5217\uff0c\u8bf7 \u52a1\u5fc5 \u6307\u5b9a\u4f5c\u4e1a\u6240\u9700\u7684\u5185\u5b58\u4e0d\u5c0f\u4e8e\u81ea\u5df1\u4efb\u52a1\u5b9e\u9645\u9700\u8981\u5185\u5b58\u5927\u5c0f\uff01 \u5426\u5219\u53ef\u80fd\u4f1a\u56e0\u4e3a\u5176\u4ed6\u4eba\u4efb\u52a1\u5c1a\u672a\u7ed3\u675f\u800c\u8fdf\u8fdf\u65e0\u6cd5\u8fd0\u884c\uff0c\u6216\u56e0\u4e3a\u7533\u8bf7\u4e86\u8fc7\u591a\u7684\u5185\u5b58\u8d44\u6e90\u800c\u4f7f\u5f97\u5176\u4ed6\u4efb\u52a1\u65e0\u6cd5\u63d0\u4ea4\u3002 \u4e3a\u4e86\u516c\u5e73\u4f7f\u7528\uff0c\u8bf7\u4e00\u5b9a\u9075\u5b88\u4e0a\u8ff0\u89c4\u5219\u3002 \u7ba1\u7406\u5458\u4f1a\u6839\u636e\u7528\u6237\u53cd\u9988\u76f4\u63a5\u6e05\u9664\u672a\u9075\u5faa\u89c4\u8303\u7684\u4efb\u52a1\u3002</p> <p>\u76f8\u5e94\u5730\uff0c\u5176\u4ed6\u8ba1\u7b97\u961f\u5217\u901a\u5e38\u4f1a\u4e00\u4e2a\u4efb\u52a1\u72ec\u5360\u82e5\u5e72\u8282\u70b9\uff0c\u56e0\u800c\u4e0d\u9700\u8981\u8bbe\u7f6e\u5185\u5b58\uff0c\u4fdd\u6301\u9ed8\u8ba4\u2014\u2014\u5360\u6ee1\u5373\u53ef\u3002 \u8003\u8651\u5230 DFT \u8ba1\u7b97\u672c\u8eab\u5bf9\u5185\u5b58\u6709\u4e00\u5b9a\u9700\u6c42\uff0c\u8bf7\u52a1\u5fc5\u6ce8\u610f\u81ea\u5df1\u7684\u8bbe\u7f6e\u7b26\u5408\u5b9e\u9645\u60c5\u51b5\uff0c\u4ee5\u514d\u6d6a\u8d39\u5b9d\u8d35\u7684\u65f6\u95f4\u548c\u673a\u65f6\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#_9","title":"\u4f5c\u4e1a\u63d0\u4ea4","text":"<p>\u82e5\u7528\u6237\u5df2\u7ecf\u51c6\u5907\u597d\u76f8\u5e94\u8ba1\u7b97\u7684\u8f93\u5165\u548c\u63d0\u4ea4\u811a\u672c\uff0c\u5219\u53ef\u4ee5\u5bf9\u4efb\u52a1\u8fdb\u884c\u63d0\u4ea4\u3002\u4f8b\u5982\u63d0\u4ea4\u811a\u672c\u6587\u4ef6\u540d\u4e3a<code>cp2k.slurm</code>\uff0c\u5219\u63d0\u4ea4\u547d\u4ee4\u4e3a\uff1a</p> <pre><code>sbatch cp2k.slurm\n</code></pre> <p>\u82e5\u63d0\u4ea4\u6210\u529f\uff0c\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u63d0\u793a\uff1a</p> <pre><code>Job &lt;1360&gt; is submitted to queue &lt;53-large&gt;\n</code></pre> <p>\u8868\u793a\u4efb\u52a1\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\u5230\u8282\u70b9\u4e0a\uff0c\u7f16\u53f7\u4e3a <code>1360</code>\u3002</p> <p>\u4efb\u52a1\u63d0\u4ea4\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7<code>squeue -u &lt;username&gt;</code>\u547d\u4ee4\u67e5\u770b\u81ea\u5df1\u4efb\u52a1\u7684\u8fd0\u884c\u60c5\u51b5\uff0c<code>&lt;username&gt;</code>\u5373\u81ea\u5df1\u7684\u7528\u6237\u540d\u3002</p> <pre><code>JOBID   USER    STAT  QUEUE      FROM_HOST   EXEC_HOST   JOB_NAME   SUBMIT_TIME\n1227    user    RUN   52-medium  mgt02       28*c52-032  CoX        Mar  9 22:35\n                                             28*c52-023\n1133    user    RUN   51-medium  mgt02       24*c51-024  Cu13       Mar  9 21:20\n                                             24*c51-031\n1360    user    PEND  53-large   mgt02                   cp2k       Mar 10 13:26\n</code></pre> <p>\u5176\u4e2d <code>JOBID</code> \u5373\u4e3a\u4efb\u52a1\u7f16\u53f7\uff0c<code>STAT</code> \u8868\u793a\u72b6\u6001\uff0c<code>RUN</code> \u5373\u4e3a\u6b63\u5728\u8fd0\u884c\uff0c\u800c <code>PEND</code> \u8868\u793a\u6b63\u5728\u6392\u961f\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u7a7a\u4f59\u8282\u70b9\u6570\u4e0d\u8db3\u3002\u53ef\u4ee5\u770b\u5230\uff0c1227\u548c1133\u53f7\u4efb\u52a1\u6b63\u5728\u8fd0\u884c\uff0c\u5206\u522b\u4f7f\u7528\u4e862\u4e2a\u8282\u70b9\uff0c\u521a\u521a\u63d0\u4ea4\u76841360\u53f7\u4efb\u52a1\u5219\u5728\u6392\u961f\u3002</p> <p>\u5982\u679c\u60f3\u8981\u505c\u6b62\u6216\u53d6\u6d88\u5df2\u7ecf\u63d0\u4ea4\u7684\u4efb\u52a1\uff0c\u5219\u4f7f\u7528\u547d\u4ee4\uff1a</p> <pre><code>bkill 1360\n</code></pre> <p>\u82e5\u770b\u5230 <code>Job &lt;1360&gt; is being terminated</code> \u7684\u63d0\u793a\uff0c\u5219\u8bf4\u660e\u505c\u6b62\u4efb\u52a1\u7684\u8bf7\u6c42\u5df2\u7ecf\u53d1\u51fa\u3002\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u8be5\u4efb\u52a1\u5373\u88ab\u6740\u6b7b\u3002</p> <p>\u94fe\u63a5</p> <ul> <li>\u66f4\u591a\u4f7f\u7528\u6559\u7a0b\u548c\u8bf4\u660e\u8bf7\u53c2\u8003\uff1aSlurm\u4f5c\u4e1a\u8c03\u5ea6\u7cfb\u7edf\u4f7f\u7528\u6307\u5357</li> <li>\u5173\u4e8eSlurm\u7cfb\u7edf\u548c\u5176\u4ed6\u8c03\u5ea6\u7cfb\u7edf\u95f4\u7684\u547d\u4ee4\u5bf9\u7167\uff0c\u8bf7\u53c2\u8003\u5b98\u65b9\u63d0\u4f9b\u7684 Rosetta\u77f3\u7891</li> </ul>"},{"location":"wiki/cluster_usage/cluster_usage/#_10","title":"\u767b\u51fa\u96c6\u7fa4","text":"<p>\u8bf7\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165:</p> <pre><code>exit\n</code></pre> <p>\u56de\u8f66\u5373\u53ef\u9000\u51fa\u767b\u9646\u3002</p>"},{"location":"wiki/cluster_usage/cluster_usage/#_11","title":"\u6821\u5916\u8bbf\u95ee","text":"<p>\u82e5\u4e3a\u5728\u6821\u5e08\u751f\uff0c\u53ef\u4f7f\u7528\u5b66\u6821\u63d0\u4f9b\u7684 SSLVPN \u767b\u9646\u96c6\u7fa4\u3002</p> <p>\u8be6\u7ec6\u914d\u7f6e\u65b9\u6cd5\u8bf7\u53c2\u9605\uff1aSSLVPN \u4f7f\u7528\u8bf4\u660e-\u53a6\u95e8\u5927\u5b66VPN\u4e13\u9898\u7f51\u7ad9\u3002</p>"},{"location":"wiki/cluster_usage/conda/","title":"Anaconda \u4f7f\u7528\u6307\u5357","text":""},{"location":"wiki/cluster_usage/conda/#_1","title":"\u521d\u59cb\u5316\u8bbe\u5b9a","text":"<p>\u767b\u5f55 HPC</p> <p><pre><code>module load miniconda/3\nconda init bash\n</code></pre> \u8fd9\u4f1a\u81ea\u52a8\u4fee\u9970\u4f60\u7684 <code>~/.bashrc</code> \u6587\u4ef6\u3002</p> <p>\u767b\u51faHPC\uff0c\u518d\u6b21\u767b\u9646</p> <p>\u6253\u5f00\u4f60\u7684~/.condarc\u6587\u4ef6</p> <pre><code>vim ~/.condarc\n</code></pre> <p>\u4fee\u6539\u4ee5\u4e0b\u6587\u4ef6\u5e76\u653e\u5165\u4f60\u7684~/.condarc\u91cc</p> <pre><code>channels:\n  - defaults\nssl_verify: true\nenvs_dirs:\n#modify, this is where your environment file in\n  - /data/ch2_101/conda/env\npkgs_dirs:\n#modify, this is where your package file in\n  - /data/ch2_101/conda/pkgs\n</code></pre> <p>\u9000\u51fa\u6587\u4ef6</p> <p>\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u786e\u8ba4\u4f60\u7684\u73af\u5883</p> <pre><code>conda env list\n</code></pre>"},{"location":"wiki/cluster_usage/conda/#_2","title":"\u521b\u5efa\u4f60\u81ea\u5df1\u7684\u73af\u5883","text":"<p>\u521b\u5efa\u4f60\u81ea\u5df1\u7684\u73af\u5883\uff0c\u4e4b\u540e\u90fd\u542f\u7528\u81ea\u5df1\u7684\u73af\u5883\u8fdb\u884c\u4f7f\u7528</p> <pre><code>conda create -n &lt;your env name&gt; python\n\nconda activate &lt;your env name&gt;\n</code></pre>"},{"location":"wiki/cluster_usage/conda/#_3","title":"\u4fee\u9970\u4f60\u7684\u7ec8\u7aef\u524d\u7f00","text":"<p>\u7528\u4e0a\u8ff0\u65b9\u6cd5\u521b\u9020\u7684\u73af\u5883\u4f1a\u5728\u4f60\u7684\u7ec8\u7aef\u547d\u4ee4\u884c\u524d\u52a0\u4e0a\u4e00\u957f\u4e32\u8def\u5f84\uff0c\u4f8b\uff1a</p> <pre><code>(/Users/USER_NAME/research/data-science/PROJECT_NAME/envs) $\n</code></pre> <p>\u53ef\u4ee5\u7528\u4ee5\u4e0b\u547d\u4ee4\u7f29\u77ed\u524d\u7f00</p> <pre><code>conda config --set env_prompt '({name})'\n</code></pre> <p>\u6b64\u547d\u4ee4\u4f1a\u4fee\u6539\u4f60\u7684<code>.condarc</code>\u6587\u4ef6</p> <p>\u53c2\u8003\u6587\u732e</p>"},{"location":"wiki/cluster_usage/conda/#jupyter-notebook","title":"\u5728\u96c6\u7fa4\u4e0a\u4f7f\u7528 Jupyter Notebook","text":"<p>\u8bf7\u53c2\u89c1 OpenSCOW/Open Ondemand\u4f7f\u7528\u8bf4\u660e\u3002</p>"},{"location":"wiki/cluster_usage/gpu_usage/","title":"\u4f7f\u7528\u96c6\u7fa4\u4e0a\u7684 GPU","text":""},{"location":"wiki/cluster_usage/gpu_usage/#gpu_1","title":"GPU \u961f\u5217\u6982\u51b5","text":"<p>GPU\u8282\u70b9\u8c03\u5ea6\u91c7\u7528Slurm\u8c03\u5ea6\u7cfb\u7edf\u8fdb\u884c\u7ba1\u7406\u3002\u7528\u6237\u4f7f\u7528\u65f6\uff0c\u8bf7\u5728**191\u8282\u70b9**\u4e0a\u63d0\u4ea4\u3001\u7ba1\u7406\u4efb\u52a1\u3002</p> <p>\u76ee\u524d\u8bfe\u9898\u7ec4GPU\u67096\u4e2a\u8282\u70b9\uff1a</p> <ul> <li><code>c51-g001</code>: \u8282\u70b9\u4e0a\u6709 4 \u5f20 Tesla V100\uff0c\u91c7\u7528\u961f\u5217\u540d<code>gpu1</code>\u8fdb\u884c\u63d0\u4ea4\u3002</li> <li><code>c51-g002</code>: \u8282\u70b9\u4e0a\u6709 4 \u5f20 A100\uff0c\u91c7\u7528\u961f\u5217\u540d<code>gpu2</code>\u8fdb\u884c\u63d0\u4ea4\u3002\u5176\u4e2d\u67092\u5f20\u5361\uff080,1\uff09\u4e3a\u5b8c\u6574\u7684A100 80G PCIe\uff0c\u53e6\u5916\u4e24\u5f20\uff082,3\uff09\u5df2\u5404\u81ea\u5207\u5206\u4e3a 7 \u4e2a MIG \u8ba1\u7b97\u5b9e\u4f8b\u3002</li> <li><code>c51-m001 c51-m002 c51-m003 c51-m004</code>\uff09: \u6bcf\u4e2a\u8282\u70b9\u4e0a\u6709 8 \u5f20 2080 Ti\uff0c\u91c7\u7528\u961f\u5217\u540d<code>gpu3</code>\u8fdb\u884c\u63d0\u4ea4\u3002</li> </ul> <p>6\u4e2a\u8282\u70b9\u5747\u53ef\u8054\u7cfb\u7ba1\u7406\u5458\u5f00\u901a\u4f7f\u7528\u6743\u9650\u3002</p>"},{"location":"wiki/cluster_usage/gpu_usage/#_1","title":"\u961f\u5217\u9009\u62e9\u6307\u5bfc\uff08\u4f9b\u53c2\u8003\uff09","text":"<p>\u4ee5\u4e0b\u90e8\u5206\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u6307\u5bfc\uff0c\u4ec5\u4f9b\u53c2\u8003\uff0c\u8bf7\u6839\u636e\u81ea\u5df1\u5b9e\u9645\u9700\u8981\u9009\u7528\u3002</p> <p><code>gpu3</code> \u961f\u5217\u4e0a\u670932\u5f20 Nvidia 2080Ti \u663e\u5361\uff0c\u6bcf\u5f20\u5361\u63d0\u4f9b\u7ea611 GB\u663e\u5b58\u3002\u57fa\u672c\u4e0a\u5e73\u65f6\u5bf9\u767e\u539f\u5b50\u7ea7\u522b DeePMD \u52bf\u51fd\u6570\u7684\u8bad\u7ec3\u4e43\u81f3MD\u90fd\u53ef\u4ee5\u5b8c\u6210\uff0c\u6545\u5e73\u65f6DP-GEN\u6d41\u7a0b\u4f7f\u7528\u8be5\u961f\u5217\u8fdb\u884c\u8ba1\u7b97\u5373\u53ef\u3002</p> <p><code>gpu1</code> \u961f\u5217\u914d\u7f6e\u67094\u5f20 Nvidia Tesla V100 \u663e\u5361\uff0c\u6bcf\u5f20\u5361\u63d0\u4f9b\u7ea632 GB\u663e\u5b58\uff0c\u4e14\u63d0\u4f9b\u5b8c\u6574\u7684\u53cc\u7cbe\u5ea6\u52a0\u901f\u652f\u6301\uff0c\u6545\u9002\u7528\u4e8e\u66f4\u5927\u4f53\u7cfb DeePMD \u7684\u8bad\u7ec3\u3002\u5bf9\u6a21\u578b\u8fdb\u884c\u957f\u8bad\u7ec3\u65f6\uff0c\u4e5f\u53ef\u4f7f\u7528\u6b64\u961f\u5217\u3002\u540c\u65f6\uff0c\u56e0\u5176\u5b8c\u6574\u7684\u53cc\u7cbe\u5ea6\u8ba1\u7b97\u652f\u6301\u4ee5\u53caNV-LINK\u7684\u5f15\u5165\uff0c\u4e00\u4e9b\u652f\u6301GPU\u52a0\u901f\u7684\u8ba1\u7b97\u8f6f\u4ef6\uff08\u5982VASP 6.1+\uff09\u4e5f\u63a8\u8350\u5728\u6b64\u8282\u70b9\u4e0a\u63d0\u4ea4\uff0c\u5e76\u53ef\u7528\u4e8e\u591a\u5361\u5e76\u884c\u3002</p> <p><code>gpu2</code> \u961f\u5217\u914d\u7f6e\u67094\u5f20 Nvidia A100 \u663e\u5361\u3002\u5176\u4e2d\u4e24\u5f20\u5361\u4e3a\u5b8c\u6574\u5361\uff0c\u6bcf\u5f20\u63d0\u4f9b80 GB\u663e\u5b58\uff0c\u4e14\u63d0\u4f9b\u5b8c\u6574\u7684\u53cc\u7cbe\u5ea6\u52a0\u901f\u652f\u6301\uff0c\u9002\u7528\u4e8e\u9700\u8981\u66f4\u5927\u4f53\u7cfb DeePMD \u8bad\u7ec3\u4ee5\u53ca\u66f4\u5927\u4f53\u7cfb\u7684GPU\u52a0\u901f\u8ba1\u7b97\uff0c\u4e5f\u9002\u7528\u4e8e\u66f4\u5927Batch\u6570\u636e\u96c6\u7684\u52a0\u8f7d\uff0c\u4f8b\u5982\u9700\u8981\u5185\u5b58\u8f83\u591a\u7684 NLP \u6a21\u578b\u3002\u4f46\u6ce8\u610fA100\u672a\u63d0\u4f9bNV-LINK\u548cNV-Switch\uff0c\u6545\u8bf7\u52ff\u8fdb\u884c\u591a\u5361\u5e76\u884c\u8ba1\u7b97\uff0c\u4ee5\u514d\u6548\u7387\u8fbe\u4e0d\u5230\u9884\u671f\u3002</p> <p>\u540c\u65f6\uff0cA100\u5f15\u5165\u4e86MIG\u529f\u80fd\uff0c\u53ef\u4ee5\u5c06\u5361\u62c6\u5206\u4e3a2-7\u4e2a\u5c0f\u578b\u7684GPU\u5b9e\u4f8b (GI)\uff0c\u6bcf\u4e2aGI\u53ef\u4ee5\u72ec\u7acb\u8fd0\u884cGPU\u8ba1\u7b97\u4efb\u52a1\uff0c\u901f\u5ea6\u76f8\u6bd4\u5728\u540c\u4e00\u5f20\u5361\u4e0a\u76f4\u63a5\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u4efb\u52a1\u7684\u60c5\u51b5\u4e0b\u6709\u660e\u663e\u63d0\u5347\uff0c\u4f46\u76f8\u6bd4\u5355\u4efb\u52a1\u901f\u5ea6\u4e0b\u964d50%\u4ee5\u5185\u3002\u76ee\u524d\uff0c\u8be5\u8282\u70b9\u914d\u7f6e\u4e3a2\u5f20\u5b8c\u6574\u768480 GB\u5361(0-1\u53f7\u5361)\u548c2\u5f20\u5207\u5206\u4e3a7\u4e2aGI\u7684\u5361(2-3\u53f7\u5361)\uff0c\u6bcf\u4e2aGI\u7684\u901f\u5ea6\u5927\u81f4\u4e0e2080Ti\u76f8\u8fd1\u4e14\u7565\u5f3a\uff0c\u6545\u53ef\u4ee5\u7528\u4e8eDP-GEN\u8bad\u7ec3\u3002\u901a\u8fc7Slurm\u8c03\u5ea6\u7cfb\u7edf\u53ef\u4ee5\u63a7\u5236\u4f7f\u7528\u5b8c\u6574\u7684 A100 \u8fd8\u662f\u5207\u5206\u540e\u7684\u5c0f\u5361\u3002</p>"},{"location":"wiki/cluster_usage/gpu_usage/#gpu_2","title":"\u63d0\u4ea4\u4efb\u52a1\u81f3 GPU","text":"<p>\u7531\u4e8e\u5609\u5e9a\u8d85\u7b97\u7684\u6295\u7528\uff0cSlurm\u7cfb\u7edf\u5c06\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\uff0c\u4e14\u540e\u8005\u53ef\u4ee5\u5b8c\u6574\u652f\u6301MIG\u7b49GPU\u786c\u4ef6\u65b0\u7279\u6027\uff0c\u6545\u76ee\u524d\u8ba1\u5212\u9010\u6b65\u5207\u6362\u81f3Slurm\u8c03\u5ea6\u3002 \u76ee\u524dGPU\u7684\u8c03\u5ea6\u5df2\u7ecf\u5168\u90e8\u5207\u6362\u81f3Slurm\u3002 \u5173\u4e8eSlurm\u4ecb\u7ecd\u7684\u90e8\u5206\u5c06\u5728\u5168\u9762\u8fc1\u79fb\u540e\uff0c\u72ec\u7acb\u6210\u4e00\u7bc7\u6587\u6863\u3002</p>"},{"location":"wiki/cluster_usage/gpu_usage/#gpu1-and-gpu3","title":"<code>gpu1</code>\u548c<code>gpu3</code>\u961f\u5217","text":"<p>\u5e38\u89c4\u4f7f\u7528<code>gpu1</code>\u961f\u5217\u548c<code>gpu3</code>\u961f\u5217\u7684\u793a\u4f8b\u811a\u672c\u653e\u5728<code>/data/share/base/scripts</code>\u4e0b\uff0c\u4e3e\u4f8b\u5982\u4e0b\uff1a</p> deepmd.sub<pre><code>#!/bin/bash\n#SBATCH -N 1\n#SBATCH --ntasks-per-node=1\n#SBATCH -t 96:00:00\n#SBATCH --partition=gpu3\n#SBATCH --gres=gpu:1\n#SBATCH --mem=8G\n\n# add modulefiles\nmodule add deepmd/2.0-cuda11.3\n\ndp train input.json 1&gt;&gt; train.log 2&gt;&gt; train.err\ndp freeze  1&gt;&gt; train.log 2&gt;&gt; train.log\n</code></pre> <p>\u5176\u4e2d <code>-N 1</code>\u8868\u793a\u4f7f\u75281\u4e2a\u8282\u70b9\uff0c<code>--ntasks-per-node=1</code> \u8868\u793a\u6bcf\u4e2a\u8282\u70b9\u4e0a\u4f7f\u75281\u4e2aCPU\u6838\uff0c<code>--partition=gpu3</code>\u5373\u8868\u793a\u63d0\u4ea4\u4efb\u52a1\u5230<code>gpu3</code>\u961f\u5217\u4e0a\uff0c<code>--gres=gpu:1</code>\u5373\u5206\u914d\u5176\u4e2d\u76841\u5f20\u5361\u7ed9\u4efb\u52a1\u3002<code>gpu3</code>\u4e2d\u6bcf\u4e2a\u8282\u70b9\u67098\u5f202080Ti\u5361\uff0c\u56e0\u800c\u4e0a\u8ff0\u547d\u4ee4\u7ec4\u5408\u8d77\u6765\u5373\u8868\u793a\u5206\u914d1\u4e2a\u8282\u70b9\u4e0a\u76841\u4e2aCPU\u6838\u4ee5\u53ca1\u5f202080Ti\u5361\u7528\u4e8e\u8ba1\u7b97\u3002</p> <p>\u82e5\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u961f\u5217\uff0c\u53ea\u9700\u5c06<code>--partition</code>\u7684\u53c2\u6570\u4fee\u6539\u4e3a\u5bf9\u5e94\u7684\u961f\u5217\uff0c\u5373<code>gpu1</code>\u548c<code>gpu3</code>\u3002</p> <p>\u5173\u4e8e\u5185\u5b58\u7528\u91cf\u7684\u8bf4\u660e</p> <p>\u6ce8\u610f <code>--mem=8G</code> \u8868\u793a\u5185\u5b58\u6d88\u8017\u4e3a 8 GB\u3002\u76ee\u524d\u96c6\u7fa4\u8bbe\u7f6e\u4e86\u9ed8\u8ba4\u503c\uff0c\u5373\u5728\u4e0d\u5199\u7684\u60c5\u51b5\u4e0b\uff0c\u6bcf\u5206\u914d 1 \u5f20GPU\u5361\u53ef\u4f7f\u7528 16 GB \u7269\u7406\u5185\u5b58\u3002 \u82e5\u9700\u8981\u66f4\u591a\u7269\u7406\u5185\u5b58\uff0c\u8bf7\u624b\u52a8\u6307\u5b9a\u8be5\u503c\u4e3a\u66f4\u5927\u7684\u6570\u503c\uff0c\u4ee5\u514d\u4efb\u52a1\u7531\u4e8e\u8d85\u51fa\u9ed8\u8ba4\u5185\u5b58\u9650\u5236\u6216\u56e0\u4e3a\u5176\u4ed6\u4efb\u52a1\u6324\u5360\u3001\u8d44\u6e90\u4e0d\u8db3\u800c\u88ab\u7cfb\u7edf\u56e0 OOM (Out of Memory) \u539f\u56e0\u5f3a\u5236\u9000\u51fa\u3002 \u4f8b\u5982\uff1a<code>--mem=24G</code> \u5373\u53ef\u5206\u914d\u6bcf\u4e2a\u4efb\u52a1\u4f7f\u752824GB\u5185\u5b58\u3002 \u76ee\u524d <code>gpu1</code> \u548c <code>gpu2</code> \u961f\u5217\u6bcf\u4e2a\u8282\u70b9\u7684\u603b\u5185\u5b58\u4e3a 256 GB\uff0c <code>gpu3</code> \u961f\u5217\u6bcf\u4e2a\u8282\u70b9\u603b\u5185\u5b58\u4e3a 128 GB\uff0c\u56e0\u800c\u6ce8\u610f\u5982\u679c\u6bcf\u4e2a\u4efb\u52a1\u5206\u914d\u5185\u5b58\u8fc7\u5927\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5361\u7a7a\u7f6e\u4f46\u6ca1\u6709\u8db3\u591f\u7684\u5185\u5b58\u5206\u914d\u7684\u95ee\u9898\u3002 \u56e0\u6b64\u8bf7\u52a1\u5fc5\u6839\u636e\u81ea\u5df1\u7684\u5b9e\u9645\u9700\u8981\u6307\u5b9a\u8be5\u53c2\u6570\u4ee5\u4fdd\u8bc1\u516c\u5e73\u4f7f\u7528\uff01</p>"},{"location":"wiki/cluster_usage/gpu_usage/#gpu2","title":"<code>gpu2</code>\u961f\u5217","text":"<p><code>gpu2</code>\u961f\u5217\u63d0\u4f9b\u4e862\u5f20\u5b8c\u6574A100 80G\u5361\u4f9b\u5927\u4efb\u52a1\u4f7f\u7528\uff0c\u4ee5\u53ca2\u5f20\u5206\u5361\u517114\u4e2a\u5b9e\u4f8b\u4f9b\u76f8\u5bf9\u6bd4\u8f83\u96f6\u6563\u7684\u4efb\u52a1\u4f7f\u7528\u3002</p> <p>\u5b8c\u6574\u5361\u4f7f\u7528\u65f6\uff0c\u53ef\u53c2\u7167 <code>gpu1</code>\u548c<code>gpu3</code>\u961f\u5217\uff0c\u5c06<code>--gres</code>\u7684\u53c2\u6570\u6539\u4e3a<code>gpu:a100:1</code>\u5373\u53ef\uff0c\u5176\u4e2d1\u4ecd\u8868\u793a\u5206\u914d1\u5f20\u5361\u3002</p> <p>MIG \u5b9e\u4f8b\uff08\u5373\u4fd7\u79f0\u7684A100\u5206\u5361\u3001\u5c0f\u5361\uff09\u7684\u4f7f\u7528\u811a\u672c\u653e\u5728<code>/data/share/base/scripts</code>\u4e0b\uff0c\u4e3e\u4f8b\u5982\u4e0b\uff1a</p> cp2k_mig.sub<pre><code>#!/bin/bash -l\n#SBATCH --parsable\n#SBATCH --nodes 1\n#SBATCH --ntasks-per-node 1\n#SBATCH --partition gpu2\n#SBATCH --gres=gpu:1g.10gb:1\n#SBATCH --time=96:00:00\n#SBATCH --mem=4G\n\nmodule load deepmd/2.1\ncp2k.ssmp -i input.inp 1&gt;&gt;output 2&gt;&gt;err.log\n</code></pre> <p>\u5176\u4e2d<code>--gres=gpu:1g.10gb:1</code>\u5373\u8868\u793a\u5206\u914d 1 \u4e2aMIG\u5b9e\u4f8b\u7ed9\u4efb\u52a1\u4f7f\u7528\u3002</p> <p>\u6ce8\u610f</p> <p>A100\u5206\u914dGPU\u7684\u547d\u4ee4\u9700\u8981\u5199\u660e\u786c\u4ef6\u7c7b\u578b\uff0c\u5426\u5219Slurm\u5728\u5206\u914d\u8d44\u6e90\u65f6\u65e0\u6cd5\u533a\u5206\u3002</p>"},{"location":"wiki/cluster_usage/gpu_usage/#slurm","title":"\u5173\u4e8eSlurm\u4f5c\u4e1a\u7ba1\u7406\u7cfb\u7edf","text":"<p>\u82e5\u7528\u6237\u5df2\u7ecf\u51c6\u5907\u597d\u76f8\u5e94\u8ba1\u7b97\u7684\u8f93\u5165\u548c\u63d0\u4ea4\u811a\u672c\uff0c\u5219\u53ef\u4ee5\u5bf9\u4efb\u52a1\u8fdb\u884c\u63d0\u4ea4\u3002\u4f8b\u5982\u63d0\u4ea4\u811a\u672c\u6587\u4ef6\u540d\u4e3a<code>deepmd.sub</code>\uff0c\u5219\u63d0\u4ea4\u547d\u4ee4\u4e3a\uff1a</p> <pre><code>sbatch deepmd.sub\n</code></pre> <p>\u82e5\u63d0\u4ea4\u6210\u529f\uff0c\u53ef\u4ee5\u770b\u5230\u4ee5\u4e0b\u63d0\u793a\uff1a</p> <pre><code>Submitted batch job 630\n</code></pre> <p>\u8868\u793a\u4efb\u52a1\u5df2\u7ecf\u6210\u529f\u63d0\u4ea4\u5230\u8282\u70b9\u4e0a\uff0c\u7f16\u53f7\u4e3a <code>630</code>\u3002</p> <p>\u4efb\u52a1\u63d0\u4ea4\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7<code>squeue</code>\u547d\u4ee4\u67e5\u770b\u96c6\u7fa4\u4e0a\u4efb\u52a1\u7684\u8fd0\u884c\u60c5\u51b5\u3002</p> <pre><code>JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON)\n  620      gpu2    100-2     user  R    5:47:46      1 c51-g002\n  619      gpu2    150-2     user  R    7:19:49      1 c51-g002\n  630      gpu3 deepmd.s    ypliu PD       0:00      1 (Resources)\n  623      gpu3 deepmd.s     user  R       0:22      1 c51-m001\n  625      gpu3    ec_dp     user  R      55:28      1 c51-m001\n  610      gpu3 deepmd.s     user  R   19:04:13      1 c51-m003\n  609      gpu3 deepmd.s     user  R   19:05:22      1 c51-m002\n</code></pre> <p>\u5176\u4e2d <code>JOBID</code> \u5373\u4e3a\u4efb\u52a1\u7f16\u53f7\uff0c<code>ST</code> \u8868\u793a\u72b6\u6001\uff0c<code>R</code> \u5373\u4e3a\u6b63\u5728\u8fd0\u884c\uff0c\u800c <code>PD</code> \u8868\u793a\u6b63\u5728\u6392\u961f\uff0c\u53ef\u80fd\u662f\u56e0\u4e3a\u7a7a\u4f59\u5361\u6570\u4e0d\u8db3\u3002\u53ef\u4ee5\u770b\u5230\uff0c623\u53f7\u4efb\u52a1\u6b63\u5728\u8fd0\u884c\uff0c\u53ef\u80fd\uff0c\u521a\u521a\u63d0\u4ea4\u7684630\u53f7\u4efb\u52a1\u5219\u5728\u6392\u961f\u3002</p> <p>\u5982\u679c\u60f3\u8981\u505c\u6b62\u6216\u53d6\u6d88\u5df2\u7ecf\u63d0\u4ea4\u7684\u4efb\u52a1\uff0c\u5219\u4f7f\u7528\u547d\u4ee4\uff1a</p> <pre><code>scancel 630\n</code></pre> <p>\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u8be5\u4efb\u52a1\u5373\u88ab\u6740\u6b7b\u3002</p> <p>Slurm \u4e0e LSF \u547d\u4ee4\u5bf9\u7167\u8868\u5982\u4e0b\u6240\u793a\uff1a</p> LSF Slurm \u63cf\u8ff0 <code>bsub &lt; script_file</code> <code>sbatch script_file</code> \u63d0\u4ea4\u4efb\u52a1\uff0c\u4f5c\u4e1a\u811a\u672c\u540d\u4e3a<code>script_file</code> <code>bkill 123</code> <code>scancel 123</code> \u53d6\u6d88\u4efb\u52a1\uff0c\u4f5c\u4e1a ID \u53f7\u4e3a 123 <code>bjobs</code> <code>squeue</code> \u6d4f\u89c8\u5f53\u524d\u7528\u6237\u63d0\u4ea4\u7684\u4f5c\u4e1a\u4efb\u52a1 <code>bqueues</code> <code>sinfo</code><code>sinfo -s</code> \u6d4f\u89c8\u5f53\u524d\u8282\u70b9\u548c\u961f\u5217\u4fe1\u606f\uff0c'-s'\u547d\u4ee4\u8868\u793a\u7b80\u6613\u8f93\u51fa <code>bhosts</code> <code>sinfo -N</code> \u67e5\u770b\u5f53\u524d\u8282\u70b9\u5217\u8868 <code>bjobs -l 123</code> <code>scontrol show job 123</code> \u67e5\u770b 123 \u53f7\u4efb\u52a1\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u82e5\u4e0d\u6307\u5b9a\u4efb\u52a1\u53f7\u5219\u8f93\u51fa\u5f53\u524d\u6240\u6709\u4efb\u52a1\u4fe1\u606f <code>bqueues -l queue</code> <code>scontrol show partition queue</code> \u67e5\u770b\u961f\u5217\u540d\u4e3a<code>queue</code>\u7684\u961f\u5217\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u82e5\u4e0d\u6307\u5b9a\u961f\u5217\u5219\u8fd4\u56de\u5f53\u524d\u6240\u6709\u53ef\u7528\u961f\u5217\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 <code>bhosts -l g001</code> <code>scontrol show node g001</code> \u67e5\u770b\u8282\u70b9\u540d\u4e3a <code>g001</code>\u7684\u8282\u70b9\u72b6\u6001\u3002\u82e5\u4e0d\u6307\u5b9a\u8282\u70b9\u5219\u8fd4\u56de\u5f53\u524d\u6240\u6709\u8282\u70b9\u4fe1\u606f\u3002 <code>bpeek 123</code> <code>speek 123</code> * \u67e5\u770b 123 \u53f7\u4efb\u52a1\u7684\u6807\u51c6\u8f93\u51fa\u3002 <p>* <code>speek</code> \u547d\u4ee4\u4e0d\u662f Slurm \u6807\u51c6\u547d\u4ee4\uff0c\u4ec5\u9002\u7528\u539f Metal \u96c6\u7fa4\u4f7f\u7528\u3002</p> <p>\u4f5c\u4e1a\u63d0\u4ea4\u811a\u672c\u5bf9\u7167\u8868\uff1a</p> LSF Slurm \u63cf\u8ff0 <code>#BSUB</code> <code>#SBATCH</code> \u524d\u7f00 <code>-q queue_name</code> <code>-p queue_name</code> \u6216 <code>--partition=queue_name</code> \u6307\u5b9a\u961f\u5217\u540d\u79f0 <code>-n 64</code> <code>-n 64</code> \u6307\u5b9a\u4f7f\u752864\u4e2a\u6838 --- <code>-N 1</code> \u4f7f\u75281\u4e2a\u8282\u70b9 <code>-W [hh:mm:ss]</code> <code>-t [minutes]</code> \u6216 <code>-t [days-hh:mm:ss]</code> \u6307\u5b9a\u6700\u5927\u4f7f\u7528\u65f6\u95f4 <code>-o file_name</code> <code>-o file_name</code> \u6307\u5b9a\u6807\u51c6\u8f93\u51fa\u6587\u4ef6\u540d <code>-e file_name</code> <code>-e file_name</code> \u6307\u5b9a\u62a5\u9519\u4fe1\u606f\u6587\u4ef6\u540d <code>-J job_name</code> <code>--job-name=job_name</code> \u4f5c\u4e1a\u540d <code>-M 128</code> <code>-mem-per-cpu=128M</code> \u6216 <code>--mem-per-cpu=1G</code> \u9650\u5236\u5185\u5b58\u4f7f\u7528\u91cf <code>-R \"span[ptile=16]\"</code> <code>--tasks-per-node=16</code> \u6307\u5b9a\u6bcf\u4e2a\u6838\u4f7f\u7528\u7684\u8282\u70b9\u6570 <p>\u901a\u8fc7 <code>scontrol</code> \u547d\u4ee4\u53ef\u4ee5\u65b9\u4fbf\u5730\u4fee\u6539\u4efb\u52a1\u7684\u961f\u5217\u3001\u622a\u6b62\u65f6\u95f4\u3001\u6392\u9664\u8282\u70b9\u7b49\u4fe1\u606f\uff0c\u4f7f\u7528\u65b9\u6cd5\u7c7b\u4f3c\u4e8e LSF \u7cfb\u7edf\u7684 <code>bmod</code> \u547d\u4ee4\uff0c\u4f46\u4f7f\u7528\u4e0a\u66f4\u52a0\u7b80\u6d01\u3002</p> <p>\u94fe\u63a5</p> <p>\u66f4\u591a\u4f7f\u7528\u6559\u7a0b\u548c\u8bf4\u660e\u8bf7\u53c2\u8003\uff1aSlurm\u4f5c\u4e1a\u8c03\u5ea6\u7cfb\u7edf\u4f7f\u7528\u6307\u5357</p>"},{"location":"wiki/cluster_usage/gpu_usage/#dpgen-gpu","title":"dpgen \u63d0\u4ea4 GPU \u4efb\u52a1\u53c2\u6570\u8bbe\u7f6e","text":"<p>\u8bf7\u53c2\u8003DP-GEN\u4f7f\u7528\u8bf4\u660e\u3002</p>"},{"location":"wiki/cluster_usage/notification_for_hpc/","title":"\u8ba1\u7b97\u4efb\u52a1\u7684\u63a8\u9001","text":""},{"location":"wiki/cluster_usage/notification_for_hpc/#_2","title":"\u63a8\u9001\u81f3\u9489\u9489","text":"<p>\u8ba1\u7b97\u8282\u70b9\u53ef\u8bbf\u95ee\u4e92\u8054\u7f51\u7684\u670d\u52a1\u5668\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u4efb\u52a1\u5b8c\u6210\u540e\u63a8\u9001\u5230\u9489\u9489\u3002\u6548\u679c\u5982\u4e0b</p> <p></p>"},{"location":"wiki/cluster_usage/notification_for_hpc/#_3","title":"\u7533\u8bf7\u9489\u9489\u673a\u5668\u4eba","text":"<p>\u7533\u8bf7\u6b65\u9aa4\u9700\u8981\u5728PC\u7aef\u9489\u9489\u64cd\u4f5c</p> <p>\u9996\u5148\u9700\u8981\u7533\u8bf7\u4e00\u4e2a\u9489\u9489\u673a\u5668\u4eba\uff0c\u5e76\u62ff\u5230 <code>webhook</code> \uff0c\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ol> <li> <p>\u70b9\u51fb\u5934\u50cf\u2192<code>\u673a\u5668\u4eba\u7ba1\u7406</code></p> </li> <li> <p>\u6dfb\u52a0 <code>\u81ea\u5b9a\u4e49</code> \u673a\u5668\u4eba</p> </li> </ol> <p></p> <ol> <li>\u7fa4\u7ec4\u9009\u62e9\u5de5\u4f5c\u901a\u77e5\uff0c\u5b89\u5168\u8bbe\u7f6e\u4e2d\u6dfb\u52a0\u5173\u952e\u8bcd Job, info</li> </ol> <p></p> <ol> <li>\u590d\u5236\u673a\u5668\u4eba\u7684 <code>webhook</code></li> </ol>"},{"location":"wiki/cluster_usage/notification_for_hpc/#_4","title":"\u670d\u52a1\u5668\u4e0a\u8bbe\u7f6e\u63a8\u9001","text":"<p>\u5728\u670d\u52a1\u5668\u63d0\u4ea4\u811a\u672c\u4e2d\u52a0\u4e0a <code>module load notification</code> \uff0c\u5e76\u5728\u6700\u540e\u52a0\u4e0a <code>dingtalk_notification WEBHOOK</code> \u5373\u53ef\u5b9e\u73b0\u63a8\u9001\u81f3\u9489\u9489\u3002\u793a\u4f8b\u811a\u672c\u5982\u4e0b:</p> <pre><code>#!/bin/bash\n#BSUB -J \"test\"\n#BSUB -o %J.txt\n#BSUB -e %J.txt\n#BSUB -q large\n#BSUB -n 2\n#BSUB -W 12:00\n\nmodule load notification\n\nMPIRUN_COMMAND  # your command to run software\n\ndingtalk_notification https://oapi.dingtalk.com/robot/send?access_token=xxxx  # replace it by your webhook\n</code></pre> <p>\u5176\u4e2d <code>notification</code> \u7684\u793a\u4f8b\u5982\u4e0b\uff0c\u8bf7\u81ea\u884c\u7f16\u8f91<code>modulefile</code>\u6587\u4ef6\uff08\u53ef\u53c2\u8003\u6b64\u5904\uff09\uff0c\u5e76\u66ff\u6362 <code>&lt;YOUR_HPC_NAME&gt;</code> \u4e0e <code>&lt;YOUR_IP&gt;</code> \u7684\u503c:</p> <pre><code>#%Module\n\nset-alias    dingtalk_notification {\n    curl $1 \\\n        -H 'Content-Type: application/json' \\\n        -d '{\n            \"msgtype\": \"markdown\",\n            \"markdown\": {\n                \"title\":\"Job Info\",\n                \"text\": \"'\"Job Info \\\\n\n\\\\n\nJob $LSB_JOBID is finished in **&lt;YOUR_HPC_NAME&gt;**! \\\\n\n\\\\n\n&gt; Server ip: **&lt;YOUR_IP&gt;** \\\\n\n&gt; \\\\n\n&gt; Job id: **$LSB_JOBID** \\\\n\n&gt; \\\\n\n&gt; Job name: **$LSB_JOBNAME** \\\\n\n&gt; \\\\n\n&gt; Job queue: **$LSB_QUEUE** \\\\n\n&gt; \\\\n\n&gt; Job workdir: **$LS_EXECCWD** \\\\n\"'\"\n            }\n        }'\n}\n</code></pre>"},{"location":"wiki/cluster_usage/open_ondemand/","title":"OpenSCOW/Open Ondemand \u4f7f\u7528\u8bf4\u660e","text":""},{"location":"wiki/cluster_usage/open_ondemand/#_1","title":"\u4ecb\u7ecd","text":"<p>\u4e3a\u65b9\u4fbf\u5728HPC\u96c6\u7fa4\u4e0a\u6267\u884c\u4e00\u4e9b\u4ea4\u4e92\u7c7b\u5e94\u7528\uff0c\u6211\u4eec\u5728 ChengLab HPC \u96c6\u7fa4\u7684 <code>mgt02</code> \u8282\u70b9\u90e8\u7f72\u4e86 OpenSCOW \u8d85\u7b97\u95e8\u6237\u548c Open Ondemand (OOD) \u5b9e\u4f8b\u3002\u4f7f\u7528\u8be5\u670d\u52a1\u53ef\u53c2\u8003\u4ee5\u4e0b\u6b65\u9aa4\u3002</p>"},{"location":"wiki/cluster_usage/open_ondemand/#_2","title":"\u524d\u7f6e\u51c6\u5907","text":""},{"location":"wiki/cluster_usage/open_ondemand/#_3","title":"\u8bbe\u7f6e\u7528\u6237\u5bc6\u7801","text":"<p>\u7531\u4e8e SCOW \u548c OOD \u5747\u4f7f\u7528 PAM \u8ba4\u8bc1\uff0c\u56e0\u6b64\u9700\u8981\u4e3a\u767b\u5f55\u7528\u6237\u8bbe\u7f6e\u76f8\u5e94\u7684\u5bc6\u7801\u3002\u76ee\u524d\u65b0\u589e\u7528\u6237\u7684\u5bc6\u7801\u5df2\u7ecf\u91c7\u7528\u968f\u673a\u5bc6\u7801\uff0c\u8001\u7528\u6237\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458\u83b7\u53d6\u6216\u91cd\u7f6e\u5bc6\u7801\u3002 \u9a8c\u8bc1\u6b65\u9aa4\uff1a</p> <ul> <li>\u767b\u5f55\u5230 <code>mgt02</code> \u8282\u70b9</li> <li>\u6267\u884c <code>passwd</code> \u8bbe\u7f6e\u7528\u6237\u5bc6\u7801\uff0c\u5982\u5bc6\u7801\u672a\u77e5\u53ef\u627e\u7ba1\u7406\u5458\u83b7\u53d6\u6216\u91cd\u7f6e</li> <li>\u6267\u884c <code>pamtester sshd $(whoami) authenticate</code> \u6d4b\u8bd5\u5bc6\u7801\u662f\u5426\u751f\u6548\uff0c\u5982\u9047\u95ee\u9898\u8bf7\u7b49\u5f851\u5206\u949f\u540e\u91cd\u8bd5\uff0c\u9047\u95ee\u9898\u53ef\u627e\u7ba1\u7406\u5458\u5904\u7406</li> </ul>"},{"location":"wiki/cluster_usage/open_ondemand/#openscow","title":"OpenSCOW","text":"<p>\u8be5\u5b9e\u4f8b\u5305\u542b\u4e00\u5957\u4ea4\u4e92\u5f0f\u4f5c\u4e1a\u63d0\u4ea4\u5165\u53e3\u548c Jupyter\u3001VS Code \u5e94\u7528\u5165\u53e3\uff0c\u672a\u6765\u53ef\u6839\u636e\u9700\u8981\u90e8\u7f72\u66f4\u591a\u5e94\u7528\u3002</p> <p>\u8bf7\u5728\u5185\u7f51\u8bbf\u95ee http://172.27.127.191:8081 \u5373\u53ef\u4f7f\u7528\uff0c\u6ce8\u610f\u7528\u6237\u540d\u548c\u5bc6\u7801\u53c2\u7167\u4e0a\u65b9\u7684\u6307\u5f15\u914d\u7f6e\u3002</p> <p>\u4ee5\u4e0b\u90e8\u5206\u5f15\u7528\u81ea\u5609\u5e9a\u667a\u7b97\u7528\u6237\u624b\u518c</p>"},{"location":"wiki/cluster_usage/open_ondemand/#_4","title":"\u4e3b\u754c\u9762\u4ecb\u7ecd","text":"<ul> <li>\u4eea\u8868\u76d8\uff1a\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff0c\u5feb\u6377\u5165\u53e3\u548c\u5e73\u53f0\u6982\u89c8</li> <li>\u5feb\u6377\u5165\u53e3\u70b9\u51fb\u540e\u9762\u7684+\u53f7\u53ef\u4ee5\u81ea\u5b9a\u4e49\u9700\u8981\u5bfc\u5165\u7684\u6a21\u5757\uff0c\u4f8b\u5982\u53ef\u4ee5\u6dfb\u52a0\u6309\u94ae\u5feb\u901f\u5728\u96c6\u7fa4\u4e0a\u63d0\u4ea4 VSCode \u4f5c\u4e1a    </li> <li>\u7f51\u9875\u7aef\u53ef\u63d0\u4ea4\u4f5c\u4e1a\u81f3\u96c6\u7fa4</li> <li>\u8fdb\u5165 SCOW \u5e73\u53f0\u540e\uff0c\u70b9\u51fb\u63d0\u4ea4\u4f5c\u4e1a     </li> <li>\u9700\u586b\u5199\u547d\u4ee4\u3001\u5206\u533a\u3001QOS\u3001\u8282\u70b9\u6570\u3001\u5355\u8282\u70b9\u6838\u5fc3\u6570\u3001\u6700\u957f\u8fd0\u884c\u65f6\u95f4\uff0c\u786e\u8ba4\u65e0\u8bef\u540e\u53ef\u70b9\u51fb\u4e0b\u9762\u63d0\u4ea4\u6309\u94ae\uff08\u4e5f\u53ef\u4ee5\u63d0\u4ea4\u65f6\u9009\u62e9\u4fdd\u5b58\u4e3a\u6a21\u677f\uff0c\u65b9\u4fbf\u540c\u7c7b\u578b\u4f5c\u4e1a\u63d0\u4ea4\uff09     </li> <li>\u5982\u6ca1\u6709\u62a5\u9519\uff0c\u63d0\u4ea4\u540e\u4f1a\u8df3\u8f6c\u5230\u672a\u7ed3\u675f\u7684\u4f5c\u4e1a\u6a21\u5757\uff08\u53ef\u4ee5\u540c\u65f6\u9009\u4e0a\u4f5c\u4e1a\u6a21\u677f\uff0c\u65b9\u4fbf\u540c\u7c7b\u578b\u4f5c\u4e1a\u63d0\u4ea4\uff09\uff0c\u63d0\u4ea4\u6210\u529f\u548c\u4f5c\u4e1aID     </li> <li>\u70b9\u51fb\u4f5c\u4e1a\u4e2d\u7684\u8fdb\u5165\u76ee\u5f55\uff0c\u53ef\u4ee5\u770b\u5230\u4f5c\u4e1a\u6807\u51c6/\u9519\u8bef\u8f93\u51fa\u6587\u4ef6\uff0c\u652f\u6301\u4e0b\u8f7d\u3001\u91cd\u547d\u540d\u3001\u5220\u9664\u3001\u63d0\u4ea4     </li> <li>\u96c6\u7fa4\u547d\u4ee4\u884c\u754c\u9762\u767b\u5f55\uff1a\u4ece Shell \u6a21\u5757\u4e2d\u53ef\u8fdb\u5165\u5230\u547d\u4ee4\u884c\u754c\u9762      </li> <li>\u4f5c\u4e1a\u6a21\u677f\uff1a\u53ef\u4fdd\u5b58\u4e4b\u524d\u63d0\u4ea4\u8fc7\u7684\u4f5c\u4e1a\u811a\u672c     </li> <li>\u652f\u6301\u67e5\u770b\u672c\u7528\u6237\u6240\u6709\u5386\u53f2\u4f5c\u4e1a\uff0c\u53ef\u6309\u6279\u91cf\u641c\u7d22\uff08\u6309\u96c6\u7fa4\uff09\u3001\u7cbe\u786e\u641c\u7d22\uff08\u6309\u96c6\u7fa4+\u4f5c\u4e1a ID\uff09     </li> <li>\u5e73\u53f0\u6982\u89c8\uff1a\u5305\u62ec\u96c6\u7fa4 CPU\u3001GPU \u7a7a\u95f2\u53ef\u7528\u8282\u70b9\uff0c\u4f5c\u4e1a\u6392\u961f\u60c5\u51b5\u7b49     </li> <li>\u4ea4\u4e92\u5f0f\u5e94\u7528\u6a21\u5757</li> <li>\u7528\u6237\u53ef\u4ee5\u5728\u6b64\u4f7f\u7528\u5e73\u53f0\u63d0\u4f9b\u7684\u4ea4\u4e92\u5f0f\u5e94\u7528\uff0c\u5e76\u63d0\u4ea4\u5230\u96c6\u7fa4\u4f5c\u4e1a\u7ba1\u7406\u7cfb\u7edf\u4e0a\uff0c\u5982 Jupyter\u3001 VS Code \u7b49\u3002         </li> <li>\u4f8b\u5982\u63d0\u4ea4 Jupyter Lab \u4f5c\u4e1a\uff0c\u5219\u70b9\u51fb\u4e0a\u56fe\u4e2d JupyterLab \u7684\u6309\u94ae\uff0c\u7136\u540e\u914d\u7f6e\u6240\u9700\u7684\u4f5c\u4e1a\u53c2\u6570              \u5982\u56fe\u6240\u793a\uff0c\u8fd9\u79cd\u60c5\u51b5\u5219\u7528\u6237\u63d0\u4ea4\u4f5c\u4e1a\uff0c\u5728\u81ea\u5df1\u7528\u6237\u4e0b\u7684 <code>local</code> \u73af\u5883\u4e2d\u521b\u5efa Jupyter \u4f5c\u4e1a\uff0c\u5e76\u5728\u52a0\u8f7d conda \u73af\u5883\u524d\u52a0\u8f7d <code>cuda/11.8</code> \u73af\u5883\u3002\u8be5\u4f5c\u4e1a\u5c06\u88ab\u63d0\u4ea4\u5230 <code>gpu3</code> \u961f\u5217\u4e2d\uff0c\u4f7f\u7528 <code>normal</code> \u4f18\u5148\u7ea7\uff0c\u7533\u8bf7 1 \u4e2a\u8282\u70b9\u4e0a 4 \u4e2a CPU \u6838\u53ca 1 \u5f20 GPU \u5361\uff0c\u7533\u8bf7 8 GB \u5185\u5b58\u8d44\u6e90\u3002 </li> <li>\u6587\u4ef6\u7ba1\u7406\u6a21\u5757\uff1a\u5728\u7f51\u9875\u7aef\u53ef\u4ee5\u5bf9\u81ea\u5df1\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u8fdb\u884c\u589e\u5220\u6539      \u66f4\u8be6\u7ec6\u7684\u4f7f\u7528\u8bf4\u660e\u8bf7\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002</li> </ul>"},{"location":"wiki/cluster_usage/open_ondemand/#open-ondemand","title":"Open Ondemand","text":"<p>\u8be5\u5b9e\u4f8b\u5305\u542b\u4e00\u4e2aJupyter\u5e94\u7528\u5165\u53e3\uff0c\u672a\u6765\u53ef\u6839\u636e\u9700\u8981\u90e8\u7f72\u66f4\u591a\u5e94\u7528\u3002</p>"},{"location":"wiki/cluster_usage/open_ondemand/#ssh","title":"\u8bbe\u7f6essh\u8f6c\u53d1\u914d\u7f6e","text":"<p>\u8be5 OOD \u90e8\u7f72\u4e8e <code>mgt02</code> 80\u7aef\u53e3, \u8bbf\u95ee\u9700\u901a\u8fc7 ssh \u8f6c\u53d1\u3002\u7531\u4e8e\u5e94\u7528\u9650\u5236\uff0c\u672c\u5730\u8f6c\u53d1\u7aef\u53e3\u5fc5\u9700\u8bbe\u7f6e\u4e3a 8086\u3002\u53c2\u8003\u547d\u4ee4\u5982\u4e0b</p> <pre><code>ssh -v -N -L 8086:localhost:80 cheng-hpc\n</code></pre> <p>\u7531\u4e8e <code>mgt02</code> \u8282\u70b9\u4f4d\u4e8e\u8df3\u677f\u673a\u540e\uff0c\u4e3a\u4fbf\u4e8e\u8bbf\u95ee\u53ef\u5728\u4e2a\u4eba\u7535\u8111\u7684 <code>~/.ssh/config</code> \u4e2d\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9, \u6ce8\u610f\u66ff\u6362 YOUR_NAME \u4e3a\u81ea\u5df1\u7684\u767b\u5f55\u540d\u3002</p> <pre><code>Host cheng-hpc\n    Hostname 172.27.127.191\n    User YOUR_NAME\n    Port 6666\n</code></pre>"},{"location":"wiki/cluster_usage/open_ondemand/#_5","title":"\u4f7f\u7528","text":"<p>\u5728\u786e\u4fddssh\u8f6c\u53d1\u6b63\u5e38\u5de5\u4f5c\u540e\uff0c\u5728\u6d4f\u89c8\u5668\u8bbf\u95ee http://localhost:8086 \u5373\u53ef\u4f7f\u7528\u8be5\u670d\u52a1\u3002</p>"},{"location":"wiki/cluster_usage/open_ondemand/#jupyter","title":"Jupyter","text":"<p>\u4e3a\u6b63\u5e38\u4f7f\u7528 Jupyter, \u9700\u8981\u5728\u96c6\u7fa4\u4e2d\u901a\u8fc7 conda \u8fdb\u884c\u5b89\u88c5\uff0c\u5982\u679c\u5df2\u6709\u53ef\u5ffd\u7565\u3002\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a</p> <ul> <li>\u767b\u5f55 <code>login01</code> or <code>mgt02</code></li> <li><code>module load miniconda/3</code> </li> <li><code>source activate &lt;env&gt; &amp;&amp; pip install jupyterlab</code> # \u5982\u679c\u4f7f\u7528 <code>&lt;env&gt;</code> \u73af\u5883\u53ef\u4f7f\u7528\u6b64\u8bed\u53e5\u52a0\u8f7d\u5e76\u5b89\u88c5</li> <li><code>conda create -n &lt;env&gt; python=3.9 jupyterlab</code> # \u521b\u5efa\u4e00\u4e2a\u540d\u4e3a jupyter \u7684\u65b0\u73af\u5883\u5e76\u5b89\u88c5 Jupyter lab\uff08\u4ee5\u4e0a\u64cd\u4f5c\u4e8c\u9009\u4e00\uff09</li> <li><code>source activate &lt;env&gt;</code> # \u8f7d\u5165\u521a\u521a\u5b89\u88c5\u7684\u73af\u5883</li> <li><code>pip install nbconvert==6.4.3</code> # workaound \u4e00\u4e2abug... \u672a\u6765\u6216\u53ef\u4e0d\u7528</li> </ul> <p>\u901a\u8fc7\u754c\u9762\u4e0a\u7684 Interactive Apps =&gt; Jupyter \u5373\u53ef\u6253\u5f00\u542f\u52a8\u754c\u9762\u3002\u91cc\u9762\u591a\u6570\u9009\u9879\u53ef\u4fdd\u6301\u9ed8\u8ba4\uff0c\u552f\u4e00\u9700\u8981\u586b\u5199\u7684\u662f Jupyter \u6240\u5728\u7684 conda \u73af\u5883\uff08\u9ed8\u8ba4\u4e3a <code>base</code>, \u5982 Jupyter \u4f4d\u4e8e\u5176\u5b83\u73af\u5883\u8bf7\u9009\u62e9\u5176\u5b83\u6587\u4ef6\u540d\uff09\uff0c\u4ee5\u53ca\u7528\u6237\u540d\uff08\u586b\u5199\u767b\u5f55\u7528\u6237\u540d\u5373\u53ef\uff09\u3002</p> <p>\u63d0\u4ea4\u4f5c\u4e1a\u540e\u4f1a\u8fdb\u5165 Session \u754c\u9762\uff0c\u5728\u8be5\u754c\u9762\u53ef\u4ee5\u770b\u5230\u63d0\u4ea4\u4f5c\u4e1a\u7684\u72b6\u6001\u3002\u5f53\u542f\u52a8\u5b8c\u6bd5\u540e\u4f1a\u51fa\u73b0 <code>connect to jupyter</code> \uff0c\u70b9\u51fb\u5373\u53ef\u4f7f\u7528\u3002</p>"},{"location":"wiki/cluster_usage/open_ondemand/#_6","title":"\u5e38\u7528\u6280\u5de7","text":""},{"location":"wiki/cluster_usage/open_ondemand/#jupyter-notebook-python","title":"\u8f6c\u5316 Jupyter Notebook \u4e3a Python \u811a\u672c","text":"<pre><code>ipython nbconvert --to script *.ipynb\n</code></pre>"},{"location":"wiki/cluster_usage/pack_backup/","title":"\u6587\u4ef6\u6574\u7406\u4e0e\u5907\u4efd\u653b\u7565","text":"<p>\u672c\u6587\u5c06\u6301\u7eed\u66f4\u65b0</p> <p>\u5728\u5b9e\u9645\u79d1\u7814\u5de5\u4f5c\u4e2d\uff0c\u6211\u4eec\u65f6\u5e38\u4f1a\u9047\u5230\u6587\u4ef6\u6574\u7406\u7684\u95ee\u9898\u3002\u6bd4\u5982\u5229\u7528 CP2K \u901a\u8fc7 Constrained MD \u8ba1\u7b97 Potential Mean Force \u65f6\uff0c\u4f1a\u4ea7\u751f\u5927\u91cf Lagrange Multiplier \u6587\u4ef6\uff1b\u4f7f\u7528 DP-GEN \u8bad\u7ec3\u52bf\u51fd\u6570\u65f6\uff0c\u7531\u4e8e Model Deviation \u8fc7\u7a0b\u4e2d\u4f1a\u751f\u6210\u5927\u91cf\u7ed3\u6784\u6587\u4ef6\uff0c\u6bcf\u4e00\u8f6e\u6bcf\u6761\u8f68\u8ff9\u90fd\u4f1a\u6709\u5f88\u591a\uff0c\u4fbf\u4f1a\u4f7f\u6587\u4ef6\u603b\u6570\u5feb\u901f\u4e0a\u5347\uff1b\u540c\u65f6\uff0c\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\u4f1a\u4ea7\u751f\u6ce2\u51fd\u6570\u3001cube\u7b49\u6587\u4ef6\uff0c\u53ef\u80fd\u4f1a\u5360\u636e\u5927\u91cf\u7684\u7a7a\u95f4\u3002\u5982\u4f55\u9ad8\u6548\u6574\u7406\u8fd9\u4e9b\u6587\u4ef6\u4e5f\u6210\u4e3a\u4e00\u4e2a\u96be\u9898\u3002</p> <p>\u672c\u6587\u5c06\u7ed9\u51fa\u4e00\u4e9b\u5177\u4f53\u7684\u653b\u7565\uff0c\u4f9b\u5927\u5bb6\u53c2\u8003\u4f7f\u7528\u3002</p>"},{"location":"wiki/cluster_usage/pack_backup/#_2","title":"\u4e00\u4e9b\u5e38\u8bc6","text":"<p>Linux\u4e2d\u6587\u4ef6\u50a8\u5b58\u4e0a\u9650\u4e0e<code>\u50a8\u5b58\u7a7a\u95f4</code>\u548c<code>\u50a8\u5b58\u6570\u76ee</code>\u6709\u5173\u7cfb\u3002\u56e0\u6b64\u6211\u4eec\u4e0d\u4ec5\u9700\u8981\u5173\u6ce8\u50a8\u5b58\u7a7a\u95f4\uff08\u6587\u4ef6\uff09\u5927\u5c0f\uff0c\u8fd8\u9700\u8981\u5173\u6ce8\u6587\u4ef6\u7684\u6570\u76ee\u3002\u4f8b\u5982DP-GEN\u4ea7\u751f\u7684\u5927\u91cf\u788e\u7247\u5316\u6587\u4ef6\u548ccp2k\u7684potential mean force \u4ea7\u751f\u7684\u5927\u91cfLagrange Multiplier\u6587\u4ef6\u90fd\u4f1a\u5f71\u54cd\u6587\u4ef6\u50a8\u5b58\u3002</p> <p>\u4ee5\u4e0b\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u81ea\u5df1\u7684\u6587\u4ef6/\u76ee\u5f55\u5927\u5c0f</p> <pre><code># \u67e5\u770b\u5f53\u524d\u76ee\u5f55\u7684\u5927\u5c0f\ndu -sch .\n# \u67e5\u770b\u67d0\u6587\u4ef6\u7684\u5927\u5c0f\ndu -sch file_name\n# \u67e5\u770b\u8be5\u76ee\u5f55\u4e0b\u6240\u6709\u6587\u4ef6/\u76ee\u5f55\u5927\u5c0f\ndu -sch ./*\n</code></pre>"},{"location":"wiki/cluster_usage/pack_backup/#file-package-and-compress","title":"\u6587\u4ef6\u6253\u5305\u4e0e\u538b\u7f29","text":""},{"location":"wiki/cluster_usage/pack_backup/#tar","title":"tar\u547d\u4ee4","text":"<p>\u5bf9\u4e8e\u7ed3\u6784\u590d\u6742\u7684\u76ee\u5f55\uff0c\u53ef\u4ee5\u4f7f\u7528 <code>tar</code> \u547d\u4ee4\u8fdb\u884c\u6253\u5305\u6216\u538b\u7f29\u3002</p> <p><code>tar</code> \u547d\u4ee4\u652f\u6301\u538b\u7f29\u6216\u89e3\u538b\u7f29\uff0c\u5176\u4f7f\u7528\u65b9\u6cd5\u5927\u81f4\u5982\u4e0b\uff1a</p> <pre><code>\u6253\u5305\u4e0e\u538b\u7f29: tar [-j|-z] [cv] [-f \u521b\u5efa\u7684\u6863\u540d] filename... \n\u89e3\u538b\u7f29: tar [-j|-z] [xv] [-f \u521b\u5efa\u7684\u6863\u540d] [-C \u76ee\u5f55]\n========\n\u9009\u9879\u4e0e\u53c2\u6570\uff1a\n-c  \uff1a\u521b\u5efa\u6253\u5305\u6587\u4ef6\uff0c\u53ef\u642d\u914d -v \u6765\u5bdf\u770b\u8fc7\u7a0b\u4e2d\u88ab\u6253\u5305\u7684\u6587\u4ef6\uff08\u5939\uff09\u540d(filename)\n-x  \uff1a\u89e3\u6253\u5305\u6216\u89e3\u538b\u7f29\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u642d\u914d -C (\u5927\u5199) \u5728\u7279\u5b9a\u76ee\u5f55\u5b8c\u6210\u89e3\u538b\u7f29\u7684\u64cd\u4f5c\u3002\n-c, -x \u4e0d\u53ef\u540c\u65f6\u4f7f\u7528\uff0c\u8fd8\u8bf7\u6ce8\u610f\uff01\n-z  \uff1a\u901a\u8fc7 gzip \u8fdb\u884c\u538b\u7f29/\u89e3\u538b\u7f29\uff1a\u6b64\u65f6\u538b\u7f29\u6587\u4ef6\u540d\u6700\u597d\u4e3a *.tar.gz \u6216 *.tgz\n-j  \uff1a\u901a\u8fc7 bzip2 \u8fdb\u884c\u538b\u7f29/\u89e3\u538b\u7f29\uff1a\u6b64\u65f6\u538b\u7f29\u6587\u4ef6\u540d\u6700\u597d\u4e3a *.tar.bz2\n-v  \uff1a\u5728\u538b\u7f29/\u89e3\u538b\u7f29\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u6b63\u5728\u5904\u7406\u7684\u6587\u4ef6\u540d\u663e\u793a\u51fa\u6765\u3002\n-f filename\uff1a-f \u540e\u9762\u8981\u7acb\u523b\u63a5\u8981\u88ab\u5904\u7406\u7684\u6863\u540d\uff01\u5efa\u8bae -f \u5355\u72ec\u5199\u4e00\u4e2a\u9009\u9879\u7f57\uff01\n-p  \uff1a\u4fdd\u7559\u5907\u4efd\u6570\u636e\u7684\u539f\u672c\u6743\u9650\u4e0e\u5c5e\u6027\uff0c\u5e38\u7528\u4e8e\u5907\u4efd(-c)\u91cd\u8981\u7684\u914d\u7f6e\u6863\u3002\n--exclude=FILE\uff1a\u5728\u538b\u7f29\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e0d\u5c06\u6587\u4ef6\u540d\u4e3a FILE \u7684\u6587\u4ef6\u6253\u5305\u3002\n--remove-files\uff1a\u6253\u5305\u540e\u5220\u9664\u88ab\u6253\u5305\u7684\u6587\u4ef6\u3002\n</code></pre> <p>\u6bd4\u5982\u5e0c\u671b\u5728 <code>/some/place</code> \u4e0b\u6253\u5305<code>/data/userX</code> \u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff08\u5939\uff09\u4e3a <code>userX_backup.tgz</code>\uff0c\u4fbf\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4</p> <pre><code>tar -zcvf /some/place/userX_backup.tgz /data/userX/*\n</code></pre> <p>\u4f7f\u7528tar\u547d\u4ee4\u5c06\u6587\u4ef6\u6253\u5305\u4e3a <code>*.tgz</code> \u7b49\u538b\u7f29\u6863\u7684\u4f18\u70b9\u662f\u53ef\u4ee5\u4fdd\u7559\u8f6f\u8fde\u63a5\uff0c\u9002\u5408\u7528\u4e8e\u7ed3\u6784\u590d\u6742\u7684\u76ee\u5f55\uff0c\u4f8b\u5982 DP-GEN \u9879\u76ee\u76ee\u5f55\u3002</p> <p>\u5982\u679c\u7528\u6237\u5e0c\u671b\u5c06\u6253\u5305\u540e\u7684\u6587\u4ef6\u76f4\u63a5\u5220\u9664\u4ee5\u8282\u7701\u7a7a\u95f4\uff0c\u5219\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <pre><code>tar -zcvf /some/place/userX_backup.tgz /data/userX/* --remove-files\n</code></pre> <p>\u8fd9\u6837\u5728\u521b\u5efa\u538b\u7f29\u6863\u540e\uff0c\u7a0b\u5e8f\u4f1a\u5220\u9664 <code>/data/userX/*</code>\u3002</p> <p>\u5bf9\u4e8e DP-GEN \u7b49\u6587\u4ef6\u6570\u91cf\u975e\u5e38\u591a\u7684\u4efb\u52a1\uff0c\u76f4\u63a5\u5b58\u50a8\u4f1a\u5360\u636e\u5927\u91cf\u7684 inode \u7a7a\u95f4\uff0c\u4ece\u800c\u51fa\u73b0\u660e\u660e\u78c1\u76d8\u7a7a\u95f4\u591f\u5374\u65e0\u6cd5\u5199\u5165\u7684\u5c34\u5c2c\u5c40\u9762\uff0c\u56e0\u6b64\u53ef\u4ee5\u5bf9\u5df2\u7ecf\u8dd1\u8fc7\u7684 iteration \u8fdb\u884c\u4e3b\u52a8\u6253\u5305\u4ee5\u51cf\u5c11\u6587\u4ef6\u6570\u91cf\uff0c\u8282\u7ea6 inode \u6570\u3002\u540c\u65f6\u5982\u679c\u9700\u8981\u8fdb\u884c\u78c1\u76d8\u7ea7\u7684\u5907\u4efd\u3001\u8fc1\u79fb\uff0c\u5904\u7406\u5c0f\u6587\u4ef6\u7684\u901f\u5ea6\u4f1a\u5927\u5e45\u653e\u7f13\uff0c\u800c\u5904\u7406\u5927\u6587\u4ef6\u7684\u8bfb\u5199\u901f\u5ea6\u53cd\u800c\u53ef\u4ee5\u8fbe\u5230\u786c\u76d8\u8bfb\u5199\u901f\u7387\u6216\u7f51\u7edc\u4f20\u8f93\u901f\u7387\u7684\u4e0a\u9650\u3002</p>"},{"location":"wiki/cluster_usage/pack_backup/#_3","title":"\u6587\u4ef6\u5220\u9664","text":""},{"location":"wiki/cluster_usage/pack_backup/#find","title":"find\u547d\u4ee4","text":"<p>\u5bf9\u4e8e\u5927\u91cf\u5177\u6709\u76f8\u4f3c\u547d\u540d\u7684\u6587\u4ef6\uff0c\u53ef\u4ee5\u5229\u7528 <code>find</code> \u547d\u4ee4\u8fdb\u884c\u7d22\u5f15\u548c\u5220\u9664\u3002</p> <p>\u4f8b\u5982\u5bf9\u5f53\u524d\u76ee\u5f55\u4e0b\uff08<code>./</code>\uff09\uff0c\u60f3\u8981\u67e5\u627e <code>AuO</code> \u4efb\u52a1\u4ea7\u751f\u7684\u6240\u6709\u7684 <code>cube</code> \u6587\u4ef6\uff08\u5047\u8bbe\u547d\u540d\u5747\u4e3a<code>AuO_*.cube</code>\uff09\uff0c\u53ef\u4ee5\u91c7\u7528\u5982\u4e0b\u547d\u4ee4\u8fdb\u884c\u5c55\u793a\uff1a</p> <pre><code>find ./ -name AuO_*.cube\n</code></pre> <p>\u5982\u679c\u60f3\u8981\u5c06\u8fd9\u4e9b\u6587\u4ef6\u76f4\u63a5\u5220\u9664\uff0c\u8fd8\u53ef\u4ee5\u52a0\u5165 <code>-delete</code> \u547d\u4ee4\uff1a</p> <pre><code>find ./ -name AuO_*.cube -delete\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6ce8\u610f <code>find</code> \u547d\u4ee4\u540e\u7684\u9009\u9879\u4e3a <code>-</code> \u800c\u975e <code>--</code> \u3002</p>"},{"location":"wiki/cluster_usage/pack_backup/#rsync","title":"rsync\u547d\u4ee4","text":"<p><code>rsync</code> \u4f5c\u4e3a\u5e38\u7528\u7684\u6587\u4ef6\u4f20\u8f93\u4e0e\u540c\u6b65\u547d\u4ee4\uff0c\u5b9e\u9645\u4e0a\u4e5f\u53ef\u4ee5\u7528\u4e8e\u5c06\u67d0\u4e00\u6587\u4ef6\u5939\u6e05\u7a7a\uff0c\u5bf9\u4e8e\u6709\u5927\u91cf\u5c0f\u6587\u4ef6\u7684\u60c5\u51b5\u76f8\u6bd4\u4f20\u7edf\u7684 <code>rm</code> \u547d\u4ee4\u4f1a\u5feb\u5f88\u591a\u3002\u4f8b\u5982\u60f3\u8981\u6e05\u7a7a <code>/some/path</code> \u76ee\u5f55\uff0c\u53ef\u4ee5\u5148\u8fd0\u884c\uff1a</p> <pre><code>mkdir /tmp/empty\n</code></pre> <p>\u7136\u540e\u8fd0\u884c\uff1a</p> <p><code>bash rsync --delete -rlptD /tmp/empty/ /some/path</code></p>"},{"location":"wiki/cluster_usage/pack_backup/#_4","title":"\u5e38\u7528\u8f6f\u4ef6\u7684\u6587\u4ef6\u5904\u7406","text":""},{"location":"wiki/cluster_usage/pack_backup/#cp2k","title":"cp2k","text":"<p>cp2k\u5728\u8ba1\u7b97\u4e2d\u4f1a\u4ea7\u751f\u5927(\u91cf)\u6587\u4ef6\uff0c\u4ee5\u4e0b\u6587\u4ef6\u53ef\u4ee5\u5220\u9664\u3002</p> <ul> <li>\u6ce2\u51fd\u6570\u6587\u4ef6\uff08<code>.wfn</code>\uff09\uff1a\u6ce2\u51fd\u6570\u6587\u4ef6\u50a8\u5b58DFT\u8ba1\u7b97\u7684\u8f68\u9053\u4fe1\u606f\uff0c\u5e38\u7528\u4e8erestart\u3002\u4f46<code>.wfn</code>\u6587\u4ef6\u5f80\u5f80\u968f\u7740\u4f53\u7cfb\u589e\u5927\u800c\u8fc5\u901f\u589e\u5927\u3002\u5982\u65e0\u5fc5\u8981\uff08\u91cd\u8981\u6ce2\u51fd\u6570\uff09\uff0c\u7b97\u5b8c\u4e4b\u540e\u5373\u53ef\u5c06\u5176\u5220\u9664\u3002</li> <li>\u7f51\u683c\u6587\u4ef6\uff08<code>.cube</code>\uff09\uff1a\u8fd9\u7c7b\u6587\u4ef6\u50a8\u5b58\u7740\u4e09\u7ef4\u7a7a\u95f4\u4fe1\u606f\uff0c\u4f8b\u5982\uff1a\u9759\u7535\u52bf\u3001\u5206\u5b50\u8f68\u9053\u3002\u5927\u5c0f\u4e2d\u7b49\uff0810MB\u5de6\u53f3\uff09\u3002\u6309\u666e\u901aAIMD\u957f\u5ea6\uff0860000\u6b65\uff09\uff0c\u6bcf50\u6b65\u8f93\u51fa\u4e00\u4e2a\u4f1a\u67091200\u4e2a<code>.cube</code>\u6587\u4ef6\u3002\u7d2f\u79ef\u4e0b\u6765\u7a7a\u95f4\u4e0d\u5bb9\u5c0f\u89d1\u3002\u5982\u5206\u6790\u5b8c\u6bd5\uff0c\u5373\u53ef\u5220\u9664\uff0c\u6216\u7528\u538b\u7f29\u5de5\u5177\u538b\u7f29\uff0c\u6216\u7528\u4e13\u4e1a\u7684<code>bqbtool</code>\u538b\u7f29\u3002</li> <li>\u8f68\u8ff9\u6587\u4ef6\uff08<code>.xyz</code>\uff09: \u5206\u5b50\u52a8\u529b\u5b66/\u7ed3\u6784\u4f18\u5316\u8f93\u51fa\u7684\u8f68\u8ff9\u6587\u4ef6\uff0c\u5305\u542b\u666e\u901a\u8f68\u8ff9\u6587\u4ef6\uff0c\u901f\u5ea6\u6587\u4ef6\uff0c\u529b\u6587\u4ef6\u3002\u666e\u901aAIMD\u957f\u5ea6\u8f93\u51fa\u7684\u4e09\u4e2a\u6587\u4ef6\u57fa\u672c\u57281\u81f32GB\u5de6\u53f3\u3002\u5982\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u52bf\u51fd\u6570\u4f1a\u50a8\u5b58\u5927\u91cf\u8f68\u8ff9\u6570\u636e\uff0c\u5e38\u5e38\u4f1a\u8fbe\u5230100GB\u5de6\u53f3\u3002\u5982\u5206\u6790\u5b8c\u6bd5\uff0c\u5373\u53ef\u5220\u9664\uff0c\u6216\u7528\u538b\u7f29\u5de5\u5177\u538b\u7f29\uff0c\u6216\u7528\u4e13\u4e1a\u7684<code>bqbtool</code>\u538b\u7f29\u3002</li> <li>\u6001\u5bc6\u5ea6\u6587\u4ef6\uff08<code>.pdos</code>\uff09: \u4f53\u7cfb\u7684\u6001\u5bc6\u5ea6\u6587\u4ef6\uff0c\u5927\u5c0f\u504f\u5c0f\uff0c\u7ea6\u4e3a1\u81f32MB\u5de6\u53f3\u4e00\u4e2a\u6587\u4ef6\uff0c\u4f46\u4e00\u4e2a\u4f53\u7cfb\u4f1a\u8f93\u51fa\u591a\u4e2a\u6587\u4ef6\uff0c\u56e0\u6b64\u5dee\u4e0d\u591a\u57286\u81f38MB\uff0c\u4e0e\u7f51\u683c\u6587\u4ef6\u7c7b\u4f3c\uff0c\u5927\u91cf\u79ef\u7d2f\u540e\u4f1a\u4ea7\u751f\u7a7a\u95f4\u5360\u7528\u3002\u5982\u5206\u6790\u5b8c\u6bd5\uff0c\u5373\u53ef\u5220\u9664\uff0c\u6216\u7528\u538b\u7f29\u5de5\u5177\u538b\u7f29\u3002</li> </ul>"},{"location":"wiki/cluster_usage/pack_backup/#bqbtool","title":"\u538b\u7f29\u5de5\u5177: bqbtool","text":"<p>cp2k\u8f68\u8ff9\u6587\u4ef6/\u7f51\u683c\u6587\u4ef6\uff0c\u5982\u820d\u4e0d\u5f97\u4e22\u6389\u3002\u53ef\u4ee5\u91c7\u7528bqbtool\u8fdb\u884c\u538b\u7f29\u3002bqbtool\u4e13\u95e8\u9488\u5bf9\u6b64\u7c7b\u578b\u6587\u4ef6\u8fdb\u884c\u538b\u7f29\u5f00\u53d1\u7684\u5de5\u5177\uff0c\u538b\u7f29\u7387\u8fbe\u523010%\u3002</p> <p>\u4e2a\u4eba\u5b89\u88c5\u53c2\u8003bqb\u624b\u518c\uff0c<code>51</code>\u548c<code>52</code>\u670d\u52a1\u5668\u4e0a\u5df2\u7ecf\u5b89\u88c5\uff0c\u4f7f\u7528\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code># \u538b\u7f29\u8f68\u8ff9\u6587\u4ef6\nbqbtool compress postraj xxx.xyz xxx.bqb\n# \u538b\u7f29cube\u6587\u4ef6, \u53ef\u63d0\u524d\u628acube\u6587\u4ef6\u6309\u987a\u5e8fcat\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\u3002\nbqbtool compress voltraj xxx.cube xxx.bqb\n</code></pre> <p>\u5982\u679c\u5c06\u67d0\u4e2a\u6587\u4ef6\u5939\u53ca\u5176\u5b50\u6587\u4ef6\u5939\u4e2d\u7684\u6240\u6709\u6587\u4ef6\u90fd\u538b\u7f29\uff0c\u53ef\u4ee5\u7ed3\u5408\u4f7f\u7528<code>find</code>\u548c<code>bqbtool compress</code>\uff1a</p> <pre><code>find . -name '*.cube' | while read line; do\n  bqbtool compress voltraj $line $line.bqb\ndone\n</code></pre> <p>\u6279\u91cf\u538b\u7f29\u6548\u679c\uff1a</p> <pre><code>.\n\u251c\u2500\u2500 bqbtool.log\n\u251c\u2500\u2500 run.sh\n\u251c\u2500\u2500 test.000\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cp2k-TOTAL_DENSITY-1_0.cube\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cp2k-TOTAL_DENSITY-1_0.cube.bqb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cp2k-v_hartree-1_0.cube\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cp2k-v_hartree-1_0.cube.bqb\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 test.002\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 cp2k-TOTAL_DENSITY-1_0.cube\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 cp2k-TOTAL_DENSITY-1_0.cube.bqb\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 cp2k-v_hartree-1_0.cube\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 cp2k-v_hartree-1_0.cube.bqb\n\u251c\u2500\u2500 test.001\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cp2k-TOTAL_DENSITY-1_0.cube\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cp2k-TOTAL_DENSITY-1_0.cube.bqb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 cp2k-v_hartree-1_0.cube\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 cp2k-v_hartree-1_0.cube.bqb\n\u2514\u2500\u2500 test.002\n    \u251c\u2500\u2500 cp2k-TOTAL_DENSITY-1_0.cube\n    \u251c\u2500\u2500 cp2k-TOTAL_DENSITY-1_0.cube.bqb\n    \u251c\u2500\u2500 cp2k-v_hartree-1_0.cube\n    \u2514\u2500\u2500 cp2k-v_hartree-1_0.cube.bqb\n</code></pre>"},{"location":"wiki/cluster_usage/pack_backup/#_5","title":"\u96c6\u7fa4\u6253\u5305\u8981\u70b9","text":"<p>\u672c\u6b21<code>51</code>\u548c<code>52</code>\u5c06\u8fdb\u884c\u8fc1\u79fb\uff0c\u6587\u4ef6\u7684\u6570\u76ee\u5c06\u4f1a\u5f71\u54cd\u8fc1\u79fb\u901f\u5ea6\u3002\u56e0\u6b64\u5c3d\u53ef\u80fd\u5730\u628a\u539f\u672c\u76ee\u5f55\u538b\u7f29\u6210\u51e0\u4e2a\u6587\u4ef6\uff0c\u53ef\u4ee5\u63d0\u5347\u8fc1\u79fb\u901f\u5ea6\uff0c\u4f8b\u5982:</p> <pre><code>-rw-rw-r-- 1 jyhu jyhu 668M Jan 15 17:58 1-CoO.tar.gz\n-rw-rw-r-- 1 jyhu jyhu 559M Jan 15 15:40 2-ZIS.tar.gz\n-rw-rw-r-- 1 jyhu jyhu 2.6G Jan 15 17:07 3-LiS@TiO2.tar.gz\n-rw-rw-r-- 1 jyhu jyhu 2.8G Jan 15 15:53 4-Graphene.tar.gz\n-rw-rw-r-- 1 jyhu jyhu 3.4M Jan 16 11:05 NEB.tar.gz\n-rw-rw-r-- 1 jyhu jyhu 324M Jan 16 11:07 pKa-jqli.tar.gz\n</code></pre> <p>\u6253\u5305\u65b9\u6cd5\u53ef\u4ee5\u91c7\u7528<code>tar</code>\u538b\u7f29\uff0c\u53c2\u7167 \u4ee5\u4e0a\u90e8\u5206\u3002</p>"},{"location":"wiki/cluster_usage/ssh_note/","title":"SSH \u4f7f\u7528\u5165\u95e8","text":"<p>\u6b64\u5165\u95e8\u4ec5\u4ecb\u7ecd\u4e00\u4e9b\u4f5c\u8005\u8ba4\u4e3a\u5fc5\u8981\u4e14\u5b9e\u7528\u7684\u529f\u80fd\uff0c\u5b8c\u5584\u7684\u5e2e\u52a9\u624b\u518c\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\uff0c<code>man ssh_config</code>, <code>man ssh</code>\u67e5\u770b </p> <p>\u4e3a\u4fbf\u4e8e\u8bf4\u660e\uff0c\u5047\u8bbe\u9700\u8981\u767b\u9646\u7684\u8fdc\u7a0b\u670d\u52a1\u5668IP\u4e3a123.45.67.89\uff0cSSH \u7aef\u53e3\u4e3a 7696\uff0c\u7528\u6237\u540d\u4e3akmr\u3002</p>"},{"location":"wiki/cluster_usage/ssh_note/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li>\u4f7f\u7528SSH\u767b\u5f55\u670d\u52a1\u5668/\u96c6\u7fa4</li> <li>\u4f7f\u7528SCP\u8fdb\u884c\u6587\u4ef6\u4f20\u8f93</li> </ul>"},{"location":"wiki/cluster_usage/ssh_note/#_2","title":"\u53ef\u9009\u76ee\u6807","text":"<ul> <li>\u4f7f\u7528ssh config\u6587\u4ef6\u8fdb\u884cSSH\u767b\u5f55\u7ba1\u7406</li> <li>\u5b66\u4f1a\u7528\u8df3\u677f\u673a\u8fdb\u884cSSH\u767b\u5f55</li> </ul>"},{"location":"wiki/cluster_usage/ssh_note/#create-key-pair","title":"\u521b\u5efa\u5bc6\u94a5\u5bf9","text":"<p>Warning</p> <p>\u65b0\u4eba\u5fc5\u5b66</p> <p><code>ssh</code> \u662f\u7528\u6765\u5b89\u5168\u8fdb\u884c\u767b\u5f55\u8fdc\u7a0b\u7535\u8111\u7684\u547d\u4ee4\u3002\u4f7f\u7528\u540e\uff0c\u6709\u4e24\u79cd\u9009\u62e9\u6765\u9a8c\u8bc1\u767b\u5f55</p> <ol> <li>\u4f7f\u7528\u5bc6\u7801</li> <li>\u4f7f\u7528\u5bc6\u94a5 </li> </ol> <p>\u7b2c\u4e00\u79cd\u65b9\u6cd5\u5df2\u7ecf\u4e3a\u5927\u4f17\u6240\u719f\u77e5\uff0c\u4f46\u662f\u4e0d\u5b89\u5168\u3002\u56e0\u6b64\u6211\u4eec\u91c7\u7528\u5bc6\u94a5\u8fdb\u884c\u767b\u5f55\u3002</p> <p>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u751f\u6210\u5bc6\u94a5:</p> <pre><code>ssh-keygen\n</code></pre> <p>\u6839\u636e\u7ec8\u7aef\u7684\u63d0\u793a\u8fdb\u884c\u64cd\u4f5c\uff08\u5b9e\u9645\u4e0a\u4f60\u53ef\u80fd\u53ea\u9700\u8981\u4e0d\u505c\u6309<code>enter</code>\u952e\uff09\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4f60\u4f1a\u5728<code>~/.ssh</code>\u76ee\u5f55\u4e2d\u5f97\u5230<code>id_rsa</code>\u548c<code>id_rsa.pub</code>\u6587\u4ef6\uff0c\u4ed6\u4eec\u5206\u522b\u662f\u79c1\u94a5\u548c\u516c\u94a5\u3002\u521b\u5efa\u597d\u4e86\u4e4b\u540e\u8bf7\u628a<code>id_rsa.pub</code>\u6587\u4ef6\u7ed9\u670d\u52a1\u5668\u7ba1\u7406\u5458\u3002</p> <p>Warning</p> <p>\u79c1\u94a5\u662f\u767b\u5f55\u96c6\u7fa4\u7684\u94a5\u5319\uff0c\u8bf7\u52a1\u5fc5\u4fdd\u7ba1\u597d\u8fd9\u4e2a\u6587\u4ef6\uff0c\u9632\u6b62\u81ea\u5df1\u7684\u7535\u8111\u88ab\u5165\u4fb5</p>"},{"location":"wiki/cluster_usage/ssh_note/#ssh_1","title":"\u4f7f\u7528SSH\u767b\u5f55\u670d\u52a1\u5668","text":"<p>Warning</p> <p>\u65b0\u4eba\u5fc5\u5b66</p> <p>\u82e5\u8fdc\u7a0b\u670d\u52a1\u5668\u5df2\u7ecf\u653e\u7f6e\u4e86\u516c\u94a5\uff0c\u5219\u53ef\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u767b\u9646\u670d\u52a1\u5668\uff1a</p> <pre><code>ssh -i &lt;path to your private key&gt; -p &lt;port number&gt; username@server_ip\n</code></pre> <p>\u793a\u4f8b\uff0c\u5047\u8bbe\u5bc6\u94a5\u5728\u672c\u5730\u7684\u8def\u5f84\u4e3a <code>~/.ssh/id_rsa</code>\uff1a</p> <pre><code>ssh -i ~/.ssh/id_rsa -p 7696 kmr@123.45.67.89\n</code></pre> <p><code>-p</code> \u540e\u6307\u5b9a\u7684\u662f\u7aef\u53e3\u3002\u82e5\u7701\u7565\u4e0d\u5199\uff0c\u9ed8\u8ba4\u901a\u8fc7 22 \u7aef\u53e3\u4e0e\u8fdc\u7a0b\u670d\u52a1\u5668\u8fdb\u884c\u8fde\u63a5\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c<code>id_rsa</code>\u548c<code>id_rsa.pub</code>\u6587\u4ef6\u4f4d\u4e8e<code>~/.ssh</code>\u4e0b\uff0c\u5219<code>-i</code> \u9009\u9879\u53ca\u5176\u5bf9\u5e94\u53c2\u6570\u53ef\u4ee5\u7701\u7565\u3002</p> <p>Warning</p> <p>\u8ba1\u7b97\u96c6\u7fa4\u53ea\u5141\u8bb8\u5728\u6821\u56ed\u7f51\u7279\u5b9aIP\u8303\u56f4\u5185\u76f4\u63a5\u767b\u9646\u4f7f\u7528\u3002</p>"},{"location":"wiki/cluster_usage/ssh_note/#scp","title":"\u4f7f\u7528SCP\u8fdb\u884c\u6587\u4ef6\u4f20\u8f93","text":"<p>SCP\u5b9e\u9645\u4e0a\u662fSSH+FTP\u7684\u7ed3\u5408\uff0c\u5982\u679c\u914d\u7f6e\u597d\u4e86SSH\u547d\u4ee4\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u6765\u8fdb\u884c\u6587\u4ef6\u4f20\u8f93\uff1a</p> <pre><code>scp myserver:remote_file local_directory_path\nscp local_directory_path myserver:remote_file\n</code></pre> <p>\u6bd4\u5982\u9700\u8981\u628a\u4e0a\u6587\u63d0\u5230\u7684\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u6587\u4ef6<code>/data/home/kmr/file</code>\u4f20\u5230\u672c\u5730 <code>/some/local/place</code> \u76ee\u5f55\u4e0b\uff0c \u5219\u4f7f\u7528\u547d\u4ee4\uff1a</p> <pre><code>scp -P 7696 kmr@123.45.67.89:/data/home/kmr/file /some/local/place\n</code></pre> <p>\u4ece\u672c\u5730\u4e0a\u4f20\u5230\u8fdc\u7a0b\u5219\u4ea4\u6362\u987a\u5e8f\uff1a</p> <pre><code>scp -P 7696 /some/local/place/file kmr@123.45.67.89:/data/home/kmr/\n</code></pre> <p>Warning</p> <p>\u6ce8\u610f scp \u6307\u5b9a\u7aef\u53e3\u7684\u547d\u4ee4\u662f\u5927\u5199\u7684<code>-P</code> \u800c\u975e\u5c0f\u5199\u7684 <code>-p</code>\uff0c\u8fd9\u662f\u4e0d\u540c\u4e8e ssh \u547d\u4ee4\u7684\u4e00\u70b9\u3002</p> <p>\u82e5\u6240\u4f20\u6587\u4ef6\u4e3a\u76ee\u5f55\uff0c\u5219\u9700\u8981\u4f7f\u7528<code>-r</code>\u9009\u9879\uff1a</p> <pre><code>scp -r -P 7696 kmr@123.45.67.89:/data/home/kmr/directory /some/local/place\n</code></pre> <p>Tip</p> <p>\u6ce8\u610f <code>scp</code> \u672c\u8eab\u53ef\u4ee5\u770b\u4f5c\u4e00\u4e2a\u7279\u6b8a\u7684 <code>ssh</code> \u547d\u4ee4\uff0c\u56e0\u6b64\u65e0\u8bba\u4ece\u8fdc\u7a0b\u8fd8\u662f\u672c\u5730\u4f20\u8f93\u6587\u4ef6\u90fd\u5e94\u5728\u672c\u5730\u8fd0\u884c\uff0c\u53ea\u662f\u53c2\u6570\u7684\u987a\u5e8f\u51b3\u5b9a\u4e86\u4f20\u8f93\u7684\u65b9\u5411\u3002\u5982\u679c\u4e24\u4e2a\u53c2\u6570\u5747\u5199\u672c\u5730\u8def\u5f84\uff0c\u5219\u4e0e <code>cp</code> \u547d\u4ee4\u7684\u884c\u4e3a\u76f8\u8fd1\uff0c\u4f46\u4e0d\u53ef\u5747\u5199\u8fdc\u7a0b\u8def\u5f84\u3002</p> <p>zsh\u4e0b \uff08\u6bd4\u5982macOS &gt;=10.15\u7248\u672c\u7684\u9ed8\u8ba4\u7ec8\u7aef\uff09\uff0c\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528\u901a\u914d\u7b26<code>*</code>\u6279\u91cf\u4f20\u8f93\u6587\u4ef6\uff0c\u9700\u8981\u5c06\u5305\u542b<code>*</code>\u7684\u5b57\u7b26\u4e32\u7528\u5355\u5f15\u53f7\u62ec\u8d77\u3002</p>"},{"location":"wiki/cluster_usage/ssh_note/#ssh-config","title":"\u53ef\u9009\uff1a\u901a\u8fc7\u914d\u7f6e config \u4f18\u96c5\u5730\u7684\u4f7f\u7528 SSH","text":"<p>\u4e3a\u4e86\u907f\u514d\u6bcf\u6b21\u90fd\u8f93\u5165\u4e00\u5927\u4e32\u547d\u4ee4\u3002 \u8bf7\u4f7f\u7528vim\u7f16\u8f91\u5982\u4e0b\u6587\u4ef6\uff1a</p> <pre><code>vim ~/.ssh/config\n</code></pre> <p>\u6ce8\u610f</p> <p>\u8bf7\u6ce8\u610f\u4fee\u6539\u8be5\u6587\u4ef6\u6743\u9650\u4e3a <code>600</code> (\u5373 <code>-rw-------</code> )\uff0c\u5426\u5219\u53ef\u80fd\u5bfc\u81f4\u65e0\u6cd5\u5e76\u884c\u3002 \u7c7b\u4f3c\u5730\uff0c\u5982\u53d1\u73b0\u81ea\u5df1\u7684\u4efb\u52a1\u4ea4\u4e0a\u53bb\u53ea\u80fd\u5728\u4e00\u4e2a\u8282\u70b9\u4e0a\u8fd0\u884c\uff0c\u4e5f\u8bf7\u68c0\u67e5 <code>~/.ssh</code> \u4e0b\u5404\u4e2a\u6587\u4ef6\u7684\u6743\u9650\uff0c\u6ce8\u610f\u53ea\u6709\u516c\u94a5\u662f <code>644</code> \u6743\u9650\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u628aSSH\u547d\u4ee4\u7684\u53c2\u6570\u90fd\u50a8\u5b58\u5728\u8fd9\u4e2a\u6587\u4ef6\u91cc\u3002\u4ee5\u4e0b\u662f\u8bed\u6cd5\u793a\u4f8b\u6587\u4ef6\uff1a</p> <pre><code>Host myserver # (1)!\n    User kmr # (2)!\n    Hostname 123.45.67.89 # (3)!\n    Port 7696 # (4)!\n    IdentityFile ~/.ssh/id_rsa # (5)!\n</code></pre> <ol> <li>nickname for your cluster</li> <li>replacement of username in ssh</li> <li>replace of cluster_ip in ssh</li> <li>replacement of <code>-p &lt;port number&gt;</code> in ssh</li> <li>replace of <code>-i &lt;path to your private key&gt;</code> in ssh</li> </ol> <p>\u4fdd\u5b58\u4e0a\u8ff0\u6587\u4ef6\uff0c\u4f60\u5c31\u53ef\u4ee5\u7b80\u5355\u5730\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u767b\u5f55:</p> <pre><code>ssh myserver\n</code></pre> <p>\u6b64\u547d\u4ee4\u5373\u76f8\u5f53\u4e8e\u4e0a\u6587\u63d0\u5230\u7684<code>ssh -i ~/.ssh/id_rsa -p 7696 kmr@123.45.67.89</code>\u3002</p> <p>\u540c\u6837\u7684\uff0c<code>scp</code>\u547d\u4ee4\u4e5f\u53ef\u4ee5\u4f7f\u7528\u4e0a\u9762\u7684<code>Host</code>\u540d\u6765\u4ee3\u66ff\uff0c\u4f8b\u5982\uff1a</p> <p><pre><code>scp myserver:/data/home/kmr/file /some/local/place\n</code></pre> \u5373\u53ef\u5b9e\u73b0\u4e0a\u9762\u7684\u4e00\u957f\u4e32\u5e26\u7aef\u53e3\u7684\u4fe1\u606f\u7684<code>scp</code>\u6548\u679c\uff01\u5982\u679c\u9700\u8981\u4f20\u9012\u76ee\u5f55\uff0c\u540c\u6837\u9700\u8981\u52a0\u5165<code>-r</code>\u53c2\u6570\u3002</p>"},{"location":"wiki/cluster_usage/ssh_note/#_3","title":"\u52a0\u6df1\u7406\u89e3","text":"<p>Warning</p> <p>\u8be5\u89c6\u9891\u4ec5\u5e2e\u52a9\u7406\u89e3SSH\u539f\u7406\u4ee5\u53ca\u57fa\u672c\u64cd\u4f5c\uff0c\u89c6\u9891\u4e2d\u542b\u6709\u672c\u7b14\u8bb0\u672a\u8981\u6c42\u7684\u5185\u5bb9\uff0c\u4f46\u662f\u5927\u90e8\u5206\u666e\u901a\u7528\u6237\u6ca1\u6709\u6743\u9650\u6267\u884c\u3002</p>"},{"location":"wiki/cluster_usage/ssh_note/#x11-forwarding","title":"\u5728\u672c\u5730\u7535\u8111\u663e\u793a\u670d\u52a1\u5668\u56fe\u50cf (X11 Forwarding)","text":"<p>\u4f7f\u7528\u7ec8\u7aef\u767b\u5f55\u670d\u52a1\u5668\u540e\u6ca1\u529e\u6cd5\u76f4\u63a5\u663e\u793a\u56fe\u5f62\u754c\u9762\u3002\u6709\u65f6\u5019\u5728*\u670d\u52a1\u5668*\u4e0a\u4f7f\u7528\u753b\u56fe\u8f6f\u4ef6\u65f6\uff0c\u53ef\u4ee5\u901a\u8fc7X11 Forwarding\u529f\u80fd\u5c06\u56fe\u50cf\u663e\u793a\u5230\u672c\u5730\u7535\u8111\u4e0a\u3002\u53ea\u9700\u8981\u5728\u547d\u4ee4\u91cc\u52a0\u4e0a<code>-X</code>\u6216\u8005<code>-Y</code>\uff1a</p> <pre><code>ssh -X -i &lt;para.&gt; -p &lt;para.&gt; username@server_ip\n</code></pre>"},{"location":"wiki/cluster_usage/ssh_note/#configx11-forwarding","title":"\u5728config\u6587\u4ef6\u4e2d\u914d\u7f6eX11 Forwarding*","text":"<pre><code>Host &lt;hostnickname&gt;\n    ForwardX11 yes  # (1)!\n    ForwardX11Trusted yes # (2)!\n</code></pre> <ol> <li>equivalent to <code>-X</code></li> <li>equivalent to <code>-Y</code> (This option valid only if your ForwardX11 is set to yes!)</li> </ol>"},{"location":"wiki/cluster_usage/ssh_note/#_4","title":"\u4f7f\u7528\u8df3\u677f\u673a/\u4ee3\u7406\u8fdb\u884c\u8fdc\u7a0b\u767b\u5f55","text":"<p>\u672c\u7ec4\u7684\u670d\u52a1\u5668\u9650\u5236\u4e86\u767b\u5f55\u7684ip\uff0c\u5373\u4f60\u53ea\u80fd\u5728\u5b66\u6821ip\u8303\u56f4\u5185\u8fdb\u884c\u767b\u5f55\u3002\u540c\u65f6\u7531\u4e8e\u767b\u5f55\u9700\u8981\u5bc6\u94a5\uff0c\u800c\u5bc6\u94a5\u4fdd\u5b58\u5728\u529e\u516c\u5ba4\u7535\u8111\u4e0a\uff0c\u56e0\u6b64\u767b\u5f55\u5c31\u5fc5\u987b\u4f7f\u7528\u529e\u516c\u5ba4\u7535\u8111\u3002\u56e0\u6b64\uff0c\u4eba\u4e0d\u5728\u529e\u516c\u5ba4\u65f6\u5c31\u5f88\u96be\u767b\u5f55\u670d\u52a1\u5668\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\uff0c\u5148\u5728\u6821\u56ed\u7f51\u73af\u5883\u4e0b\u901a\u8fc7SSH\u767b\u5f55\u5230\u529e\u516c\u5ba4\u7535\u8111\uff08\u4ec5\u81ea\u5df1\u7684\u7528\u6237\u540d\u5bc6\u7801\u5373\u53ef\uff09\uff0c\u518d\u901a\u8fc7\u529e\u516c\u5ba4\u7535\u8111\u767b\u5f55\u5230\u670d\u52a1\u5668\u3002\u6b64\u65f6\u529e\u516c\u5ba4\u7535\u8111\u662f\u4f5c\u4e3a*\u8df3\u677f*\u6765\u4f7f\u7528\u7684\uff1a</p> <pre><code>ssh username@proxy\nssh -p port_number -i key_file username@cluster191\n</code></pre>"},{"location":"wiki/cluster_usage/ssh_note/#config","title":"\u5728config\u6587\u4ef6\u4e2d\u914d\u7f6e\u8df3\u677f\u673a*","text":"<p>\u6253\u5f00 <code>~/.ssh/config</code>\uff0c\u590d\u5236\u4ee5\u4e0b\u4ee3\u7801\uff08\u6ce8\u610f\u53bb\u6389\u6ce8\u91ca\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u62a5\u9519\uff09\uff1a</p> <pre><code># nickname you set for your office computer\nHost proxy\n    # username you set for login\n    User robinzhuang\n    # IP address of your office computer, change the xxx to real one!\n    Hostname 10.24.3.xxx\n\n# nickname for your cluster\nHost myserver\n    # username you set, change to real one!\n    User kmr\n    # IP for cluster, change to real one!\n    Hostname 123.45.67.89\n    # the key file location used in login \n    IdentityFile ~/.ssh/id_rsa\n    # specify the port number, replace xx with real port!\n    Port xx\n    # use Host proxy as Jump Server\n    ProxyJump proxy\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e\u662f\u76f4\u63a5\u767b\u5f55\u8bfe\u9898\u7ec4\u670d\u52a1\u5668\u7684\u4e00\u4e9b\u6539\u8fdb\uff0c\u6211\u4eec\u9996\u5148\u914d\u7f6e\u4e86\u4ece\u8fd9\u53f0\u7535\u8111\u767b\u5f55\u5230\u8df3\u677f\u673a\u7684\u547d\u4ee4\uff0c\u7136\u540e\u518d\u914d\u7f6e\u5229\u7528\u8df3\u677f\u673a\u5230\u670d\u52a1\u5668\u7684\u547d\u4ee4\u3002</p> <p>\u5982\u679c\u4e0a\u8ff0\u7684 <code>ProxyJump proxy</code> \u4e0d\u8d77\u4f5c\u7528\uff0c\u53ef\u5c06\u5176\u66ff\u6362\u4e3a <code>ProxyCommand ssh -o 'ForwardAgent yes' proxy \"ssh-add ~/.ssh/id_rsa &amp;&amp; nc %h %p\"</code> \uff0c\u8bf7\u7528\u4f60\u7684\u5bc6\u94a5\u7684\u8def\u5f84\u6765\u4ee3\u66ff\u4e0a\u8ff0\u7684 <code>~/.ssh/id_rsa</code> \u90e8\u5206\u3002</p> <p>\u5b8c\u6210\u4ee5\u4e0a\u914d\u7f6e\u540e\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u76f4\u63a5\u914d\u7f6e\uff1a</p> <pre><code>ssh myserver\n</code></pre>"},{"location":"wiki/cluster_usage/ssh_note/#config_1","title":"\u5728config\u6587\u4ef6\u4e2d\u8f6c\u53d1\u7aef\u53e3*","text":"<p>\u6709\u65f6\uff0c\u6211\u4eec\u5728\u670d\u52a1\u5668\u4e0a\u90e8\u7f72\u4e86 <code>jupyter notebook</code> \u7b49\u670d\u52a1\u65f6\uff0c\u9700\u8981\u628a\u8fdc\u7a0b\u7684\u67d0\u4e2a\u7aef\u53e3 (\u4ee5\u4e0b\u4f8b\u5b50\u4e2d\u4e3a <code>8888</code> \u7aef\u53e3) \u8f6c\u53d1\u5230\u672c\u5730\u7684\u67d0\u4e2a\u7aef\u53e3 (\u4ee5\u4e0b\u4f8b\u5b50\u4e2d\u4e3a <code>9999</code> \u7aef\u53e3)\uff0c\u4f7f\u5f97\u5728\u672c\u5730\u8bbf\u95ee <code>https://localhost:9999</code> \u65f6\u4e5f\u80fd\u8bbf\u95ee\u8fdc\u7a0b\u7684 <code>jupyter notebook</code> \u670d\u52a1\u3002</p> <pre><code>Host myserver # (1)!\n    User kmr # (2)!\n    Hostname 123.45.67.89 # (3)!\n    LocalForward 9999 localhost:8888 # (4)!\n</code></pre> <ol> <li>\u4e3a\u4f60\u7684\u670d\u52a1\u5668\u53d6\u4e00\u4e2a\u4efb\u610f\u7684\u6635\u79f0</li> <li>\u8bf7\u4fee\u6539\u4e3a\u771f\u5b9e\u7684\u7528\u6237\u540d</li> <li>\u8bf7\u4fee\u6539\u4e3a\u771f\u5b9e\u7684IP</li> <li><code>localhost:8888</code> \u662f\u76f8\u5bf9\u4e8e\u8fdc\u7aef\u670d\u52a1\u5668\u7684\u771f\u5b9eIP\u548c\u7aef\u53e3\uff0c\u82e5\u4e0d\u662f <code>localhost</code>\uff0c\u8bf7\u66ff\u6362\u4e3a\u5bf9\u5e94\u7684IP\u548c\u7aef\u53e3\u53f7</li> </ol>"},{"location":"wiki/cluster_usage/ssh_note/#x11-forwarding_1","title":"\u5728\u4f7f\u7528\u8df3\u677f\u673a\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528X11 Forwarding","text":"<p>\u53ea\u9700\u8981\u5728 <code>~/.ssh/config</code> \u4e2d\u52a0\u5165</p> <pre><code>Host * # (1)!\n    ForwardX11Trusted yes\n</code></pre> <ol> <li>\u5bf9\u4efb\u610f\u914d\u7f6e\u751f\u6548</li> </ol>"},{"location":"wiki/cluster_usage/ssh_note/#config_2","title":"\u4e00\u4efd\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6\uff08config\uff09","text":"<p>\u4ee5\u4e0b\u4e3a <code>~/.ssh/config</code> \u7684\u4e00\u4e2a\u793a\u4f8b\uff0c\u9700\u8981\u65f6\u53ef\u5728\u8fd9\u4efd\u793a\u4f8b\u6587\u4ef6\u4e0a\u8fdb\u884c\u4fee\u6539\uff0c\u5fc5\u8981\u4fee\u6539\u7684\u90e8\u5206\u5df2\u5728\u6ce8\u91ca\u4e2d\u6807\u51fa\uff0c<code>General config</code> \u53ef\u4ee5\u76f4\u63a5\u7167\u6284\u3002\u6ce8\u610f\u987b\u5220\u6389\u6587\u4ef6\u4e2d\u6240\u6709\u7684\u6ce8\u91ca\u3002</p> <pre><code># General config\nHost *\n    ForwardX11Trusted yes\n    ForwardAgent yes\n    AddKeysToAgent yes\n    ServerAliveInterval 60\n    ControlPersist yes\n    ControlMaster auto\n    ControlPath /tmp/%r@%h:%p\n\n# set proxy\n# nickname for your Jump Server\nHost nickname_proxy\n    # IP for Jump Server (REPlACE IT!)\n    Hostname 10.24.3.255\n    # your username for Jump Server (REPlACE IT!)\n    User chenglab\n\n# Host1 and host2\n# nickname for your cluster\nHost nickname_1\n    Hostname 123.45.67.89\n    # your host1 username (REPlACE IT!)\n    User kmr1 \n    LocalForward 8051 localhost:8888\n# nickname for your cluster\nHost nickname_2\n    Hostname 123.45.67.90\n    # your host2 username (REPlACE IT!)\n    User kmr2\n    LocalForward 8052 localhost:8888\n\n# set same parts for host1 and host2\n# use your own nickname\nHost nickname_1 nickname_2\n    Port 7696\n    # use your own nickname\n    ProxyJump nickname_proxy\n</code></pre>"},{"location":"wiki/cluster_usage/ssh_note/#_5","title":"\u8d85\u7eb2\u7684\u90e8\u5206\u200b\u200b*","text":"<p>\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u5b9e\u73b0\u7c7b\u4f3c\u9009\u62e9\u8bed\u53e5\u7684\u529f\u80fd\uff0c\u4ee5\u4e0b\u4f8b\u5b50\u63cf\u8ff0\u7684\u662f\u5f53\u7f51\u7edc\u73af\u5883\u968f\u65f6\u53d8\u66f4\u65f6\uff0c\u8fde\u63a5\u540c\u4e00\u53f0\u673a\u5668\u53ef\u80fd\u4f1a\u9700\u8981\u8bbf\u95ee\u4e0d\u540cIP\u65f6\u6240\u91c7\u53d6\u7684\u7b56\u7565\u3002</p> <p>\u6b64\u4f8b\u5b50\u4e0d\u5efa\u8bae\u521d\u5b66\u8005\u76f4\u63a5\u590d\u5236\u7c98\u8d34\uff0c\u5176\u4e2d\u9700\u8981\u66ff\u6362\u7684\u90e8\u5206\u8bf7\u6839\u636e\u5177\u4f53\u5e94\u7528\u573a\u666f\u6765\u81ea\u884c\u659f\u914c</p> <pre><code>Host elements\n    User chenglab\n    Match host elements exec \"nc -G 4 -z 10.24.3.144 %p\"\n        # Private net IP\n        Hostname 10.24.3.144\n    Match host elements\n        # Public net IP\n        Hostname xxx.xxx.xxx.xxx\n        Port 6000\n</code></pre>"},{"location":"wiki/cluster_usage/ssh_note/#_6","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"wiki/cluster_usage/ssh_note/#ssh-private-key-are-too-open","title":"ssh private key are too open","text":"<p>The error message is </p> <pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@ WARNING: UNPROTECTED PRIVATE KEY FILE! @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nPermissions 0644 for '/home/me/.ssh/id_rsa_targethost' are too open.\nIt is recommended that your private key files are NOT accessible by others.\nThis private key will be ignored.\nbad permissions: ignore key: /home/me/.ssh/id_rsa_targethost\n</code></pre> <p>This arises from the permission of your private key:<code>id_rsa</code> file.</p> <p>Use command <code>ls -l</code> to see your <code>id_rsa</code> permission. if it is not <code>-rw-------</code>, you should change it to that! Use the following command: </p> <pre><code>chmod 600 ~/.ssh/id_rsa\n</code></pre>"},{"location":"wiki/cluster_usage/ssh_note/#no-xauth-data-using-fake-authentication-data-for-x11-forwarding","title":"No xauth data; using fake authentication data for X11 forwarding.","text":"<p>The error message is</p> <pre><code>Warning: No xauth data; using fake authentication data for X11 forwarding.\n</code></pre> <p>This is because <code>ssh</code> can't find your xauth location. Usually, the location is in <code>/opt/X11/bin/xauth</code>. Add this in your ssh configure file:</p> <pre><code>Host *\n    XAuthLocation /opt/X11/bin/xauth\n</code></pre>"},{"location":"wiki/cluster_usage/ssh_note/#remote-host-identification-has-changed","title":"Remote host identification has changed!","text":"<p>When the remote host was just repaired, the error like below might be raised.</p> <pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\nIT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!\nSomeone could be eavesdropping on you right now (man-in-the-middle attack)!\nIt is also possible that a host key has just been changed.\nThe fingerprint for the RSA key sent by the remote host is\n51:82:00:1c:7e:6f:ac:ac:de:f1:53:08:1c:7d:55:68.\nPlease contact your system administrator.\nAdd correct host key in /Users/isaacalves/.ssh/known_hosts to get rid of this message.\nOffending RSA key in /Users/isaacalves/.ssh/known_hosts:12\nRSA host key for 104.131.16.158 has changed and you have requested strict checking.\nHost key verification failed.\n</code></pre> <p>Take it easy, and just edit your <code>/Users/isaacalves/.ssh/known_hosts</code> file to remove the line with the IP address of the very remote host. For some users such as Ubuntu or Debian users, <code>ssh -R xxx</code> might be necessary, which would be shown in the error info.</p> <p>However, if not any repair or upgrade happened, man-in-the-middle attack might happen. Just stop logging in and contact manager of cluster at once to make sure.</p>"},{"location":"wiki/cluster_usage/tensorboard/","title":"\u96c6\u7fa4 TensorBoard \u4f7f\u7528\u6307\u5357","text":""},{"location":"wiki/cluster_usage/tensorboard/#_1","title":"\u9700\u6c42","text":"<p>\u57fa\u4e8e DeepMD-kit \u6216\u8005 TensorFlow \u7684\u4ee3\u7801\u8c03\u8bd5\u53ca\u8bad\u7ec3\u6570\u636e\u5b9e\u65f6\u76d1\u63a7\u3002</p> <p>TensorBoard \u662f\u4ec0\u4e48</p> <p>DeepMD-kit \u5b98\u65b9\u6559\u7a0b</p>"},{"location":"wiki/cluster_usage/tensorboard/#_2","title":"\u7528\u6cd5","text":"<p>DP \u5b98\u65b9\u6559\u7a0b\u7ed9\u51fa\u4e86\u5728\u672c\u5730\u8fd0\u884c\u7a0b\u5e8f\u65f6\u7684\u53ef\u89c6\u5316\uff0c\u5982\u679c\u5728\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u884c\u7aef\u53e3\u8f6c\u53d1\u3002</p>"},{"location":"wiki/cluster_usage/tensorboard/#_3","title":"\u5728\u8ba1\u7b97\u8282\u70b9\u4e0a\u8fd0\u884c\u7a0b\u5e8f\uff08\u63a8\u8350\uff09","text":"<p>\u4ee5\u5728 gpu3 \u961f\u5217\u8fd0\u884c DeepMD-kit \u8bad\u7ec3\u7a0b\u5e8f\u4e3a\u4f8b\uff0c\u5176\u4ed6\u7a0b\u5e8f\u53ef\u5bf9\u5e94\u66ff\u6362\u3002</p> <ol> <li>\u901a\u8fc7 sbatch \u811a\u672c\u63d0\u4ea4\u7a0b\u5e8f\u5230\u8ba1\u7b97\u8282\u70b9    <pre><code>#!/bin/bash\n#SBATCH -p gpu3\n#SBATCH -t 24:00:00\n#SBATCH -J type_map_0\n#SBATCH --ntasks-per-node 4\n#SBATCH --gres=gpu:1\n\n# add modulefiles\nmodule add deepmd/2.0-cuda11.3\n\ndp train input.json 1&gt;&gt; train.log 2&gt;&gt; train.err &amp;\ntensorboard --logdir=log --port=6006\n</code></pre>    \u5982\u679c\u60f3\u8981\u5b9e\u65f6\u67e5\u770b\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u6570\u636e\uff0c\u8bad\u7ec3\u6307\u4ee4\u548c tensorboard \u7684\u8fd0\u884c\u6307\u4ee4\u9700\u8981\u540c\u65f6\u8fd0 \u884c\uff0c\u6545\u91c7\u7528 <code>&amp;</code>\u5c06\u8bad\u7ec3\u6307\u4ee4\u6302\u8d77\u3002 <p><code>--logdir</code>\u6307\u5b9a tensorboard \u7684 event \u6587\u4ef6\u6240\u5728\u8def\u5f84\uff08\u5728 json \u6587\u4ef6\u4e2d\u6307\u5b9a\uff09\u3002</p> <p><code>--port</code>\u6307\u5b9a tensorboard \u5728\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7684\u7aef\u53e3\u53f7\uff08\u7f3a\u7701\u9ed8\u8ba4\u4e3a 6006\uff09\u3002</p> </li> <li>\u67e5\u770b\u8ba1\u7b97\u8282\u70b9 IP \u5730\u5740    \u505a\u6cd5\u7c7b\u4f3cjupyter notebook \u6559\u7a0b\uff0c\u5728\u767b\u5f55\u8282\u70b9\u547d\u4ee4\u884c\u8f93\u5165\u4e0b\u9762\u6307\u4ee4\uff08\u5c06 <code>c51-m002</code>\u66ff\u6362\u4e3a\u5b9e\u9645\u8fd0\u884c\u7684\u8282\u70b9\uff09\u3002    <pre><code>cat /etc/hosts | grep c51-m002\n</code></pre></li> <li>\u5c06\u7aef\u53e3\u8f6c\u53d1\u5230\u672c\u5730    <pre><code>ssh -NfL localhost:&lt;local_port&gt;:&lt;remote_ip&gt;:&lt;port&gt; &lt;username&gt;@&lt;ip_of_cluster&gt;\n</code></pre></li> </ol>"},{"location":"wiki/cluster_usage/tensorboard/#_4","title":"\u5728\u767b\u5f55\u8282\u70b9\u4e0a\u8fd0\u884c\u7a0b\u5e8f","text":"<p>Warning</p> <p>\u4ec5\u4f9b\u77ed\u65f6\u95f4\u6d4b\u8bd5\uff01\u957f\u65f6\u95f4\u8fd0\u884c\u8bf7\u4f7f\u7528\u8ba1\u7b97\u8282\u70b9!!</p> <p>\u5728\u547d\u4ee4\u884c\u4e2d\u8fd0\u884c\u8bad\u7ec3\u548c tensorboard \u7a0b\u5e8f\u540e\uff0c\u5728\u672c\u5730\u6267\u884c</p> <pre><code>ssh -NfL &lt;local_port&gt;:localhost:&lt;port&gt; &lt;username&gt;@&lt;ip_of_cluster&gt;\n</code></pre>"},{"location":"wiki/cluster_usage/vscode_remote/","title":"\u5728\u975e\u767b\u9646\u8282\u70b9\u4e0a\u4f7f\u7528VSCode","text":"<p>VSCode \u901a\u8fc7 Remote \u63d2\u4ef6\u63d0\u4f9b\u4e86\u5f3a\u5927\u7684\u8fdc\u7a0b\u7f16\u8f91\u80fd\u529b\uff0c\u4f7f\u5f97\u7528\u6237\u53ef\u4ee5\u5728\u8fdc\u7a0b\u83b7\u5f97\u63a5\u8fd1\u672c\u5730\u7684\u7f16\u8f91\u4f53\u9a8c\u3002 VSCode Server\u539f\u751f\u57fa\u4e8eNode\u548cElectron\u6280\u672f\uff0c\u6709\u7740\u8f83\u9ad8\u7684\u5185\u5b58\u7b49\u9700\u6c42\uff0c \u4f46\u9274\u4e8e\u76ee\u524d\u767b\u9646\u8282\u70b9\u7684\u8d44\u6e90\u65e5\u6e10\u6349\u895f\u89c1\u8098\uff0c\u8fd9\u91cc\u63d0\u51fa\u4e00\u4e2a\u65b9\u6848\uff0c \u53ef\u4ee5\u8ba9\u7528\u6237\u8f83\u4e3a\u65b9\u4fbf\u5730\u4f7f\u7528\u975e\u767b\u9646\u8282\u70b9\u7684\u8d44\u6e90\u5f00\u542fVSCode Remote\u3002</p> <p>\u672c\u6587\u5047\u8bbe\u7528\u6237\u5df2\u7ecf\u9605\u8bfb\u8fc7SSH \u4e0e SCP \u4f7f\u7528\u5165\u95e8\u7279\u522b\u662f\u6709\u5173 <code>config</code> \u6587\u4ef6\u7684\u90e8\u5206\uff0c \u5e76\u77e5\u6653\u96c6\u7fa4\u7684\u57fa\u7840\u6982\u51b5\u548c\u8c03\u5ea6\u7cfb\u7edf\u4f7f\u7528\u65b9\u6cd5\u3002 \u5982\u672a\u9605\u8bfb\uff0c\u8bf7\u5148\u53c2\u9605\u4e0a\u8ff0\u4e24\u7bc7\u6587\u5b57\u3002</p>"},{"location":"wiki/cluster_usage/vscode_remote/#scow","title":"\u4f7f\u7528 SCOW \u63d0\u4f9b\u7684\u4ea4\u4e92\u7ec8\u7aef","text":""},{"location":"wiki/cluster_usage/vscode_remote/#vs-code","title":"\u539f\u751f VS Code","text":"<p>\u8bda\u7136 code-server \u53ef\u4ee5\u63d0\u4f9b\u826f\u597d\u4f53\u9a8c\uff0c\u5948\u4f55\u5728\u6ca1\u6709\u8054\u7f51\u7684\u96c6\u7fa4\u4e0a\u5b89\u88c5\u63d2\u4ef6\u8f83\u4e3a\u56f0\u96be\uff0c\u6545\u8fd9\u91cc\u7ed9\u51fa\u53e6\u4e00\u79cd\u65b9\u5f0f\uff0c\u5373\u5229\u7528\u539f\u751f\u7684 Remote \u529f\u80fd\u6765\u5b9e\u73b0\u8fdc\u7a0b\u3002</p>"},{"location":"wiki/cluster_usage/vscode_remote/#macos-linux","title":"MacOS \u548c Linux \u7528\u6237","text":"<p>\u7531\u4e8e\u7b14\u8005\u76ee\u524d\u4f7f\u7528\u7684\u8bbe\u5907\u662f MacOS \u64cd\u4f5c\u7cfb\u7edf\uff08Linux\u60c5\u51b5\u7c7b\u4f3c\uff09\uff0c\u8fd9\u91cc\u7ed9\u51fa\u8f83\u5b8c\u6574\u7684\u56fe\u6587\u8bf4\u660e\u3002</p> <p>\u9996\u5148\u7528\u81ea\u5df1\u6700\u987a\u624b\u7684\u65b9\u5f0f\u6253\u5f00\u5e76\u7f16\u8f91 <code>~/.ssh/config</code> \u6587\u4ef6\uff0c \u8bf7\u53c2\u7167 \u8fd9\u91cc\u7684\u8bf4\u660e\uff0c \u589e\u52a0\u767b\u9646\u8282\u70b9\u7684\u914d\u7f6e\u4fe1\u606f:</p> .ssh/config<pre><code>Host &lt;nickname&gt;\n    HostName &lt;ip_of_zeus&gt;\n    Port &lt;port&gt;\n    User &lt;username&gt;\n</code></pre> <p>\u8bf7\u5c06<code>&lt;ip_of_zeus&gt;, &lt;port&gt;, &lt;username&gt;</code>\u66ff\u6362\u4e3a\u5b9e\u9645\u7684IP\u5730\u5740\u3001\u7aef\u53e3\u53f7\u4ee5\u53ca\u7528\u6237\u540d\u3002 <code>&lt;nickname&gt;</code>\u8bf7\u66ff\u6362\u4e3a\u4efb\u610f\u81ea\u5df1\u559c\u6b22\u7684\u6635\u79f0\uff0c\u4f46\u8bf7\u6ce8\u610f\uff0c \u4e0d\u8981\u4f7f\u7528<code>c5*</code>\u7684\u5f62\u5f0f\uff01 \u5426\u5219\u4f1a\u548c\u4e0b\u6587\u51b2\u7a81\u3002</p> <p>\u7136\u540e\u589e\u52a0\u4ee5\u4e0b\u51e0\u884c\uff1a</p> .ssh/config<pre><code>Host c5*\n    User &lt;username&gt;\n    ProxyCommand ssh -o ForwardAgent=yes &lt;username&gt;@&lt;nickname&gt; \"nc -w 120 %h %p\"\n</code></pre> <p>\u8fd9\u91cc\u91c7\u7528 <code>c5*</code> \u4f5c\u4e3a\u524d\u7f00\u662f\u4e3a\u4e86\u5728\u767b\u9646\u8282\u70b9\u4e0a\u5feb\u901f\u767b\u9646\u5230\u5bf9\u5e94\u7684\u8ba1\u7b97\u8282\u70b9\u3002 Zeus \u96c6\u7fa4\u4e0a\u6240\u6709\u8ba1\u7b97\u8282\u70b9\uff08\u542bCPU\u3001GPU\u3001\u80d6\u8282\u70b9\uff09\u5747\u4ee5 <code>c5*</code> \u5f00\u5934\uff0c\u5177\u6709\u7c7b\u4f3c <code>c5*-*</code> \u7684\u5f62\u5f0f\uff0c \u6545\u8fd9\u91cc\u91c7\u7528\u5982\u6b64\u5199\u6cd5\u3002\u8bf7\u6839\u636e\u96c6\u7fa4\u7684\u60c5\u51b5\u5bf9\u5e94\u8c03\u6574\u3002</p> <p>\u7136\u540e\u5728\u96c6\u7fa4\u4e0a\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff0c\u5f00\u542f\u4e00\u4e2a\u865a\u62df\u7ec8\u7aef\uff1a</p> <pre><code>user@login01$ bsub -q fat -n 1 -Is bash\nJob &lt;xxx&gt; is submitted to queue &lt;fat&gt;.\n&lt;&lt;Waiting for dispatch ...&gt;&gt;\n&lt;&lt;Starting on c51-s001&gt;&gt;\nuser@c51-s001:~$ \n</code></pre> <p>\u6ce8\u610f <code>bsub</code> \u7684\u9644\u52a0\u547d\u4ee4\u8bf7\u53c2\u7167\u96c6\u7fa4\u4f7f\u7528\u8bf4\u660e\uff0c Walltime\u53ca\u961f\u5217\u60c5\u51b5\u4ecd\u9700\u8981\u53c2\u7167\u8bbe\u7f6e\u3002</p> <p>\u7136\u540e\uff0c\u8bf7\u6253\u5f00\u4e00\u4e2aVSCode\u7a97\u53e3\uff0c\u5e76\u70b9\u51fb\u5de6\u4e0b\u89d2\u7684\u6309\u94ae\uff0c\u9009\u62e9\u201cConnect to Host\u201d\uff1a</p> <p></p> <p>\u8f93\u5165\u865a\u62df\u7ec8\u7aef\u6240\u5728\u7684\u8282\u70b9\uff0c\u4f8b\u5982\u4e0a\u6587\u4e2d\u7684\u8f93\u51fa <code>c51-s001</code>:</p> <p></p> <p>\u5982\u679c\u63d0\u793a\u8f93\u5165\u5bc6\u7801\u7b49\u4fe1\u606f\uff0c\u8bf7\u6309\u56de\u8f66\u4ee5\u7ee7\u7eed</p> <p></p> <p>\u7b49\u5f85\u5b89\u88c5 VSCode Server \u5373\u53ef\u3002\u82e5\u4ee5\u524d\u66fe\u914d\u7f6e\u8fc7\u8fdc\u7a0b\uff0c\u4f1a\u81ea\u52a8\u8c03\u7528\u4e4b\u524d\u7684\u670d\u52a1\u3002</p>"},{"location":"wiki/cluster_usage/vscode_remote/#windows","title":"Windows \u7528\u6237","text":"<p>\u5bf9\u4e8eWindows\u7528\u6237\uff0c\u7531\u4e8e\u7b14\u8005\u6682\u65f6\u6ca1\u6709Windows\u8bbe\u5907\uff0c\u8bf7\u53c2\u7167\u6b64\u6559\u7a0b\u5c1d\u8bd5\uff0c\u601d\u8def\u6bd4\u8f83\u63a5\u8fd1\u3002\u672c\u6587\u5373\u53c2\u8003\u4e86\u8be5\u6587\u7ae0\u7684\u5b9e\u73b0\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/","title":"Windows\u4e0bWSL\u4f7f\u7528\u7b80\u4ecb","text":""},{"location":"wiki/cluster_usage/wsl_usage/#wsl","title":"\u524d\u8a00\uff1a\u4e3a\u4ec0\u4e48\u9700\u8981WSL","text":"<p>\u7531\u4e8e\u79cd\u79cd\u539f\u56e0\uff0c\u7ec4\u5185\u63d0\u4f9b\u7684\u5de5\u4f5c\u7535\u8111\u7684\u64cd\u4f5c\u7cfb\u7edf\u5df2\u7ecf\u9010\u6e10\u4eceMac\u8f6c\u5411Windows\uff08\u66f4\u4e25\u8c28\u7684\u5e94\u8be5\u8bf4\u662fx86_64\u67b6\u6784\u7684\u7ec4\u88c5\u673a\uff09\uff0c\u540c\u65f6\u8fd1\u5e74\u6765Windows\u7b14\u8bb0\u672c\u7aef\u53ef\u9009\u62e9\u6027\u66f4\u4e3a\u4e30\u5bcc\uff0c\u7efc\u5408\u8bf8\u591a\u56e0\u7d20\u6765\u770b\u5728\u4e00\u4e9b\u4f53\u9a8c\u4e0a\u5df2\u7ecf\u53ef\u4ee5\u505a\u5230\u4e0d\u5f31\u4e8eMac\u3002\u800c\u7531\u4e8eWindows\u64cd\u4f5c\u7cfb\u7edf\u5e76\u4e0d\u662f\u57fa\u4e8eUnix\u7684\u7cfb\u7edf\uff0c\u56e0\u6b64\u7cfb\u7edf\u81ea\u5e26\u7684\u7ec8\u7aef\u64cd\u4f5c\u903b\u8f91\u4ee5\u53ca\u6587\u4ef6\u7cfb\u7edf\u548cliunx\u672c\u8eab\u6709\u8f83\u5927\u7684\u533a\u522b\uff0c\u5728\u4f7f\u7528\u65f6\u53ef\u80fd\u4f1a\u5e26\u6765\u4e00\u4e9b\u56f0\u60d1\u4ee5\u53ca\u4e0d\u517c\u5bb9\u7684\u60c5\u51b5\u3002\u800c\u989d\u5916\u5b66CMD\u547d\u4ee4\u6709\u4e9b\u5f97\u4e0d\u507f\u5931\u800c\u4e14\u53ef\u80fd\u4f1a\u548clinux\u7ec8\u7aef\u547d\u4ee4\u641e\u6df7\u6765\u3002</p> <p>\u800c\u5bf9\u4e8eWindows\u4e0b\u8f83\u4e3a\u6210\u719f\u7684\u5404\u79cd\u7ec8\u7aef\u8f6f\u4ef6\u5982MobaXTerm\uff0cPutty\uff0c\u4ed6\u4eec\u5728\u4f7f\u7528\u4f53\u9a8c\u4e0a\u8fdc\u8fdc\u4e0d\u53caMac\u7cfb\u7edf\u672c\u8eab\u5e26\u7684\u7ec8\u7aef\uff0c\u4e14\u6574\u4f53\u903b\u8f91\u8f83\u4e3a \u5272\u88c2 \uff0c\u65e0\u6cd5\u5c06\u7cfb\u7edf\u548c\u7ec8\u7aef\u76f4\u63a5\u8054\u7cfb\u8d77\u6765\u3002\u5982\u5728MobaXTerm\u4e0b\u4f7f\u7528\u5176\u76f4\u63a5\u4f20\u9012\u6587\u4ef6\u7684\u901f\u5ea6\u5e76\u4e0d\u5feb\uff0c\u5927\u591a\u65f6\u5019\u9650\u5236\u56e0\u7d20\u5e76\u4e0d\u662f\u7f51\u901f\uff0c\u8fdc\u4e0d\u5982\u4f7f\u7528<code>scp</code>\u547d\u4ee4\u8fdb\u884c\u7684\u6587\u4ef6\u4f20\uff1bPutty\u672c\u8eab\u4e0d\u652f\u6301x11\uff0c\u5982\u679c\u9700\u8981\u914d\u7f6e\u8fdc\u7a0b\u53ef\u89c6\u5316\u7a97\u53e3\u6d41\u7a0b\u590d\u6742\uff0c\u800c\u4e14\u9700\u8981\u5728\u4f7f\u7528\u65f6\u6302\u4e00\u4e2ax11\u8f6c\u53d1\u8f6f\u4ef6\uff0c\u540c\u65f6\u4e0d\u652f\u6301<code>scp</code>\u672c\u5730\u6587\u4ef6\u4f20\u9012\uff0c\u60f3\u8981\u4f20\u4e2a\u6587\u4ef6\u8fd8\u9700\u8981\u518d\u5f00\u4e00\u4e2awindows\u7ec8\u7aef\u6216\u8005scp\u8f6f\u4ef6\uff0c\u8fd9\u592a\u4e0d\u4f18\u96c5\u4e86\u3002</p> <p>\u800cWSL\uff08Windows Subsystem for Linux\uff09\u7684\u51fa\u73b0\u5927\u5927\u7f13\u89e3\u4e86\u8fd9\u79cd\u4ee4\u4eba\u4e24\u96be\u7684\u60c5\u51b5\uff0c\u5355\u7eaf\u4ece\u4f7f\u7528\u8005\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5176\u548c\u76f4\u63a5\u4f7f\u7528linux\u547d\u4ee4\u5bf9Windows\u8fdb\u884c\u7ba1\u7406\u6ca1\u6709\u592a\u5927\u7684\u533a\u522b\uff0c\u6211\u4eec\u53ef\u4ee5\u540c\u65f6\u4eab\u53d7\u5230Windows\u53ef\u89c6\u5316\u754c\u9762\u5728\u4fe1\u606f\u5904\u7406\u65b9\u9762\u5e26\u6765\u7684\u4fbf\u5229\u4ee5\u53calinux\u547d\u4ee4\u884c\u5e26\u6765\u7684\u6279\u5904\u7406\u65b9\u9762\u7684\u4fbf\u5229\u6027\u3002\u7279\u522b\u662f\u5728ssh\u7684\u4f7f\u7528\u65b9\u9762\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u670d\u52a1\u5668\u7684\u96c6\u7fa4\u64cd\u4f5c\u4ee5\u53ca\u6587\u4ef6\u4f20\u8f93\u540c\u65f6\u5728\u4e00\u4e2a\u7ec8\u7aef\u5185\u8fdb\u884c\u4f53\u9a8c\u8f83\u4e3a\u826f\u597d\u7684\u5b8c\u6210\uff0c\u8fd9\u5728\u4e4b\u524d\u7684\u4efb\u4f55\u8f6f\u4ef6\u4e2d\u90fd\u662f\u6ca1\u6709\u5f88\u597d\u5730\u5b9e\u73b0\u7684\u3002</p> <p>\u5982\u679c\u7535\u8111\u672c\u5730\u6709\u4e00\u4e9b\u6027\u80fd\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5c1d\u8bd5\u5728wsl\u4e2d\u5b89\u88c5\u4e00\u4e9b\u8ba1\u7b97\u8f6f\u4ef6\u6216\u8005\u8c03\u8bd5\u73af\u5883\uff0c\u8fd9\u6837\u53ef\u4ee5\u5728\u672c\u5730\u505a\u4e00\u4e9b\u77ed\u671f\u7684\u53c2\u6570\u9a8c\u8bc1\u4ee5\u53ca\u4ee3\u7801\u8c03\u8bd5\uff0c\u4e0d\u9700\u8981\u53cd\u590d\u63d0\u4ea4\u5230\u96c6\u7fa4\u4e0a\u8fdb\u884c\u6392\u961f\uff0c\u63d0\u9ad8\u4e00\u5b9a\u6548\u7387\u7684\u540c\u65f6\u53ef\u4ee5\u8282\u7701\u4e00\u4e9b\u673a\u65f6\u8d39\u7528\u3002\u5982cp2k\u4e2d\u7684<code>REL_CUTOFF</code>\u4ee5\u53ca<code>CUTOFF</code>\u53c2\u6570\u7684\u8c03\u4f18\u53ef\u4ee5\u5728\u672c\u5730\u5feb\u901f\u8fdb\u884c\uff0c\u518d\u5728\u96c6\u7fa4\u4e0a\u8fdb\u884c\u957f\u65f6\u95f4\u7684\u8ba1\u7b97\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#wsl_1","title":"WSL\u5b89\u88c5","text":"<p>\u6b64\u8fc7\u7a0b\u8f83\u4e3a\u5bb9\u6613\uff0c\u4e14\u5b98\u65b9\u6559\u7a0b\u3001\u4e2d\u6587\u6559\u7a0b\u5728\u4e92\u8054\u7f51\u4e0a\u8f83\u4e3a\u8be6\u5c3d\uff0c\u4e0d\u518d\u8fc7\u591a\u5730\u5360\u7bc7\u5e45\u3002</p> <p>\u4ece\u7b14\u8005\u7684\u4f7f\u7528\u7ecf\u9a8c\u6765\u770b\uff0cWindows Terminal\u662f\u4e00\u4e2a\u6bd4\u8f83\u4e0d\u9519\u7684\u7ec8\u7aef\uff08Win11\u7cfb\u7edf\u9ed8\u8ba4\uff0cWin10\u9700\u8981\u81ea\u5df1\u5b89\u88c5\uff09\uff0c\u5728\u65b0\u7248\u4e2d\u4f7f\u7528wsl2\u53ef\u4ee5\u76f4\u63a5\u652f\u6301x11\u7684\u8f6c\u53d1\uff0c\u4e0d\u884c\u7684\u53ef\u4ee5\u53c2\u8003\u7f51\u9875\u8fdb\u884c\u8bbe\u7f6e\u3002</p> <p>\u7248\u672c\u63a8\u8350</p> <p>\u76ee\u524dwsl\u9ed8\u8ba4\u7248\u672c\u4e3awsl2\uff0c\u53ef\u4ee5\u5b8c\u6574\u652f\u6301linux\u5185\u6838\u7684\u529f\u80fd\uff08\u6700\u5927\u7684\u8fdb\u5316\u662f\u652f\u6301\u4e86docker\u548csystemd\uff09\uff0c\u540e\u9762\u7684\u5185\u5bb9\u9ed8\u8ba4\u4ee5\u6b64\u7248\u672c\u4e3a\u51c6\u3002\u540c\u65f6linux\u7248\u672c\u4e5f\u53ef\u4ee5\u9009\u62e9\u9ed8\u8ba4\u7684Ubuntu\uff0c\u4f5c\u4e3a\u5728\u4e2a\u4eba\u7aef\u5e94\u7528\u8f83\u5e7f\u7684linux\u53d1\u884c\u7248\uff0c\u5728\u9047\u5230\u95ee\u9898\u65f6\u901a\u8fc7\u4e92\u8054\u7f51\u67e5\u627e\u4fe1\u606f\u80fd\u591f\u89e3\u51b3\u7684\u6982\u7387\u76f8\u5bf9\u8f83\u5927\u3002</p> <p>\u7ec8\u6b62/\u91cd\u542fwsl\u7279\u5b9a\u7248\u672c\u7684\u65b9\u6cd5\uff0c\u5728Powershell/CMD\u4e2d\uff1a <pre><code>wsl --shutdown distro_name\ndistro_name    # \u542f\u52a8\u6307\u5b9a\u53d1\u884c\u7248\n</code></pre> \u5176\u4e2d<code>distro_name</code>\u4e3a\u5b89\u88c5\u7684\u53d1\u884c\u7248\u540d\u79f0\uff0c\u53ef\u4ee5\u901a\u8fc7<code>wsl -l -v</code>\u67e5\u770b\u5df2\u7ecf\u5b89\u88c5\u7684\u53d1\u884c\u7248\u3002</p> <p>\u5f53\u7136\uff0cWSL\u6709\u7740\u6781\u5f3a\u7684\u81ea\u6211\u7ba1\u7406\u610f\u8bc6\uff0c\u5728WSL\u4e2d\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5b9e\u73b0\u81ea\u95ed\u548c\u91cd\u542f\uff0c\u8fd9\u5f97\u76ca\u4e8eWSL\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528windows\u4e0b\u9762\u7684\u7a0b\u5e8f\uff0c\u53ea\u8981<code>wsl.exe</code>\u5728windows\u7684\u73af\u5883\u53d8\u91cf\u5f53\u4e2d\uff0c\u5c31\u53ef\u4ee5\u5b9e\u73b0\u5728wsl\u4e2d\u7684\u76f4\u63a5\u8c03\u7528\uff1a <code>wsl.exe --shutdown distro_name</code>\uff0c\u7136\u540e\u76f4\u63a5\u5728\u7ec8\u7aef\u4e0b\u6309\u56de\u8f66\u5c31\u53ef\u4ee5\u76f4\u63a5\u5b9e\u73b0\u91cd\u542f\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#wsl_2","title":"\u5c06WSL\u79fb\u52a8\u5230\u5176\u4ed6\u5206\u533a","text":"<p>wsl\u9ed8\u8ba4\u5b89\u88c5\u5728C\u76d8\u4e0b\uff0c\u5982\u679cC\u76d8\u521d\u59cb\u5206\u914d\u7684\u76f8\u5bf9\u8f83\u5c0f\u6216\u8005\u6709C\u76d8\u7a7a\u95f4\u7126\u8651\uff0c\u53ef\u4ee5\u8003\u8651\u5c06\u6307\u5b9a\u7684wsl\u79fb\u52a8\u5230\u5176\u4ed6\u7684\u76d8\u7b26\u4e0b\u3002\u8bf7\u53c2\u8003\uff1a\u8f7b\u677e\u642c\u8fc1\uff01</p>"},{"location":"wiki/cluster_usage/wsl_usage/#wslssh","title":"WSL\u914d\u7f6essh\u73af\u5883","text":"<p>\u5728\u57fa\u7840\u8bbe\u7f6e\u4e0a\u548cssh\u4f7f\u7528\u7ae0\u8282\u6ca1\u6709\u533a\u522b\u3002\u4e0b\u9762\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u4fbf\u5229\u4f7f\u7528\u7684\u65b9\u6cd5\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#wslvpn","title":"\u6539\u5584\u4f7f\u7528\u4f53\u9a8c\u7684\u5173\u952e\uff1aWSL\u7684vpn\u73af\u5883","text":"<p>\u5bf9\u4e8e\u5728\u975e\u6821\u56ed\u7f51\u73af\u5883\u4e0b\u529e\u516c\u7684\u60c5\u51b5\uff0cwsl\u548cEasyConnect\u7684\u517c\u5bb9\u6027\u5e76\u4e0d\u662f\u5f88\u597d\uff0c\u7ecf\u5e38\u51fa\u73b0\u5f00\u542fEasyConnect\u4e4b\u540ewsl\u65e0\u6cd5\u8bbf\u95ee\u7f51\u7edc\u7684\u60c5\u51b5\u3002\u5982\u679c\u60f3\u8981\u6b63\u5e38\u4f7f\u7528\u4e24\u8005\uff0c\u5c31\u9700\u8981\u5728\u5f00\u673a\u540e\u8fc5\u901f\u6253\u5f00EasyConnect\u5ba2\u6237\u7aef\uff0c\u518d\u6253\u5f00wsl\uff0c\u4f46\u662f\u8fd9\u79cd\u8fde\u63a5\u4e5f\u975e\u5e38\u8106\u5f31\uff0c\u4e2d\u95f4\u4f46\u51e1EasyConnect\u65ad\u5f00\uff0c\u5c31\u518d\u4e5f\u522b\u60f3\u8fde\u56de\u53bb\u4e86\uff0c\u552f\u4e00\u89e3\u51b3\u65b9\u6cd5\u5c31\u662f\u91cd\u542f\uff0c\u8fd9\u65e0\u7591\u4f1a\u4e3a\u5de5\u4f5c\u5e26\u6765\u76f8\u5f53\u7684\u56f0\u6270\u3002\u4e3a\u6b64\uff0c\u6709\u4ee5\u4e0b\u7684\u51e0\u79cd\u901a\u8fc7\u73af\u5883\u914d\u7f6e\u7684\u89e3\u51b3\u65b9\u6cd5\uff0c\u5176\u4e2d\u6700\u4e3a\u63a8\u8350\u7684\u662f\u7b2c\u4e00\u79cd\u65b9\u6cd5\uff1a</p>"},{"location":"wiki/cluster_usage/wsl_usage/#1-wsl-vpnkitwindows","title":"1. \u4f7f\u7528wsl-vpnkit\u540c\u6b65Windows\u7684\u7f51\u7edc\u73af\u5883","text":"<p>\u5de5\u5177\u5730\u5740\uff1awsl-vpnkit</p> <p>\u5728\u4f7f\u7528\u4e0a\uff0c\u6700\u65e0\u611f\u7684\u5b89\u88c5\u65b9\u5f0f\u4e3a\u4f7f\u7528wsl\u7684systemd\u65b9\u6cd5\u5efa\u7acb\u670d\u52a1\uff0c\u8fd9\u79cd\u65b9\u6cd5\u4e0d\u9700\u8981\u5efa\u7acb\u65b0\u7684\u53d1\u884c\u7248\u4e5f\u4e0d\u9700\u8981\u6bcf\u6b21\u5f00\u673a\u540e\u90fd\u91cd\u542f\u52a8\uff0c\u64cd\u4f5c\u8fc7\u7a0b\u5982\u4e0b\uff1a</p> <p>\u9996\u5148\u9700\u8981\u83b7\u53d6wsl-vpnkit\u7a0b\u5e8f\u672c\u4f53 <pre><code># \u5b89\u88c5\u4f9d\u8d56\n$ sudo apt-get install iproute2 iptables iputils-ping dnsutils wget\n\n# \u4e0b\u8f7dwsl-vpnkit\u5e76\u89e3\u538b\u5176\u4e2d\u5173\u952e\u7ec4\u4ef6\n$ VERSION=v0.4.x    # \u76ee\u524d\u6700\u65b0\u7248\u672c\u4e3av0.4.1\n$ wget https://github.com/sakai135/wsl-vpnkit/releases/download/$VERSION/wsl-vpnkit.tar.gz    # \u53ef\u80fd\u9700\u8981\u79d1\u5b66\u4e0a\u7f51\u4e0b\u8f7d\u518d\u4f20\u5230wsl\u4e2d\n$ tar --strip-components=1 -xf wsl-vpnkit.tar.gz \\\n    app/wsl-vpnkit \\\n    app/wsl-gvproxy.exe \\\n    app/wsl-vm \\\n    app/wsl-vpnkit.service\n$ rm wsl-vpnkit.tar.gz\n</code></pre> \u6b64\u540e\u5728\u8def\u5f84\u4e0b\u5c31\u53ef\u4ee5\u770b\u5230<code>wsl-vpnkit, wsl-gvproxy.exe, wsl-vm, wsl-vpnkit.service</code>\u56db\u4e2a\u6587\u4ef6\uff0c\u7f16\u8f91\u5176\u4e2d\u7684<code>wsl-vpnkit.service</code>\u6587\u4ef6\uff0c\u4ee5\u4e0b\u4e3a\u8be5\u79cd\u914d\u7f6e\u65b9\u5f0f\u7684\u53c2\u8003\uff1a <pre><code>$ vi wsl-vpnkit.service\n\n[Unit]\nDescription=wsl-vpnkit\nAfter=network.target\n\n[Service]\n# for wsl-vpnkit setup as a distro\n#ExecStart=/mnt/c/Windows/system32/wsl.exe -d wsl-vpnkit --cd /app wsl-vpnkit\n\n# for wsl-vpnkit setup as a standalone script\nExecStart=/usr/local/bin/wsl-vpnkit/wsl-vpnkit\nEnvironment=VMEXEC_PATH=/usr/local/bin/wsl-vpnkit/wsl-vm GVPROXY_PATH=/usr/local/bin/wsl-vpnkit/wsl-gvproxy.exe\n\nRestart=always\nKillMode=mixed\n\n[Install]\nWantedBy=multi-user.target\n</code></pre> \u6b64\u540e\u9700\u8981\u5c06\u8fd0\u884c\u6587\u4ef6\u548c\u670d\u52a1\u914d\u7f6e\u6587\u4ef6\u653e\u5230\u8be5\u653e\u7684\u4f4d\u7f6e\uff1a <pre><code>$ sudo mkdir /usr/local/bin/wsl-vpnkit\n$ sudo mv wsl-vpnkit wsl-gvproxy.exe wsl-vm /usr/local/bin/wsl-vpnkit/\n$ sudo mv wsl-vpnkit.service /etc/systemd/system/\n</code></pre> \u5176\u4e2d<code>/usr/local/bin/wsl-vpnkit</code>\u53ef\u4ee5\u662f\u4efb\u610f\u4f4d\u7f6e\uff0c\u786e\u4fddwsl\u5f00\u673a\u540e\u4e0d\u4f1a\u6d88\u5931\u5c31\u53ef\u4ee5\u3002\u6b64\u540e\u5c31\u53ef\u4ee5\u542f\u52a8\u670d\u52a1\u5e76\u8bbe\u7f6e\u5f00\u673a\u542f\u52a8\uff1a <pre><code>$ sudo systemctl enable wsl-vpnkit    # \u8bbe\u7f6e\u5f00\u673a\u542f\u52a8\n$ sudo systemctl start wsl-vpnkit     # \u5f00\u542f\u670d\u52a1\n$ systemctl status wsl-vpnkit         # \u67e5\u770b\u8fd0\u884c\u72b6\u6001\n</code></pre> \u5982\u679c\u6ca1\u6709\u67e5\u770b\u72b6\u6001\u6ca1\u6709\u62a5\u9519\uff0c\u5c31\u8bf4\u660e\u5df2\u7ecf\u53ef\u4ee5\u6b63\u5e38\u8fd0\u884c\u4e86\u3002</p> <p>\u5176\u4ed6\u7684\u8fd0\u884c\u6a21\u5f0f\u53ef\u4ee5\u53c2\u8003github\u754c\u9762\u8fdb\u884c\u8bbe\u7f6e\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#2-wslmirrored","title":"2. \u8bbe\u7f6eWSL\u7684\u7f51\u7edc\u6a21\u5f0f\u4e3amirrored","text":"<p>\u6ce8\u610f</p> <p>\u7f51\u7edc\u6620\u5c04\u5728wsl\u65b0\u7248\u672c\u4e2d\u4ecd\u4e3a\u5b9e\u9a8c\u6027\u529f\u80fd\uff0c\u53ef\u80fd\u5b58\u5728\u4e0d\u7a33\u5b9a\u7684\u60c5\u51b5\u3002\u540c\u65f6\u65e7\u7248\u672cwsl\u65e0\u6cd5\u4f7f\u7528\u3002\u5b9e\u6d4b\u5728EasyConnect\u73af\u5883\u4e0b\u5ef6\u8fdf\u5f88\u9ad8\uff0c\u7ecf\u5e38\u51fa\u73b0\u65ad\u8fde\u7684\u60c5\u51b5\u3002</p> <p>wsl\u9ed8\u8ba4\u7684\u7f51\u7edc\u6a21\u5f0f\u4e3aNAT\uff0c\u800cEasyConnect\u7684\u5de5\u4f5c\u539f\u7406\u53ef\u4ee5\u7b80\u5355\u7684\u7406\u89e3\u4e3a\u5efa\u7acb\u4e86\u4e00\u4e2a\u865a\u62df\u7f51\u5361\u548c\u6821\u56ed\u7f51\u8fdb\u884c\u6c9f\u901a\uff0c\u8fd9\u4e24\u79cd\u65b9\u5f0f\u5e76\u4e0d\u80fd\u8fdb\u884c\u5b8c\u7f8e\u7684\u914d\u5408\uff0c\u5177\u6709\u5f88\u5f3a\u7684\u5148\u540e\u8fd0\u884c\u987a\u5e8f\u7684\u5173\u8054\u3002\u800c\u5728\u65b0\u7248\u7684wsl\u7248\u672c\u4e2d\uff0c\u63d0\u4f9b\u4e86\u4e00\u79cd\u955c\u50cfWindows\u4e2d\u6240\u6709\u7684\u7f51\u7edc\u73af\u5883\u5230wsl\u4e2d\u7684\u624b\u6bb5\uff0c\u5305\u62ec\u7cfb\u7edf\u4ee3\u7406\u4e5f\u53ef\u4ee5\u955c\u50cf\u5230wsl\u5f53\u4e2d\u3002</p> <p>\u9996\u5148\u8bbe\u7f6e<code>.wslconfig</code>\u6587\u4ef6\uff1a <pre><code>$ vi /mnt/c/Users/username/.wslconfig\n\n[experimental]\nnetworkingMode=mirrored\n</code></pre></p> <p>\u5176\u4e2d<code>/mnt/c/Users/username/.wslconfig</code>\u662fWindows\u4e0b\u7684\u7528\u6237\u6839\u76ee\u5f55\u4e0b\u7684\u4e00\u4e2awsl\u914d\u7f6e\u6587\u4ef6\uff0c\u4e00\u822c\u662f\u65b0\u521b\u5efa\u7684\u3002\u540c\u65f6\uff0c\u8be5\u6587\u4ef6\u4e5f\u53ef\u4ee5\u8bbe\u7f6ewsl\u5360\u7528\u7684\u7cfb\u7edf\u8d44\u6e90\u7b49\u4e00\u4e9b\u53c2\u6570\u3002\u5b8c\u6210\u7f16\u8f91\u4fdd\u5b58\u5e76\u9000\u51fa\u540e\uff0c\u91cd\u542fwsl\u53d1\u884c\u7248\u5c31\u53ef\u4ee5\u5b9e\u73b0\u7f51\u5361\u7684\u6620\u5c04\u3002\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u7684\u547d\u4ee4\u8fdb\u884c\u89c2\u5bdf: <pre><code>$ sudo apt install net-tools\n$ ifconfig\n</code></pre></p> <p>\u53ef\u4ee5\u5c06\u8f93\u51fa\u7684\u4fe1\u606f\u548c\u4efb\u52a1\u7ba1\u7406\u5668\u4e2d\u7684\u7f51\u5361\u4fe1\u606f\u8fdb\u884c\u5bf9\u6bd4\uff0c\u53ef\u4ee5\u53d1\u73b0\u4efb\u52a1\u7ba1\u7406\u5668\u4e2d\u7684\u7f51\u5361ip\u5df2\u7ecf\u6620\u5c04\u5230wsl\u5f53\u4e2d\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u8bbf\u95ee\u6821\u56ed\u7f51\u670d\u52a1\u5668\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#3-wsl2-docker-easyconnect-clash","title":"3. WSL2 + Docker + EasyConnect + Clash","text":"<p>\u53c2\u8003\uff1a\u65b0\u65f6\u4ee3\u7684\u5feb\u4e50\u79d1\u7814\uff1aWSL2+Docker+EasyConnect+Clash</p> <p>\u8be5\u65b9\u5f0f\u7684\u5b9e\u73b0\u975e\u5e38\u4f18\u96c5\uff0c\u5e76\u4e14\u56e0\u4e3a\u5bb9\u5668\u5316\u7684\u539f\u56e0\u80fd\u591f\u8ba9EasyConnect\u975e\u5e38\u8001\u5b9e\uff0c\u4e14\u53ef\u4ee5\u767b\u5f55\u4e00\u4e2avpn\u8ba9\u591a\u4e2a\u8bbe\u5907\u4f7f\u7528\uff0c\u8ba9\u6821\u56ed\u7f51\u5916\u7684\u624b\u673a\u548c\u5e73\u677f\u5e73\u53f0\u4e5f\u80fd\u8bbf\u95ee\u6821\u56ed\u7f51\uff08\u79fb\u52a8\u7aef\u7684EasyConnect\u5e76\u4e0d\u652f\u6301\u626b\u7801\u767b\u5f55\uff09\u3002\u6bd4\u8f83\u9ebb\u70e6\u7684\u70b9\u5728\u4e8e\u5982\u679c\u4f60\u7684Clash\u914d\u7f6e\u6587\u4ef6\u4f1a\u81ea\u52a8\u66f4\u65b0\uff0c\u4f1a\u8986\u76d6\u81ea\u5df1\u52a0\u5165\u7684\u90a3\u4e00\u884c\u8f6c\u53d1\u89c4\u5219\uff0c\u4e0d\u66f4\u65b0\u53ef\u80fd\u5bfc\u81f4\u548c\u67d0scholar\u68c0\u7d22say byebye\u3002\u540c\u65f6<code>.ssh/config</code>\u6587\u4ef6\u7684\u7f16\u5199\u4f1a\u7a0d\u5fae\u6709\u4e00\u4e9b\u95ee\u9898\uff0c\u5982\u679c\u5728\u6821\u56ed\u7f51\u4e0b\u5de5\u4f5c\u6ca1\u6709\u6253\u5f00vpn\u7684\u60c5\u51b5\u662f\u4e0d\u9700\u8981\u8d70\u4ee3\u7406\u7aef\u53e3\u7684\uff0c\u6b64\u65f6\u82e5\u4e0d\u4fee\u6539\u6587\u4ef6\u5185\u5bb9\u5c31\u4f1a\u62a5\u9519\uff08</p>"},{"location":"wiki/cluster_usage/wsl_usage/#wsl-scp","title":"WSL\u7684\u6587\u4ef6\u7cfb\u7edf: scp\u4f7f\u7528\u76f8\u5173","text":"<p>\u6b64\u5904\u662fWSL\u76f8\u5bf9\u4e8e\u5176\u4ed6\u89e3\u51b3\u65b9\u6848\u6700\u6709\u4f18\u52bf\u7684\u5730\u65b9\u3002WSL\u53ef\u4ee5\u5c06Windows\u7684\u786c\u76d8\u6302\u8f7d\u5728\u6587\u4ef6\u7cfb\u7edf\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7<code>df -h</code>\u547d\u4ee4\u8fdb\u884c\u67e5\u770b\uff1a <pre><code>$ df -h\nFilesystem      Size  Used Avail Use% Mounted on\n...\n/dev/sdc       1007G   50G  907G   6% /\n...\nC:\\             203G   88G  115G  44% /mnt/c\nD:\\             196G   80G  116G  41% /mnt/d\nE:\\             528G   52G  476G  10% /mnt/e\n</code></pre> \u5728\u6b64\u5904\uff0c\u786c\u76d8\u88ab\u5206\u4e86\u4e09\u4e2a\u76d8\u7b26\uff0c\u5747\u53ef\u4ee5\u76f4\u63a5\u5728WSL\u4e2d\u770b\u5230\uff0c\u5176\u9ed8\u8ba4\u7684\u6302\u8f7d\u70b9\u662f<code>/mnt/x</code>\uff0c\u5e76\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7WSL\u4e0b\u7684linux\u547d\u4ee4\u8fdb\u884c\u64cd\u4f5c\uff0c\u5982\u6211\u60f3\u5c06\u684c\u9762\u4e0a\u7684\u6240\u6709python\u811a\u672c\u4f20\u9012\u5230\u96c6\u7fa4\u4e0a\uff1a <pre><code>$ scp /mnt/disk/Users/username/Desktop/*py server:~/scripts\n</code></pre> \u5176\u4e2d<code>disk</code>\u4e3a\u7535\u8111\u684c\u9762\u7684\u6240\u5728\u7684\u76d8\u7b26\uff08\u5982\u679c\u6ca1\u6709\u79fb\u52a8\u8fc7\u9ed8\u8ba4\u5728C\u76d8\uff0c\u5219\u5176\u503c\u4e3ac\uff09\uff0c<code>username</code>\u4e3a\u4f60\u7684\u7535\u8111\u7528\u6237\u540d\uff08\u8fd9\u4e5f\u662f\u4e0d\u5efa\u8bae\u5c06\u7528\u6237\u540d\u8bbe\u7f6e\u4e3a\u4e2d\u6587\u7684\u539f\u56e0\u4e4b\u4e00\uff0c\u53ef\u80fd\u4f1a\u5f15\u8d77\u9519\u8bef\u6216\u8005\u8f93\u5165\u4e0d\u4fbf\uff09\uff0c<code>server</code>\u53ef\u4ee5\u901a\u8fc7<code>.ssh/config</code>\u8fdb\u884c\u8bbe\u7f6e\u3002</p> <p>\u6bcf\u6b21\u90fd\u9700\u8981\u8f93\u5165\u8fd9\u4e48\u4e00\u957f\u4e32\u8def\u5f84\u4f1a\u5f88\u9ebb\u70e6\uff0c\u56e0\u4e3a\u6302\u8f7d\u70b9\u5728\u542f\u52a8\u65f6\u5e76\u4e0d\u4f1a\u6539\u53d8\uff0c\u56e0\u6b64\u53ef\u4ee5\u5c06\u5e38\u7528\u7684\u6587\u4ef6\u5939\u6620\u5c04\u5230<code>$HOME</code>\u4e0b\uff1a <pre><code>$ ln -sf /mnt/disk/Users/&lt;username&gt;/Desktop $HOME/windows_desktop\n</code></pre> \u56e0\u4e3a\u5efa\u7acb\u7684\u662f\u8f6f\u94fe\u63a5\uff0c\u56e0\u6b64\u5728Windows\u4e2d\u505a\u7684\u6539\u52a8\u90fd\u4f1a\u53cd\u6620\u5728\u6587\u4ef6\u5f53\u4e2d\uff0c\u4e0d\u9700\u8981\u53cd\u590d\u8fdb\u884c\u540c\u6b65\u3002\u6b64\u540e\u5c31\u53ef\u4ee5\u76f4\u63a5\u5c06<code>$HOME/windows_desktop</code>\u4e2d\u7684\u6587\u4ef6\u901a\u8fc7<code>scp</code>\u4f20\u9012\u5230\u670d\u52a1\u5668\u4e0a\u4e86\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#_1","title":"\u6302\u8f7d\u989d\u5916\u78c1\u76d8","text":"<p>\u5982\u4f55\u521b\u5efa\u865a\u62df\u78c1\u76d8\u8bf7\u53c2\u8003\u5982\u4f55\u521b\u5efahyper-v\u865a\u62df\u673a\u78c1\u76d8\u3002</p> <p>\u76ee\u524dWSL\u5e76\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\u81ea\u52a8\u6302\u8f7d\u989d\u5916\u865a\u62df\u786c\u76d8\uff0c\u4f46\u662f\u53ef\u4ee5\u624b\u52a8\u6302\u8f7d\u78c1\u76d8\uff0c\u5bf9\u4e8e\u5728windows\u8def\u5f84<code>&lt;route_to_disk&gt;</code>\u4e0b\u7684\u865a\u62df\u78c1\u76d8\uff0c\u5176\u6700\u7b80\u5355\u7684\u65b9\u5f0f\u4e3a</p> <pre><code>wsl --mount --vhd &lt;route_to_disk&gt; --bare\n</code></pre> <p>\u7136\u800c\u65e0\u8bba\u5982\u4f55\u6302\u8f7d\uff0c\u5728WSL\u91cd\u542f\u540e\u90fd\u9700\u8981\u8fdb\u884c\u91cd\u65b0\u6302\u8f7d\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u7b80\u5355\u7684bat\u811a\u672c\u6765\u4f7f\u5f97\u6bcf\u6b21\u91cd\u542fWSL\u540e\u90fd\u80fd\u81ea\u52a8\u6302\u8f7d</p> <pre><code>C:\\wsl_automount.bat(or somewhere u like)\n\nwsl --mount --vhd &lt;route_to_disk&gt; --bare &amp;&amp; wsl -d &lt;distro_name&gt;\n\nC:\\Users\\&lt;username&gt;\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup\\wsl_startup.vbs\n\nset ws=wscript.CreateObject(\"wscript.shell\")\nws.run \"cmd.exe /c C:\\wsl_automount.bat\", 0\n</code></pre> <p>\u8fd9\u6837\u53ef\u4ee5\u5c06<code>wsl_startup.vbs</code>\u811a\u672c\u653e\u5728\u542f\u52a8\u6587\u4ef6\u5939\u4e0b\uff0c\u5c31\u53ef\u4ee5\u5728Windows\u542f\u52a8\u7684\u65f6\u5019\u81ea\u52a8\u542f\u52a8WSL\uff0c\u540c\u65f6\u5728\u7ec8\u7aef\u9000\u51fa\u540e\u4e5f\u4e0d\u4f1a\u81ea\u52a8\u5173\u95edWSL\uff0c\u907f\u514d\u4e00\u4e9b\u540e\u53f0\u4efb\u52a1\u88ab\u4e2d\u6b62\u3002</p> <p>\u6b64\u540e\u5c31\u53ef\u4ee5\u5728WSL\u4e2d\u7684<code>/etc/fstab</code>\u4e2d\u89c4\u5b9a\u865a\u62df\u78c1\u76d8\u7684\u6302\u8f7d\u4f4d\u7f6e\uff08\u6700\u597d\u4f7f\u7528uuid\u7684\u65b9\u5f0f\u6307\u5b9a\u78c1\u76d8\uff09\uff0c\u6216\u8005\u5728<code>/etc/wsl.conf</code>\u4e2d\u7684<code>[automount]</code>\u9009\u9879\u4e2d\u66f4\u6539\u9ed8\u8ba4\u7684\u6302\u8f7d\u4f4d\u7f6e\uff0c\u4f46\u662f\u8fd9\u9879\u7684\u66f4\u6539\u540c\u6837\u4f1a\u66f4\u6539Windows\u7269\u7406\u78c1\u76d8\u7684\u6302\u8f7d\u9009\u9879\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#sshconfigvscode","title":"<code>.ssh/config</code>\u6587\u4ef6\u540c\u6b65\uff1aVSCode\u4f7f\u7528\u4e00\u81f4\u6027","text":"<p>\u5982\u679c\u60f3\u8981\u5728Windows\u7cfb\u7edf\u4e2d\u4f7f\u7528VSCode\u8fde\u63a5\u8fdc\u7a0b\u670d\u52a1\u5668\uff0c\u5c31\u8981\u8c03\u6574Windows\u8def\u5f84\u4e0b\u7684<code>.ssh/config</code>\u6587\u4ef6\u8fdb\u884c\u8c03\u6574\uff0c\u7136\u800c\u6211\u4eec\u5e73\u5e38\u7684\u7ec8\u7aef\u5de5\u4f5c\u5f80\u5f80\u5728WSL\u7cfb\u7edf\u4e2d\u8fdb\u884c\uff0c\u5bfc\u81f4\u4e24\u5957<code>.ssh/config</code>\u6587\u4ef6\u4e0d\u540c\uff0c\u8fd9\u4e5f\u662f\u9020\u6210\u4f7f\u7528\u611f\u5272\u88c2\u7684\u539f\u56e0\u4e4b\u4e00\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5c06Windows\u4e0b\u7684<code>.ssh/config</code>\u8f6f\u94fe\u63a5\u81f3<code>~/.ssh/config</code>\uff0c\u8fd9\u6837\u4fee\u6539\u65f6\u5c31\u662f\u540c\u6b65\u7684\u3002</p> <p>\u7136\u800c\u5728WSL\u7684\u9ed8\u8ba4\u6a21\u5f0f\u4e2d\uff0c<code>/mnt/c</code>\u7684\u6743\u9650\u4e3a777\uff0c\u800c\u8fd9\u548c<code>config</code>\u6587\u4ef6\u8981\u6c42\u7684\u6743\u9650\u5dee\u7684\u5f88\u591a\uff08<code>config</code>\u6587\u4ef6\u8981\u6c42600\uff09\uff0c\u800c\u5728\u9ed8\u8ba4\u7684\u6302\u8f7d\u65b9\u5f0f\u4e0b\uff0c\u5e76\u4e0d\u80fd\u4fee\u6539\u6587\u4ef6\u7684\u6743\u9650\uff0c\u56e0\u6b64\u9700\u8981\u8c03\u6574\u9ed8\u8ba4\u7684\u6302\u8f7d\u9009\u9879\uff0c\u5728<code>/etc/wsl.conf</code>\u4e2d\u52a0\u5165\uff1a <pre><code>[automount]\noptions = \"metadata,uid=1000,gid=1000,umask=002,fmask=002,dmask=002\"\n</code></pre></p> <p>\u5176\u4e2d<code>uid</code>,<code>gid</code>\u53ef\u4ee5\u901a\u8fc7<code>id</code>\u547d\u4ee4\u83b7\u53d6\uff0c<code>*mask</code>\u4f7f\u7528\u65b9\u6cd5\u53ef\u4ee5\u81ea\u884c\u67e5\u9605\u3002\u4fee\u6539\u5b8c\u6210\u540e\u91cd\u542f\u53d1\u884c\u7248\uff0c\u53d1\u73b0\u53ef\u4ee5\u4fee\u6539\u6302\u8f7d\u7684\u6587\u4ef6\u7684\u6743\u9650\u4e86\uff1a <pre><code>chmod 600 /mnt/c/Users/&lt;windows_user&gt;/.ssh/config\nmv ~/.ssh/config ~/.ssh/config.bak\nln -sf /mnt/c/Users/&lt;windows_user&gt;/.ssh/config ~/.ssh/config\n</code></pre></p> <p>\u5f53\u7136\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u5c06\u5e38\u7528\u9700\u8981\u4f7f\u7528VSCode\u7684\u670d\u52a1\u5668\u5355\u72ec\u5217\u4e00\u4e2a<code>config</code>\u6587\u4ef6\u5e76\u5728VSCode\u7684\u8bbe\u7f6e\u4e2d\u8fdb\u884c\u4fee\u6539\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#wsl_3","title":"WSL\u8f6f\u4ef6\u5b89\u88c5\u8e29\u5751\uff08\u672a\u5b8c\u5f85\u7eed\uff09","text":"<p>WSL\u53d1\u884c\u7248\uff1aUbuntu-24.04</p>"},{"location":"wiki/cluster_usage/wsl_usage/#cp2k","title":"CP2K","text":"<p>\u4e0d\u8981\u4f7f\u7528<code>sudo apt install mpich</code>\u7684\u65b9\u6cd5\u5b89\u88c5mpi\u8fd0\u884c\u5e93\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u5373\u4f7f\u4f7f\u7528<code>psmp</code>\u7248\u672c\u4e5f\u65e0\u6cd5\u4f7f\u7528mpi\u5e76\u884c\u8ba1\u7b97\u7684bug\uff0c<code>mpirun</code>\u4f1a\u5bfc\u81f4\u540c\u65f6\u8fd0\u884cn\u4e2a\u76f8\u540c\u7684\u5b50\u7a0b\u5e8f\u3002\u5982\u679c\u4e0d\u60f3\u81ea\u5df1\u7f16\u8bd1mpi\u5e93\u7684\u8bdd\uff0c\u56e0\u4e3a\u4e0d\u662f\u96c6\u7fa4\u591a\u8f6f\u4ef6\u73af\u5883\u4e00\u822c\u6ca1\u6709\u4f9d\u8d56\u51b2\u7a81\uff0c\u4f7f\u7528<code>--with-openmpi=install</code>\uff0c\u6b64\u540e\u4f7f\u7528\u65f6<code>source /dir/to/cp2k/tools/toolchain/setup</code>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u5373\u53ef\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#vmd","title":"VMD","text":"<p>\u5728\u4f7f\u7528WSL2\u5b89\u88c5linux\u7248\u672c\u7684vmd\u7684\u65f6\u5019\uff0c\u5982\u679c\u4f7f\u7528\u9ed8\u8ba4\u7684OpenGL\u6e32\u67d3\u5668\uff0c\u4f1a\u51fa\u73b0\u6e32\u67d3\u901f\u5ea6\u8fc7\u6162\uff0c\u5bfc\u81f4\u8f68\u8ff9\u9884\u89c8\u4e0d\u6d41\u7545\u7684\u95ee\u9898\u51fa\u73b0\u3002\u800cWSL2\u7684\u6587\u4ef6\u7cfb\u7edf\u6027\u80fd\u76f8\u5bf9\u4e8eWSL1\u7684\u6a21\u5f0f\u8f83\u5dee\uff0c\u7f51\u7edc\u4e0a\u63d0\u4f9b\u7684\u4f7f\u7528WSL\u8bbf\u95eewindows\u4e0b\u7684vmd\u7a0b\u5e8f\u7684\u65b9\u6cd5\u4f1a\u9047\u5230\u52a0\u8f7d\u4e0d\u51fa\u8f68\u8ff9\u6587\u4ef6\u7684\u95ee\u9898\u3002</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a - \u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06\u9ed8\u8ba4\u7684OpenGL\u6e32\u67d3\u5668\u6362\u4e3aOpenGL-GLSL\u6e32\u67d3\u5668\u3002\u5982\u679c\u60f3\u6539\u53d8\u9ed8\u8ba4\u7684\u6e32\u67d3\uff0c\u53ef\u4ee5\u5c06<code>display rendermode GLSL</code>\u52a0\u5165\u5230<code>~/.vmdrc</code>\u6587\u4ef6\u5f53\u4e2d\uff0c\u8fd9\u6837vmd\u9884\u89c8\u8f68\u8ff9\u5c31\u4f1a\u53d8\u5f97\u6d41\u7545\uff0c\u4e0d\u518d\u53d7\u5230\u6e32\u67d3\u5668\u6027\u80fd\u7684\u5f71\u54cd\u3002\u4e00\u822c\u6765\u8bf4\u8fd9\u79cd\u65b9\u6cd5\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u76f8\u5bf9\u8f83\u5c0f\u3002</p> <ul> <li>\u6bd4\u8f83\u901a\u7528\u7684\u89e3\u51b3\u65b9\u6cd5\u662f\u66f4\u6362\u9ed8\u8ba4\u7684\u6e32\u67d3\u5668\uff0c\u6bd4\u5982\u8f83\u4e3a\u901a\u7528\u7684<code>llvm</code>\u6e32\u67d3\u5668\uff0c\u76f4\u63a5\u4f7f\u7528CPU\u5bf9\u753b\u9762\u8fdb\u884c\u6e32\u67d3\uff0c\u8c03\u7528\u65b9\u6cd5\u4e3a\u5728<code>.bashrc</code>\u4e2d\u52a0\u5165\u4ee5\u4e0b\u8bed\u53e5\u6216\u8005\u6bcf\u6b21\u8fd0\u884c\u524d\u8f93\u5165\u4e0b <pre><code>export LIBGL_ALWAYS_INDIRECT=0 \nexport GALLIUM_DRIVER=llvmpipe\n</code></pre> \u8fd9\u6837\u7684\u65b9\u6cd5\u53ef\u4ee5\u7edf\u4e00\u5c06\u6240\u6709\u7684\u6e32\u67d3\u5668\u6539\u4e3a<code>llvm</code>\uff0c\u5305\u62ec<code>ovito</code>\u7b49\u53ef\u89c6\u5316\u8f6f\u4ef6\u7684\u6e32\u67d3\u95ee\u9898\u540c\u6837\u53ef\u4ee5\u89e3\u51b3\u3002\u95ee\u9898\u5728\u4e8e\u6bd4\u8f83\u5403CPU\u6027\u80fd\uff0c\u663e\u5361\u7684\u6e32\u67d3\u4f18\u52bf\u65e0\u6cd5\u5b8c\u5168\u5229\u7528\u4e0a\u3002</li> </ul>"},{"location":"wiki/cluster_usage/wsl_usage/#ping","title":"PING","text":"<p>\u56e0\u4e3a\u4f7f\u7528wsl-vpnkit\uff0c\u5f53\u4f7f\u7528WSL\u539f\u751f\u7684ping\u547d\u4ee4\u6d4b\u8bd5\u8fdc\u7a0b\u4e3b\u673a\u7684\u8fde\u901a\u6027\u65f6\uff0c\u4f1a\u53d1\u73b0\u5bf9\u4e8e\u5185\u7f51\u4e3b\u673a\u65e0\u8bba\u5982\u4f55\u90fd\u80fdping\u901a\uff0c\u4f46\u662f\u4f7f\u7528windows\u7684Powershell\u5219\u4e0d\u4f1a\u51fa\u73b0\u5982\u6b64\u7684\u60c5\u51b5\u3002 \u76ee\u524d\u6682\u65f6\u6ca1\u6709\u627e\u5230\u5177\u4f53\u7684\u539f\u56e0\uff0c\u5728\u6392\u67e5\u7f51\u7edc\u95ee\u9898\u65f6\u53ef\u80fd\u4f1a\u5e26\u6765\u4e00\u5b9a\u7684\u56f0\u6270\u3002\u53ef\u4ee5\u4f7f\u7528windows\u7684PING.EXE\u4ee3\u66ffWSL\u4e0b\u7684ping\uff1a<code>alias ping=\"/mnt/c/Windows/system32/PING.EXE -t\"</code>\uff0c\u8fd9\u6837\u9ed8\u8ba4\u8c03\u7528\u7684ping\u5c31\u662fwindows\u4e0b\u7684\uff0c\u53cd\u5e94\u7684\u7f51\u7edc\u4fe1\u606f\u4f1a\u66f4\u51c6\u786e\u3002</p>"},{"location":"wiki/cluster_usage/wsl_usage/#ipv6","title":"IPV6","text":"<p>WSL\u9ed8\u8ba4\u7684\u7f51\u7edc\u6a21\u5f0f<code>NAT</code>\u5e76\u4e0d\u652f\u6301ipv6\u7684\u76f8\u5173\u529f\u80fd\uff0c\u4f7f\u7528<code>mirrored</code>\u6a21\u5f0f\u53ef\u4ee5\u89e3\u51b3\uff0c\u4f46\u662f\u5bf9\u4e8eSSLVPN\u5b9e\u5728\u662f\u592a\u5361\u4e86\uff01\uff01\uff01\uff08\u6ca1\u5173\u7cfb306\u4e5f\u4e0d\u652f\u6301ipv6\u8bf4\u662f\uff09</p>"},{"location":"wiki/deprecated/deepmd-kit_installation_104/","title":"DeepMD-kit\u5b89\u88c5\u5b9e\u6218\uff1a\u670d\u52a1\u5668\u7bc7\uff08\u65e7\u7248\uff09","text":"<p>\u672c\u90e8\u5206\u5199\u4e8e2019\u5e7411\u6708\uff0c\u57fa\u4e8e\u56fd\u91cd\u670d\u52a1\u5668\u73af\u5883\u8fdb\u884c\u5b89\u88c5\uff0c\u9002\u7528\u4e8eTensorflow\u7248\u672c\u4f4e\u4e8e1.13\u7684\u60c5\u5f62\u3002\u76ee\u524d\u9488\u5bf9\u66f4\u9ad8\u7248\u672c\u5df2\u7ecf\u6709\u65b0\u7248\u6559\u7a0b\uff0c\u8bf7\u79fb\u6b65\u3002</p>"},{"location":"wiki/deprecated/deepmd-kit_installation_104/#_1","title":"\u51c6\u5907\u5de5\u4f5c","text":"<p>\u9996\u5148\u51c6\u5907\u5fc5\u8981\u7684\u4f9d\u8d56\u3002</p> <p>\u68c0\u67e5\u53ef\u7528\u7684\u6a21\u5757\uff0c\u5e76\u52a0\u8f7d\u5fc5\u8981\u7684\u6a21\u5757\uff1a</p> <pre><code>module avail\nmodule add cuda/9.2\nmodule add gcc/4.9.4\n# gcc&gt;=4.9 required by dp_ipi, or it won't be built.\n# For gcc-8.3 could not be supported, here we select a lower version.\n</code></pre> <p>\u672c\u6559\u7a0b\u63a8\u8350\u4f7f\u7528conda\u865a\u62df\u73af\u5883\u5b89\u88c5\uff0c\u6545\uff1a</p> <pre><code>module add miniconda/3.7\nconda create -n deepmd python=3.6\nconda activate deepmd\n</code></pre> <p>\u4e0b\u8f7d\u5e76\u7f16\u8bd1nccl\uff1a</p> <pre><code>cd /some/nccl_download_path\ngit clone https://github.com/NVIDIA/nccl.git -b v2.4.8-1\ncd nccl\nmake -j src.build --prefix=\"/some/nccl_install_path\" NVCC_GENCODE=\"-gencode=arch=compute_70,code=sm_70\"\n</code></pre> <p>\u7531\u4e8e\u56fd\u91cdGPU\u8282\u70b9\u4e0d\u80fd\u76f4\u63a5\u8054\u7f51\uff0c\u6545\u4f7f\u7528\u767b\u9646\u8282\u70b9\u8fdb\u884c\u7f16\u8bd1\u6548\u7387\u8f83\u9ad8\uff0c\u4f46\u7531\u4e8e\u7f3a\u5c11\u5fc5\u8981\u7684\u4f9d\u8d56<code>libcuda.so</code>\u548c<code>libcuda.so.1</code>\uff08\u5305\u542b\u5728GPU\u9a71\u52a8\u4e2d\uff0c\u767b\u9646\u8282\u70b9\u672a\u5b89\u88c5\uff09\uff0c\u6545\u91c7\u7528stubs\u6240\u5e26\u7684\u5e93\u7f16\u8bd1\uff0c\u5e76\u624b\u52a8\u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002</p> <pre><code>ln -s /share/cuda/9.2/lib64/stubs/libcuda.so /some/local/path/libcuda.so.1\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/share/cuda/9.2/lib64/stubs:/some/local/path\n</code></pre> <p>\u5728\u67d0\u4e2a\u60f3\u8981\u7684\u8def\u5f84\u4e0b\u5c06tensorflow-1.12\u7248\u672c\u7684\u6e90\u4ee3\u7801\u4e0b\u8f7d\u597d\uff1a</p> <pre><code>cd /some/workspace\ngit clone https://github.com/tensorflow/tensorflow tensorflow -b r1.12 --depth=1\n</code></pre> <p>\u4e0b\u8f7d\u597dbazel\u5b89\u88c5\u5305\u5e76\u8fd0\u884c\uff0c\u5c06\u6240\u9700\u7684\u73af\u5883\u52a0\u5165\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>wget https://github.com/bazelbuild/bazel/releases/download/0.15.0/bazel-0.15.0-installer-linux-x86_64.sh\nchmod +x bazel-0.15.0-installer-linux-x86_64.sh\n./bazel-0.15.0-installer-linux-x86_64.sh --user\nexport PATH=\"$PATH:$HOME/bin\"\n</code></pre>"},{"location":"wiki/deprecated/deepmd-kit_installation_104/#tensorflow","title":"tensorflow\u7f16\u8bd1","text":"<p>\u9996\u5148\u914d\u7f6etensorflow\u7684\u7f16\u8bd1\u9009\u9879\uff1a</p> <pre><code>cd tensorflow/\n./configure\n</code></pre> <p>\u6839\u636e\u9700\u8981\uff0c\u63d0\u4f9b\u6b63\u786e\u7684\u7ec4\u4ef6\u548c\u8def\u5f84\uff1a</p> <pre><code>Please specify the location of python. [Default is /xxx]:\n\nFound possible Python library paths:\n  /xxx/python3.6/site-packages\nPlease input the desired Python library path to use. Default is [xxx/python3.6/site-packages]\n\nDo you wish to build TensorFlow with Apache Ignite support? [Y/n]: Y\n\nDo you wish to build TensorFlow with XLA JIT support? [Y/n]: Y\n\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]: N\n\nDo you wish to build TensorFlow with ROCm support? [y/N]: N\n\nDo you wish to build TensorFlow with CUDA support? [y/N]: Y\n\nPlease specify the CUDA SDK version you want to use. [Leave empty to default to CUDA 9.0]: 9.2\n\nPlease specify the location where CUDA 9.2 toolkit is installed. Refer to README.md for more details. [Default is /usr/local/cuda]: /share/cuda/9.2\n\nPlease specify the cuDNN version you want to use. [Leave empty to default to cuDNN 7]: 7\n\nPlease specify the location where cuDNN 7 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda-10.0]: /share/cuda/9.2\n\nDo you wish to build TensorFlow with TensorRT support? [y/N]: N\n\nPlease specify the NCCL version you want to use. If NCCL 2.2 is not installed, then you can use version 1.3 that can be fetched automatically but it may have worse performance with multiple GPUs. [Default is 2.2]: 2.4.8\n\nPlease specify the location where NCCL 2 library is installed. Refer to README.md for more details. [Default is /usr/local/cuda]:/some/nccl_install_path\n\nPlease note that each additional compute capability significantly increases your build time and binary size. [Default is: 3.5,7.0] 6.1\n\nDo you want to use clang as CUDA compiler? [y/N]: N\n\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /xxx/gcc]: \n\nDo you wish to build TensorFlow with MPI support? [y/N]: N\n\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native]: -march=native\n\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]:N\n</code></pre> <p>\u6ce8\u610f</p> <ol> <li>CUDA\u9700\u8981\u5199\u6e05\u662f9.2\u7248\u672c\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u627e\u4e0d\u5230\u5c0f\u7248\u672c\u7684\u4f9d\u8d56\u5e93\u3002</li> </ol> <p>\u7136\u540e\u8fd0\u884c\u7f16\u8bd1\uff0c\u4f46\u7531\u4e8e\u8be5\u8282\u70b9\u7684\u7248\u672c\u8f83\u4e3a\u975e\u4e3b\u6d41\uff0c\u5efa\u8bae\u81ea\u884c\u7f16\u8bd1tf\u7684python interface\u4ee5\u907f\u514d\u517c\u5bb9\u6027\u95ee\u9898\u3002</p> <pre><code>bazel build --config=opt --copt=-msse4.2 --copt=-mavx --copt=-mavx2 --copt=-mfma --local_resources 2048,.5,1.0 --config=cuda //tensorflow/tools/pip_package:build_pip_package --action_env=\"LD_LIBRARY_PATH=${LD_LIBRARY_PATH}\"\n</code></pre> <p>\u7531\u4e8e\u76ee\u524d\u8282\u70b9\u652f\u6301\u4e3b\u8981\u7684\u51e0\u79cd\u4f18\u5316\u53c2\u6570\uff0c\u6545\u53ef\u4ee5\u5168\u90e8\u6253\u5f00\u4ee5\u52a0\u5feb\u8fd0\u884c\u901f\u5ea6\u3002</p> <p>\u4e3a\u4e86\u4ed6\u4eba\u7684\u6b63\u5e38\u4f7f\u7528\uff0c\u5efa\u8bae\u4e3b\u52a8\u9650\u5236\u5728\u767b\u9646\u8282\u70b9\u4e0a\u7f16\u8bd1\u65f6\u7684\u5185\u5b58\u548cCPU\u8d44\u6e90\u4f7f\u7528\u91cf\u3002<code>--local_resources 2048,.5,1.0</code>\u8fd9\u4e2a\u8bbe\u5b9a\u53ef\u80fd\u6709\u4e9b\u4fdd\u5b88\uff0c\u4f46\u53ef\u4ee5\u4fdd\u8bc1\u4e0d\u4f1a\u5360\u7528\u8fc7\u591a\u8d44\u6e90\uff08\u5b9e\u6d4b\u9700\u898111\u4e2a\u5c0f\u65f6\u5de6\u53f3\uff0c\u4f46\u5168\u7a0b\u5185\u5b58\u5360\u7528\u4e0d\u8d85\u8fc72G\u4e14\u53ea\u4f7f\u7528\u4e86\u4e00\u4e2a\u7ebf\u7a0b\uff0c\u82e5\u89c9\u5f97\u592a\u6162\u53ef\u4ee5\u628a\u4e2d\u95f4\u7684\u53c2\u6570\u9002\u5f53\u8c03\u9ad8\uff09\u3002</p> <ol> <li>nccl\u548cgcc\u7684\u8def\u5f84\u5bf9\u5e94\u524d\u9762\u52a0\u8f7d\u548c\u7f16\u8bd1\u7684\u73af\u5883\u3002</li> </ol> <p>\u7f16\u8bd1\u5982\u679c\u901a\u8fc7\uff0c\u5219\u518d\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u7f16\u8bd1c++ interface\uff08\u5b9e\u9645\u4e0a\u4e00\u6b65\u5df2\u7ecf\u7f16\u8bd1\u597d\u6240\u9700\u7684\u5927\u90e8\u5206\u4f9d\u8d56\uff0c\u8fd9\u4e00\u6b65\u53ea\u662f\u518d\u5c01\u88c5\u6210c++\u5e93\uff09\uff1a</p> <pre><code>bazel build -c opt --copt=-msse4.2 --copt=-mavx --copt=-mavx2 --copt=-mfma --config=cuda --verbose_failures //tensorflow:libtensorflow_cc.so --action_env=\"LD_LIBRARY_PATH=${LD_LIBRARY_PATH}\"\n</code></pre> <p>\u8fd9\u91cc\u53ef\u4ee5\u5148\u5c06tensorflow-python\u5b89\u88c5\u597d\u3002</p> <pre><code>./bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg\npip install /tmp/tensorflow_pkg/tensorflow-version-tags.whl # depends on your version info\n</code></pre> <p>\u7136\u540e\uff0c\u5c06\u8fdb\u884c\u4e00\u7cfb\u5217\u4f9d\u8d56\u7684\u7f16\u8bd1\u548c\u5b89\u88c5\u3002\u4ee5\u9632\u4e07\u4e00\uff0c\u5efa\u8bae\u9996\u5148\u5b89\u88c5\u4f9d\u8d56\uff0c\u65b9\u4fbf\u8d77\u89c1\uff0c\u8fd9\u91cc\u4f7f\u7528conda\u5b89\u88c5\u3002</p> <pre><code>conda install automake autoconf libtool\n</code></pre> <p>\u5c06cmake\u5207\u6362\u5230\u65b0\u7248\u672c\uff1a</p> <pre><code>module add cmake/3.7.3\n</code></pre> <p>\u6307\u5b9atf-cc\u7684\u76ee\u6807\u8def\u5f84\u4e3a\u53d8\u91cf<code>$tensorflow_root</code>\uff0c\u5e76\u4f9d\u6b21\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>mkdir -p $tensorflow_root\nmkdir /tmp/proto\nsed -i 's;PROTOBUF_URL=.*;PROTOBUF_URL=\\\"https://mirror.bazel.build/github.com/google/protobuf/archive/v3.6.0.tar.gz\\\";g' tensorflow/contrib/makefile/download_dependencies.sh\ntensorflow/contrib/makefile/download_dependencies.sh\ncd tensorflow/contrib/makefile/downloads/protobuf/\n./autogen.sh\n./configure --prefix=/tmp/proto/\nmake\nmake install\nmkdir /tmp/eigen\ncd ../eigen\nmkdir build_dir\ncd build_dir\ncmake -DCMAKE_INSTALL_PREFIX=/tmp/eigen/ ../\nmake install\nmkdir /tmp/nsync\ncd ../../nsync\nmkdir build_dir\ncd build_dir\ncmake -DCMAKE_INSTALL_PREFIX=/tmp/nsync/ ../\nmake\nmake install\ncd ../../absl\nbazel build\nmkdir -p $tensorflow_root/include/\nrsync -avzh --include '*/' --include '*.h' --exclude '*' absl $tensorflow_root/include/\ncd ../../../../..\nmkdir $tensorflow_root/lib\ncp bazel-bin/tensorflow/libtensorflow_cc.so $tensorflow_root/lib/\ncp bazel-bin/tensorflow/libtensorflow_framework.so $tensorflow_root/lib/\ncp /tmp/proto/lib/libprotobuf.a $tensorflow_root/lib/\ncp /tmp/nsync/lib64/libnsync.a $tensorflow_root/lib/\nmkdir -p $tensorflow_root/include/tensorflow\ncp -r bazel-genfiles/* $tensorflow_root/include/\ncp -r tensorflow/cc $tensorflow_root/include/tensorflow\ncp -r tensorflow/core $tensorflow_root/include/tensorflow\ncp -r third_party $tensorflow_root/include\ncp -r /tmp/proto/include/* $tensorflow_root/include\ncp -r /tmp/eigen/include/eigen3/* $tensorflow_root/include\ncp -r /tmp/nsync/include/*h $tensorflow_root/include\ncd $tensorflow_root/include\nfind . -name \"*.cc\" -type f -delete\nrm -fr /tmp/proto /tmp/eigen /tmp/nsync\n</code></pre> <p>\u4ee5\u5b8c\u6210c++\u90e8\u5206\u7684\u7f16\u8bd1\u3002</p>"},{"location":"wiki/deprecated/deepmd-kit_installation_104/#deepmd-kit10","title":"DeePMD-kit\u5b89\u88c5(1.0+)","text":"<p>\u9996\u5148\u4e0b\u8f7dDeePMD-kit\uff0c\u5e76\u8fdb\u5165\uff1a</p> <pre><code>cd /some/workspace\ngit clone https://github.com/deepmodeling/deepmd-kit.git\ncd deepmd-kit\ndeepmd_source_dir=`pwd`\n</code></pre> <p>\u5982\u679c\u524d\u9762\u4f7f\u7528\u4e86<code>module load gcc/4.9.4</code>\u63d0\u4f9b\u7684\u9ad8\u7248\u672cgcc\uff08\u4ee54.9.4\u4e3a\u4f8b\uff09\u8fdb\u884c\u7f16\u8bd1\uff0c\u9700\u8981\u624b\u52a8\u8f7d\u5165\u5bf9\u5e94\u7684\u73af\u5883\u53d8\u91cf\u4f9bcmake\u8bc6\u522b\u6b63\u786e\u7684gcc\u7248\u672c\u3002</p> <pre><code>export CC=/share/apps/gcc/4.9.4/bin/gcc\nexport CXX=/share/apps/gcc/4.9.4/bin/g++\n</code></pre> <p>\u7136\u540e\u5b89\u88c5dpmd-py</p> <pre><code>pip install .\n</code></pre> <p>\u5982\u679c\u9047\u5230<code>no module named 'google'</code>\u6216\u8005<code>no module named 'absl'</code>\u7684\u62a5\u9519\uff0c\u5219\u53ef\u80fd\u5b58\u5728\u7248\u672cbug\uff0c\u9700\u8981\u91cd\u65b0\u5b89\u88c5\u4f9d\u8d56\u3002</p> <pre><code>pip install --update protobus\npip install --update absl-py\n</code></pre> <p>\u6307\u5b9aDeePMD-kit\u7684\u76ee\u6807\u8def\u5f84\u4e3a\u53d8\u91cf<code>$deepmd_root</code>\uff0c\u968f\u540e\u7f16\u8bd1DeePMD-kit C++ Interface\uff1a</p> <pre><code>cd $deepmd_source_dir/source\nmkdir build \ncd build\ncmake -DTENSORFLOW_ROOT=$tensorflow_root -DCMAKE_INSTALL_PREFIX=$deepmd_root ..\nmake\nmake install\n</code></pre> <p>\u5982\u679c\u8fd0\u884c\uff1a</p> <pre><code>$ ls $deepmd_root/bin\ndp_ipi\n$ ls $deepmd_root/lib\nlibdeepmd_ipi.so  libdeepmd_op.so  libdeepmd.so\n</code></pre> <p>\u5f97\u5230\u4e0a\u8ff0\u7684\u7ed3\u679c\uff0c\u8bf4\u660e\u7f16\u8bd1\u6210\u529f\uff08\u82e5<code>cmake</code>\u65f6\u68c0\u6d4b\u5230\u7684\u662f4.8\u6216\u66f4\u4f4e\u7248\u672c\u7684gcc\uff0c\u5219\u7f16\u8bd1\u7ed3\u679c\u4f1a\u7f3a\u5c11<code>dp_ipi</code>\u548c<code>libdeepmd_ipi.so</code>\uff09\u3002</p>"},{"location":"wiki/deprecated/deepmd-kit_installation_104/#lammps-deepmd-kit","title":"LAMMPS DeePMD-kit \u63a5\u53e3\u7f16\u8bd1","text":"<p>\u9996\u5148\u7f16\u8bd1\u63a5\u53e3\uff1a</p> <pre><code>cd $deepmd_source_dir/source/build\nmake lammps\n</code></pre> <p>\u7136\u540e\u4e0b\u8f7d\u597d\u7a33\u5b9a\u7248\u7684lammps\uff0c\u5e76\u89e3\u538b\uff1a</p> <pre><code>cd /some/workspace\nwget -c https://lammps.sandia.gov/tars/lammps-stable.tar.gz\ntar xf lammps-stable.tar.gz\n</code></pre> <p>\u82e5\u89e3\u538b\u540e\u5f97\u5230\u76ee\u5f55\u540d\u4e3a<code>lammps-31Mar17</code>\uff0c\u5219</p> <pre><code>cd lammps-31Mar17/src/\ncp -r $deepmd_source_dir/source/build/USER-DEEPMD .\n</code></pre> <p>\u6253\u5f00deepmd module\uff0c\u5e76\u6839\u636e\u9700\u8981\u6dfb\u52a0\u6240\u9700\u7684\u6a21\u5757\uff0c\u4ee5<code>fep</code>\u4e3a\u4f8b\uff1a</p> <pre><code>make yes-user-deepmd\nmake yes-user-fep \n</code></pre> <p>\u8f7d\u5165\u9700\u8981\u7684mpi\u5e93\uff0c\u5e76\u7f16\u8bd1\uff1a</p> <pre><code>module load intel/15.0.6\nmodule load mpi/intel/5.0.3.049\nmake mpi -j4\n</code></pre> <p>\u5f97\u5230\u53ef\u6267\u884c\u6587\u4ef6\uff1a<code>lmp_mpi</code>\u3002</p> <p>\u53ef\u5c06\u8be5\u6587\u4ef6\u590d\u5236\u5230\u5728<code>$PATH</code>\u4e2d\u7684\u8def\u5f84\uff0c\u5219\u53ef\u4ee5\u76f4\u63a5\u8f93\u5165\u6587\u4ef6\u540d\u8fd0\u884c\u3002</p>"},{"location":"wiki/deprecated/deepmd-kit_installation_104/#_2","title":"\u6ce8\u610f","text":"<p>\u5b8c\u6210\u4e0a\u8ff0\u5b89\u88c5\u6b65\u9aa4\u540e\uff0c\u82e5\u9700\u8981\u7acb\u5373\u6d4b\u8bd5\u8fd0\u884c\uff0c**\u5fc5\u987b**\u5c06stubs\u63d0\u4f9b\u7684<code>libcuda.so</code>\u548c<code>libcuda.so.1</code>\u4ece\u73af\u5883\u53d8\u91cf\u4e2d\u79fb\u9664\uff0c\u5426\u5219\u8fd0\u884c\u65f6\u4f1a\u62a5\u9519\u3002</p> <p>\u53ef\u4ee5\u76f4\u63a5\u9000\u51fa\u767b\u9646\u5e76\u91cd\u65b0\u767b\u9646\uff0c\u4ee5\u514d\u51fa\u73b0\u8be5\u95ee\u9898\u3002</p>"},{"location":"wiki/deprecated/deepmd-kit_installation_104/#_3","title":"\u4e00\u4e9b\u53ef\u80fd\u7684\u5751","text":"<p>\u5c3d\u7ba1\u4e0a\u8ff0\u8fc7\u7a0b\u5e94\u8be5\u5df2\u7ecf\u7ed5\u8fc7\u4e86\u5927\u90e8\u5206\u7684\u5751\uff0c\u4f46\u4ecd\u4e0d\u80fd\u4fdd\u8bc1100%\u5b89\u88c5\u8fd0\u884c\u6210\u529f\u3002\u8fd9\u91cc\u8bb0\u5f55\u51e0\u79cd\u53ef\u80fd\u7684\u62a5\u9519\u7684\u5904\u7406\u65b9\u6848\u3002</p>"},{"location":"wiki/deprecated/deepmd-kit_installation_104/#conda-init","title":"\u9700\u8981conda init","text":"<p>\u8fd9\u79cd\u60c5\u51b5\u5df2\u77e5\u53ef\u80fd\u53d1\u751f\u5728lsf\u811a\u672c\u63d0\u4ea4\u7684\u6b65\u9aa4\uff0c\u6765\u6e90\u4e8e<code>conda activate deepmd</code>\u7684\u6b65\u9aa4\u3002\u5177\u4f53\u539f\u56e0\u5c1a\u4e0d\u6e05\u695a\uff0c\u89e3\u51b3\u65b9\u6848\u662f\u624b\u52a8\u8f7d\u5165\u6240\u9700\u7684\u73af\u5883\u53d8\u91cf\u3002\u63a8\u8350\u7684\u505a\u6cd5\u662f\u5229\u7528\u7528\u6237\u81ea\u5b9a\u4e49module\u3002</p> <p>\u9996\u5148\uff0c\u542f\u7528\u81ea\u5b9a\u4e49module\uff1a</p> <pre><code>module load use.own\n</code></pre> <p>\u7136\u540e\u8fd0\u884c<code>module avail</code>\u67e5\u770b\u81ea\u5b9a\u4e49\u811a\u672c\u7684\u6587\u4ef6\u4f4d\u7f6e\uff0c\u8f93\u51fa\u7ed3\u679c\u53ef\u80fd\u5982\u4e0b\uff1a</p> <pre><code>----------- /share/base/modulefiles/compilers -----------\n............\n\n------------- /usr/share/Modules/modulefiles ------------\ndot         module-git  module-info modules     null        use.own\n\n------------ /data/home/someuser/privatemodules ------------\nnull\n</code></pre> <p>\u663e\u793a<code>/data/home/someuser/privatemodules</code>\u662f\u5f53\u524d\u7528\u6237\u81ea\u5b9a\u4e49\u6a21\u5757\u7684\u5b58\u653e\u4f4d\u7f6e\u3002</p> <p>\u5219\u521b\u5efa\u8def\u5f84\uff0c\u5e76\u8fdb\u5165\uff1a</p> <pre><code>mkdir -p /data/home/someuser/privatemodules\ncd /data/home/someuser/privatemodules\n</code></pre> <p>\u7136\u540e\u6839\u636e\u60f3\u8981\u7684\u540d\u5b57\u521b\u5efa\u6587\u4ef6\u6216\u76ee\u5f55\u3002</p> <p>\u6bd4\u5982\u60f3\u4ee5deepmd\u4e3a\u6a21\u5757\u540d\uff0c\u4e14\u5e0c\u671b\u63d0\u4f9b\u4e0d\u540c\u7248\u672c\u7684\u652f\u6301\uff0c\u5219\u53ef\u4ee5\uff1a</p> <pre><code>mkdir deepmd\nvim 1.0\n</code></pre> <p>\u7f16\u8f911.0\u6587\u4ef6\uff1a</p> <pre><code># Help message\nproc ModulesHelp { } {\n    set nameversion [module-info name]\n    regsub \"/.*\" $nameversion \"\" name\n    regsub \".*/\" $nameversion \"\" version\n    puts stderr \"\\tLoads the $version $name environment\"\n}\n\n# Set variables\nset nameversion [module-info name]\nregsub \"/.*\" $nameversion \"\" name\nregsub \".*/\" $nameversion \"\" version\n\nmodule-whatis \"Miniconda, an alternative distirbution for python 3.6\"\n\n# set environment variables\n\n    setenv        PYTHONROOT    /data/home/someuser/anaconda3/envs/deepmd\n\n    prepend-path    PATH        $env(PYTHONROOT)/bin\n    prepend-path    MANPATH        $env(PYTHONROOT)/share/man\n    prepend-path    PYTHONPATH    $env(PYTHONROOT)/lib/python3.6/site-packages\n</code></pre> <p>\u6ce8\u610f\u4fee\u6539<code>PYTHONROOT</code>\u4e3a\u6b63\u786e\u7684\u865a\u62df\u73af\u5883\u8def\u5f84\uff08\u53ef\u7528<code>conda env list</code>\u67e5\u770b\uff09,\u5e76\u4e14<code>python3.6</code>\u4e5f\u8981\u4e0e\u5b9e\u9645\u4f7f\u7528\u7684python\u7248\u672c\u4e00\u81f4\u3002</p> <p>\u8fd9\u6837\uff0c\u4fbf\u53ef\u4ee5\u901a\u8fc7module\u8c03\u7528\u6240\u9700\u7684\u865a\u62df\u73af\u5883\u3002</p> <p>\u4f7f\u7528\u65f6\u63d0\u4ea4\u811a\u672c\u53ef\u4ee5\u8fd9\u6837\u5199\uff1a</p> <pre><code>module load use.own\nmodule load deepmd/1.0\n</code></pre>"},{"location":"wiki/deprecated/jupyter/","title":"Jupyter \u7cfb\u5217\u4f7f\u7528\u6307\u5357","text":"<p>\u6ce8\u610f\u672c\u6559\u7a0b\u5df2\u4e0d\u63a8\u8350\u53c2\u8003</p>"},{"location":"wiki/deprecated/jupyter/#jupyter-notebook","title":"Jupyter Notebook","text":""},{"location":"wiki/deprecated/jupyter/#jupyter-notebook-python","title":"\u8f6c\u5316 Jupyter Notebook \u4e3a Python \u811a\u672c","text":"<pre><code>ipython nbconvert --to python *.ipynb\n</code></pre>"},{"location":"wiki/deprecated/jupyter/#jupyter-notebook_1","title":"\u8fdc\u7a0b\u6253\u5f00 Jupyter Notebook","text":"<p>Jupyter notebook \u53ef\u4ee5\u901a\u8fc7\u672c\u5730\u7535\u8111\u7684\u6d4f\u89c8\u5668\u6253\u5f00\u3002\u4f46\u5982\u679c\u4f60\u60f3\u5728\u8fdc\u7a0b\u7535\u8111\u4e0a\uff08\u5982\u96c6\u7fa4\uff09\u6253\u5f00\uff0c\u600e\u4e48\u529e\uff1f\u8fdc\u7a0b\u6253\u5f00 Jupyter notebook \u7684\u597d\u5904\u5c31\u662f\u53ef\u4ee5\u4e0d\u7528\u4e0b\u8f7d\u6570\u636e\uff0c\u76f4\u63a5\u8fdc\u7a0b\u5904\u7406\u3002\u4f46\u662f\u7531\u4e8e\u96c6\u7fa4\u5e76\u6ca1\u6709\u663e\u793a/\u8f93\u51fa\u88c5\u7f6e\uff0c\u4f60\u9700\u8981\u901a\u8fc7\u5176\u4ed6\u65b9\u6cd5\u6765\u6253\u5f00 Jupyter notebook\u3002</p> <p>\u8fdc\u7a0b\u6253\u5f00\u7684\u65b9\u6cd5</p> <ul> <li>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5728\u96c6\u7fa4\u4e0a\u6253\u5f00\u4f60\u7684 jupyter notebook\uff1a</li> </ul> <pre><code># \u5728\u8fdc\u7a0b\u96c6\u7fa4\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\n# &lt;port number&gt;\u7531\u4f60\u81ea\u5df1\u51b3\u5b9a\uff0c\u6bd4\u5982 9898\njupyter notebook --no-browser --port=&lt;port number&gt;\n</code></pre> <ul> <li>\u5728\u4f60\u7684\u672c\u5730\u7684\u7535\u8111\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\uff1a</li> </ul> <pre><code># &lt;port number&gt;\u7531\u4f60\u81ea\u5df1\u51b3\u5b9a\uff0c\u6bd4\u5982 9898\uff0c\u662f\u8ddf\u8fdc\u7a0b\u6253\u5f00\u7684\u7aef\u53e3\u5bf9\u5e94\u3002\nssh -N -f -L localhost:8888:localhost:&lt;port number&gt; username@your_remote_host_name\n</code></pre> <p>ssh \u767b\u9646\u7684\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u8fd9\u91cc\u8fdb\u884c\u7b80\u5316.</p> <ul> <li>\u6253\u5f00\u672c\u5730\u7535\u8111\u7684\u6d4f\u89c8\u5668\uff0c\u8f93\u5165<code>localhost:8888</code> \u3002\u7136\u540e\u4f1a\u5f39\u51fa\u8f93\u5165 <code>password</code> \u6216 <code>token</code>\u7684\u9875\u9762, \u4f60\u53ef\u4ee5\u5728\u96c6\u7fa4\u4e0a\u8f93\u5165\u5982\u4e0b\u547d\u4ee4\u6765\u67e5\u770b\uff1a</li> </ul> <pre><code>#type this command in your remote computer, you can find token to enter remote notebook\njupyter notebook list\n</code></pre>"},{"location":"wiki/deprecated/jupyter/#jupyter_1","title":"\u5229\u7528\u7a7a\u8282\u70b9\u8fd0\u884c Jupyter","text":"<p>\u7531\u4e8e\u767b\u9646\u8282\u70b9\u8d44\u6e90\u5341\u5206\u6709\u9650\uff0c\u5b9e\u9645\u4e0a\u4e0d\u592a\u5efa\u8bae\u5728\u767b\u9646\u8282\u70b9\u4e0a\u76f4\u63a5\u8fd0\u884c Jupyter \u670d\u52a1\u3002\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u53ef\u80fd\u7684\u65b9\u6848\uff0c\u901a\u8fc7 LSF \u542f\u52a8 Jupyter \u670d\u52a1\uff0c\u5b9e\u73b0\u5728\u8fdc\u7a0b\u7684\u8c03\u7528\u3002</p> <p>\u9996\u5148\u5728\u81ea\u5df1\u5e0c\u671b\u4f5c\u4e3a Jupyter \u6839\u76ee\u5f55\u7684\u6587\u4ef6\u5939\u4e0b\u7f16\u8f91\u63d0\u4ea4\u811a\u672c\uff08\u4f8b\u5982<code>jupyter.lsf</code>\uff09\uff1a</p> <pre><code>#!/bin/bash\n#BSUB -q fat\n#BSUB -J deepmd\n#BSUB -o %J.stdout\n#BSUB -e %J.stderr\n\n# add modulefiles\nsource ~/.bashrc\n\ncat /etc/hosts | grep c51-s001\njupyter-lab --ip=0.0.0.0 --port=&lt;port&gt;\n</code></pre> <p>\u5982\u56fe\u5373\u4f7f\u7528\u4e86\u80d6\u8282\u70b9\u7684 1 \u4e2a\u6838\u6765\u5f00\u542f\u4efb\u52a1\uff0c\u540c\u65f6\u5728\u4efb\u52a1\u8f93\u51fa\u4e2d\u663e\u793a\u51fa\u80d6\u8282\u70b9\u6240\u5728\u7684 IP \u5730\u5740\uff0c\u8bf7\u5728\u63d0\u4ea4\u540e\u7a0d\u7b49\u7247\u523b\u540e\u901a\u8fc7 <code>bpeek</code> \u547d\u4ee4\u67e5\u770b\uff08\u53ef\u80fd\u4e00\u5f00\u59cb\u662f\u7a7a\u7684\uff0c\u7a0d\u540e\u4f1a\u6709\u8f93\u51fa\uff09\uff1a</p> <pre><code>123.45.67.89 c51-s001 c51-s001.hpc.xmu\n</code></pre> <p>\u5047\u8bbe\u8f93\u51fa\u4e3a 123.45.67.89\uff0c\u5219\u53ef\u5728\u672c\u5730\u8fd0\u884c\u547d\u4ee4\uff1a</p> <pre><code>ssh -L &lt;local_port&gt;:123.45.67.89:&lt;port&gt; &lt;username&gt;@&lt;ip_of_cluster&gt;\n</code></pre> <p>\u5176\u4e2d<code>&lt;local_port&gt;</code>\u4e3a\u672c\u5730\u4efb\u610f\u7aef\u53e3\uff0c<code>&lt;port&gt;</code>\u4e0e\u4f5c\u4e1a\u811a\u672c\u4fdd\u6301\u4e00\u81f4\uff0c\u5176\u4f59\u90e8\u5206\u4e0e\u5e73\u65f6\u767b\u9646\u547d\u4ee4\u4fdd\u6301\u4e00\u81f4\uff0c\u6ce8\u610f\u4e0d\u8981\u6f0f\u6389<code>-p xxxx</code>\u3002\u6b64\u90e8\u5206\u7684\u8bf4\u660e\u8bf7\u53c2\u8003SSH \u4f7f\u7528\u8bf4\u660e\u3002</p> <p>\u5728\u672c\u5730\u6d4f\u89c8\u5668\u8f93\u5165\uff1a<code>localhost:&lt;local_port&gt;</code>\u5373\u53ef\u8bbf\u95ee\u8fd9\u4e00\u8fdc\u7a0b Jupyter \u670d\u52a1\u3002</p> <p>\u6b64\u9014\u5f84\u6700\u5927\u7684\u597d\u5904\u662f\u53ef\u4ee5\u5728 GPU \u96c6\u7fa4\u4e0a\u8fd0\u884c\uff0c\u4ece\u800c\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528 GPU \u5361\u3002\u4f46\u8bf7\u6ce8\u610f\uff0c\u9700\u8981\u5728\u811a\u672c\u4e2d\u6307\u5b9a\u6240\u9700\u7684 GPU \u5361\u6570\u3002</p> <pre><code>#!/bin/bash\n#BSUB -q gpu\n#BSUB -W 24:00\n#BSUB -J deepmd\n#BSUB -o %J.stdout\n#BSUB -e %J.stderr\n#BSUB -n 8\n#BSUB -gpu \"num=1:mode=shared:mps=no:j_exclusive=yes\"\n#BSUB -R \"span[ptile=8]\"\n\n# add modulefiles\nsource ~/.bashrc\n\n#dp train input.json 1&gt;&gt; train.log 2&gt;&gt; train.err\ncat /etc/hosts\njupyter-lab --ip=0.0.0.0 --port=8888\n</code></pre> <p>\u5982\u679c\u60f3\u5728 Jupyter \u4e2d\u8c03\u7528\u865a\u62df\u73af\u5883\uff08\u5982<code>myenv</code>\uff09\uff0c\u9700\u8981\u5728\u5bf9\u5e94\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5 <code>ipykernel</code>\u548c\u73af\u5883\u7684 kernel\u3002[\u53c2\u8003\u8d44\u6599]</p> <pre><code># \u6fc0\u6d3b\u865a\u62df\u73af\u5883 myenv\n# \u4e5f\u53ef\u7528 conda activate myenv\nsource activate myenv\nconda install pip\nconda install ipykernel\n# \u5b9e\u9645\u4f7f\u7528\u4e2d\u9700\u66ff\u6362 myenv \u548c \"Python (myenv)\"\npython -m ipykernel install --user --name myenv --display-name \"Python (myenv)\"\n</code></pre>"},{"location":"wiki/deprecated/jupyter/#jupyter-lab","title":"Jupyter Lab","text":"<p>Under construction</p>"},{"location":"wiki/deprecated/jupyter/#jupyter-hub","title":"Jupyter Hub","text":"<p>Under construction</p>"},{"location":"wiki/deprecated/lsf_usage/","title":"Lsf usage","text":""},{"location":"wiki/deprecated/lsf_usage/#lsf","title":"LSF \u4f5c\u4e1a\u7ba1\u7406\u7cfb\u7edf\uff08\u65b0\u7248\uff0c\u4f5c\u4e3a\u5f52\u6863\uff09","text":"<p>\u76ee\u524d LSF Suite 10.2 \u5df2\u5728 Zeus \u4e0a\u90e8\u7f72\u6d4b\u8bd5\uff0c\u8be5\u7248\u672c\u5305\u542b\u4e86\u65b0\u7248\u7684 LSF \u4f5c\u4e1a\u7ba1\u7406\u7cfb\u7edf\uff0c\u56e0\u800c\u53ef\u5bf9 GPU \u63d0\u4f9b\u652f\u6301\u3002</p> <p>\u8f93\u5165 <code>lsload -gpu</code> \u5373\u53ef\u67e5\u770b\u96c6\u7fa4\u5f53\u524d\u53ef\u4ee5\u4f7f\u7528\u7684 GPU \u6570\u76ee\uff1a</p> <pre><code>HOST_NAME       status  ngpus  gpu_shared_avg_mut  gpu_shared_avg_ut  ngpus_physical\nc51-g001            ok      4                  1%                 6%               4\nc51-g002            ok      4                  0%                 6%               4\nc51-m002            ok      8                  9%                68%               8\nc51-m004            ok      8                 12%                89%               8\nc51-m003            ok      8                  9%                72%               8\nc51-m001            ok      8                 15%                72%               8\n</code></pre> <p>\u8f93\u5165 <code>lsload -gpuload</code> \u5219\u53ef\u4ee5\u5bf9 GPU \u8d1f\u8f7d\u60c5\u51b5\u8fdb\u884c\u7edf\u8ba1\uff1a</p> <pre><code>HOST_NAME       gpuid   gpu_model   gpu_mode  gpu_temp   gpu_ecc  gpu_ut  gpu_mut gpu_mtotal gpu_mused   gpu_pstate   gpu_status   gpu_error\nc51-g001            0 TeslaV100_S        0.0       48C       0.0     26%       7%      31.7G      1.1G            0           ok           -\n                    1 TeslaV100_S        0.0       38C       0.0      0%       0%      31.7G        0M            0           ok           -\n                    2 TeslaV100_S        0.0       36C       0.0      0%       0%      31.7G        0M            0           ok           -\n                    3 TeslaV100_S        0.0       37C       0.0      0%       0%      31.7G        0M            0           ok           -\nc51-g002            0 A10080GBPCI        0.0       44C       0.0      8%       0%      79.3G     1020M            0           ok           -\n                    1 A10080GBPCI        0.0       49C       0.0      8%       0%      79.3G     1020M            0           ok           -\n                    2 A10080GBPCI        0.0       47C       0.0      8%       0%      79.3G     1020M            0           ok           -\n                    3 A10080GBPCI        0.0       44C       0.0      0%       0%      79.3G      434M            0           ok           -\nc51-m004            0 NVIDIAGeFor        0.0       64C       0.0     91%      13%      10.7G      1.5G            2           ok           -\n                    1 NVIDIAGeFor        0.0       65C       0.0     89%      13%      10.7G      1.5G            2           ok           -\n                    2 NVIDIAGeFor        0.0       60C       0.0     88%      12%      10.7G      1.5G            2           ok           -\n                    3 NVIDIAGeFor        0.0       66C       0.0     89%      13%      10.7G      1.5G            2           ok           -\n                    4 NVIDIAGeFor        0.0       69C       0.0     87%      13%      10.7G      1.5G            2           ok           -\n                    5 NVIDIAGeFor        0.0       70C       0.0     91%      13%      10.7G      1.5G            2           ok           -\n                    6 NVIDIAGeFor        0.0       65C       0.0     85%      12%      10.7G      1.5G            2           ok           -\n                    7 NVIDIAGeFor        0.0       64C       0.0     87%      12%      10.7G      1.5G            2           ok           -\nc51-m002            0 NVIDIAGeFor        0.0       58C       0.0     92%      14%      10.7G      1.5G            2           ok           -\n                    1 NVIDIAGeFor        0.0       65C       0.0     86%      13%      10.7G      2.5G            2           ok           -\n                    2 NVIDIAGeFor        0.0       56C       0.0     86%      13%      10.7G      2.5G            2           ok           -\n                    3 NVIDIAGeFor        0.0       55C       0.0     63%       8%      10.7G      768M            2           ok           -\n                    4 NVIDIAGeFor        0.0       51C       0.0     63%       8%      10.7G      768M            2           ok           -\n                    5 NVIDIAGeFor        0.0       52C       0.0     68%       9%      10.7G      768M            2           ok           -\n                    6 NVIDIAGeFor        0.0       54C       0.0     66%       8%      10.7G      768M            2           ok           -\n                    7 NVIDIAGeFor        0.0       52C       0.0     39%       2%      10.7G      1.5G            2           ok           -\nc51-m003            0 NVIDIAGeFor        0.0       55C       0.0     62%       8%      10.7G      768M            2           ok           -\n                    1 NVIDIAGeFor        0.0       53C       0.0     64%       8%      10.7G      768M            2           ok           -\n                    2 NVIDIAGeFor        0.0       51C       0.0     64%       8%      10.7G      768M            2           ok           -\n                    3 NVIDIAGeFor        0.0       55C       0.0     62%       8%      10.7G      768M            2           ok           -\n                    4 NVIDIAGeFor        0.0       55C       0.0     79%      10%      10.7G      768M            2           ok           -\n                    5 NVIDIAGeFor        0.0       57C       0.0     79%      10%      10.7G      768M            2           ok           -\n                    6 NVIDIAGeFor        0.0       54C       0.0     80%      10%      10.7G      768M            2           ok           -\n                    7 NVIDIAGeFor        0.0       55C       0.0     80%      10%      10.7G      768M            2           ok           -\nc51-m001            0 NVIDIAGeFor        0.0       62C       0.0     98%      21%      10.7G      1.7G            2           ok           -\n                    1 NVIDIAGeFor        0.0       64C       0.0     98%      22%      10.7G      1.7G            2           ok           -\n                    2 NVIDIAGeFor        0.0       58C       0.0     97%      21%      10.7G      1.7G            2           ok           -\n                    3 NVIDIAGeFor        0.0       66C       0.0     93%      19%      10.7G      894M            2           ok           -\n                    4 NVIDIAGeFor        0.0       69C       0.0     98%      21%      10.7G      1.7G            2           ok           -\n                    5 NVIDIAGeFor        0.0       62C       0.0     98%      21%      10.7G      1.7G            2           ok           -\n                    6 NVIDIAGeFor        0.0       25C       0.0      0%       0%      10.7G        0M            8           ok           -\n                    7 NVIDIAGeFor        0.0       35C       0.0      0%       0%      10.7G        0M            8           ok           -\n</code></pre> <p>\u4f7f\u7528 GPU \u8d44\u6e90\u65f6\uff0c\u9700\u8981\u5bf9\u63d0\u4ea4\u811a\u672c\u8fdb\u884c\u76f8\u5e94\u4fee\u6539\uff0c\u7528 <code>-gpu</code> \u547d\u4ee4\u7533\u8bf7 GPU \u8d44\u6e90\u3002</p> <pre><code>#!/bin/bash\n\n#BSUB -q gpu\n#BSUB -W 24:00\n#BSUB -J train\n#BSUB -o %J.stdout\n#BSUB -e %J.stderr\n#BSUB -gpu \"num=1:mode=shared:mps=no:j_exclusive=no\"\n#BSUB -n 4\n#BSUB -R \"span[ptile=32]\"\n\nmodule add deepmd/2.0b1\nlmp_mpi -i input.lammps 1&gt;&gt; model_devi.log 2&gt;&gt; model_devi.log\n</code></pre> <p>\u5176\u4e2d <code>num=1</code> \u8868\u793a\u7533\u8bf71\u5f20GPU\u5361\uff0c<code>j_exclusive=no</code> \u8868\u793a\u5141\u8bb8\u548c\u5176\u4ed6\u4efb\u52a1\u5171\u5b58\uff0c<code>-n</code> \u8868\u793a\u7533\u8bf7\u7684CPU\u6838\u6570\u3002 \u4f7f\u7528V100\u65f6\uff0c\u8bf7\u8bbe\u7f6e\u4e3a\u4e0d\u8d85\u8fc78\u7684\u6574\u6570\uff1b \u4f7f\u7528A100\u65f6\uff0c\u8bf7\u8bbe\u7f6e\u4e3a\u4e0d\u8d85\u8fc78\u7684\u6574\u6570\uff0c\u82e5\u4e3a\u5f00\u542fMIG\u7684\u60c5\u51b5\uff0c\u8bf7\u53c2\u8003A100\u62c6\u5206\u5b9e\u4f8b\u4f7f\u7528\u8bf4\u660e\uff1b \u4f7f\u75282080Ti\u65f6\uff0c\u8bf7\u8bbe\u7f6e\u4e3a\u4e0d\u8d85\u8fc74\u7684\u6574\u6570\uff0c\u5426\u5219\u5747\u53ef\u80fd\u4f1a\u51fa\u73b0\u8d44\u6e90\u7a7a\u95f2\u4f46\u65e0\u6cd5\u4f7f\u7528\u7684\u60c5\u51b5\u3002\u5982\u5e0c\u671b\u72ec\u5360\u4e00\u5f20\u5361\u8bf7\u4f7f\u7528<code>j_exclusive=yes</code>\u3002</p> <p>\u94fe\u63a5</p> <p>\u4f7f\u7528\u65b0\u7248 LSF \u63d0\u4ea4\u4efb\u52a1\uff0c\u4e0d\u9700\u8981\u5f15\u5165\u68c0\u6d4b\u811a\u672c\u6216<code>CUDA_VISIBLE_DEVICES</code>\u63a7\u5236\u4f7f\u7528\u7684GPU\u3002</p>"},{"location":"wiki/deprecated/lsf_usage/#cpu","title":"\u7ed1\u5b9aCPU","text":"<p>\u5bf9\u67d0\u4e9b\u4f5c\u4e1a\u7c7b\u578b\uff08\u5982VASP\uff09\uff0c\u5f53\u4f7f\u7528GPU\u65f6\uff0c\u4f1a\u5e0c\u671bCPU\u8fdb\u7a0b\u5c3d\u53ef\u80fd\u72ec\u7acb\u8fd0\u884c\u5728\u6240\u5206\u914d\u7684\u6838\u4e0a\uff0c\u6b64\u65f6\u53ef\u901a\u8fc7\u8bbe\u7f6e CPU \u4eb2\u548c\u6027\u6765\u63a7\u5236\u6240\u7528\u7684\u6838\u6570\u3002\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>#!/bin/bash\n#\n#BSUB -q gpu\n#BSUB -W 12:00\n#BSUB -J vasp\n#BSUB -o vasp.%J.stdout\n#BSUB -e vasp.%J.stderr\n#BSUB -n 8\n#BSUB -R \"span[ptile=32]\"\n#BSUB -gpu \"num=1:mode=shared:mps=no:j_exclusive=no\"\n#BSUB -R \"affinity[core(1,exclusive=(core,alljobs))]\"\n\n# add modulefiles\nmodule load vasp/6.1.0-openacc\nmpirun -np 1 vasp_gam\n</code></pre> <p>\u5176\u4e2d\uff0c<code>core(1,exclusive=(core,alljobs))</code> \u8868\u793a\u4f7f\u75281\u4e2a\u6838\u4e14\u4e0e\u5176\u4ed6\u4f5c\u4e1a\u4e0d\u540c\u3002\u6ce8\u610f\u8fd9\u91cc\u9700\u8981\u6839\u636e\u5b9e\u9645\u4f7f\u7528\u7684\u6838\u6570\u6307\u5b9a\uff0c\u56e0\u4e3a\u4f5c\u4e1a\u4e2d<code>mpirun -np</code>\u7684\u53c2\u6570\u662f1\u3002</p>"},{"location":"wiki/deprecated/lsf_usage/#dp-gen-slurm","title":"DP-GEN Slurm \u7cfb\u7edf\u63d0\u4ea4\u65b9\u6cd5","text":"<p>\u4ee5\u8bad\u7ec3\u6b65\u9aa4\u4e3a\u4f8b\uff1a</p> <pre><code>{\n  \"train\": [\n    {\n      \"machine\": {\n        \"machine_type\": \"slurm\",\n        \"hostname\": \"xx.xxx.xxx.xxx\",\n        \"port\": 22,\n        \"username\": \"chenglab\",\n        \"work_path\": \"/home/chenglab/ypliu/dprun/train\"\n      },\n      \"resources\": {\n        \"numb_gpu\": 1,\n        \"numb_node\": 1,\n        \"task_per_node\": 2,\n        \"partition\": \"gpu\",\n        \"exclude_list\": [],\n        \"source_list\": [],\n        \"module_list\": [\n            \"deepmd/1.2\"\n        ],\n        \"time_limit\": \"96:0:0\",\n        \"sleep\": 20\n      },\n      \"python_path\": \"/share/apps/deepmd/1.2/bin/python3.6\"\n    }\n  ],\n  ...\n}\n</code></pre> <p>\u82e5\u63d0\u4ea4\u4efb\u52a1\u4f7f\u7528QoS\u8bbe\u7f6e\uff0c\u5219\u53ef\u4ee5\u5728<code>resources</code>\u4e2d\u589e\u52a0<code>qos</code>\u9879\u76ee\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>{\n  \"train\": [\n    {\n      \"machine\": {\n        \"machine_type\": \"slurm\",\n        \"hostname\": \"xx.xxx.xxx.xxx\",\n        \"port\": 22,\n        \"username\": \"chenglab\",\n        \"work_path\": \"/home/chenglab/ypliu/dprun/train\"\n      },\n      \"resources\": {\n        \"numb_gpu\": 1,\n        \"numb_node\": 1,\n        \"task_per_node\": 2,\n        \"partition\": \"gpu\",\n        \"exclude_list\": [],\n        \"source_list\": [],\n        \"module_list\": [\n            \"deepmd/1.2\"\n        ],\n        \"time_limit\": \"96:0:0\",\n        \"qos\": \"normal\",\n        \"sleep\": 20\n      },\n      \"python_path\": \"/share/apps/deepmd/1.2/bin/python3.6\"\n    }\n  ],\n  ...\n}\n</code></pre>"},{"location":"wiki/deprecated/lsf_usage/#lsf_1","title":"LSF \u4f5c\u4e1a\u7ba1\u7406\u7cfb\u7edf\uff08\u65e7\u7248\uff09","text":"<p>\u76ee\u524d\u65e7\u7248 LSF \u7cfb\u7edf\uff0810.1.0.0\uff09\u5df2\u4e0d\u518d\u9002\u7528\uff0c\u6b64\u90e8\u5206\u4ec5\u4f5c\u5f52\u6863\uff0c\u4e0d\u518d\u66f4\u65b0\uff0c\u8fd8\u8bf7\u7559\u610f\u3002 \u65b0\u7248\u8bf4\u660e\u8bf7\u79fb\u6b65\u3002</p> <p>\u5728GPU\u8282\u70b9\u4e0a\uff0c\u9700\u8981\u901a\u8fc7\u6307\u5b9a <code>CUDA_VISIBLE_DEVICES</code> \u6765\u5bf9\u4efb\u52a1\u8fdb\u884c\u7ba1\u7406\u3002</p> <pre><code>#!/bin/bash\n\n#BSUB -q gpu\n#BSUB -W 24:00\n#BSUB -J test\n#BSUB -o %J.stdout\n#BSUB -e %J.stderr\n#BSUB -n 4\n</code></pre> <p>lsf \u63d0\u4ea4\u811a\u672c\u4e2d\u9700\u8981\u5305\u542b <code>export CUDA_VISIBLE_DEVICES=X</code> \uff0c\u5176\u4e2d <code>X</code> \u6570\u503c\u9700\u8981\u6839\u636e\u5177\u4f53\u8282\u70b9\u7684\u5361\u7684\u4f7f\u7528\u60c5\u51b5\u786e\u5b9a\u3002</p> <p>\u4f7f\u7528\u8005\u53ef\u4ee5\u7528 <code>ssh &lt;host&gt; nvidia-smi</code> \u767b\u9646\u5230\u5bf9\u5e94\u8282\u70b9\uff08\u8282\u70b9\u540d\u4e3a <code>&lt;host&gt;</code>\uff09\u68c0\u67e5 GPU \u4f7f\u7528\u60c5\u51b5\u3002 \u793a\u4f8b\u5982\u4e0b\uff1a</p> <p><pre><code>$ ssh c51-g001 nvidia-smi\nWed Mar 10 12:59:01 2021\n+-----------------------------------------------------------------------------+\n| NVIDIA-SMI 460.32.03    Driver Version: 460.32.03    CUDA Version: 11.2     |\n|-------------------------------+----------------------+----------------------+\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\n|                               |                      |               MIG M. |\n|===============================+======================+======================|\n|   0  Tesla V100-SXM2...  Off  | 00000000:61:00.0 Off |                    0 |\n| N/A   42C    P0    42W / 300W |      3MiB / 32510MiB |      0%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n|   1  Tesla V100-SXM2...  Off  | 00000000:62:00.0 Off |                    0 |\n| N/A   43C    P0    44W / 300W |  31530MiB / 32510MiB |     62%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n|   2  Tesla V100-SXM2...  Off  | 00000000:89:00.0 Off |                    0 |\n| N/A   43C    P0    45W / 300W |      3MiB / 32510MiB |      0%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n|   3  Tesla V100-SXM2...  Off  | 00000000:8A:00.0 Off |                    0 |\n| N/A   43C    P0    47W / 300W |      3MiB / 32510MiB |      0%      Default |\n|                               |                      |                  N/A |\n+-------------------------------+----------------------+----------------------+\n\n+-----------------------------------------------------------------------------+\n| Processes:                                                                  |\n|  GPU   GI   CI        PID   Type   Process name                  GPU Memory |\n|        ID   ID                                                   Usage      |\n|=============================================================================|\n|    1   N/A  N/A    127004      C   ...pps/deepmd/1.2/bin/python    31527MiB |\n+-----------------------------------------------------------------------------+\n</code></pre> \u8868\u793a\u76ee\u524d\u8be5\u8282\u70b9\uff08<code>c51-g001</code> \uff09\u4e0a 1 \u53f7\u5361\u6b63\u5728\u88ab\u8fdb\u7a0b\u53f7\u4e3a 127004 \u7684\u8fdb\u7a0b <code>...pps/deepmd/1.2/bin/python</code> \u4f7f\u7528\uff0c\u5360\u7528\u663e\u5b58\u4e3a 31527 MB\uff0cGPU \u5229\u7528\u7387\u4e3a 62%\u3002</p> <p>\u5728 Zeus \u96c6\u7fa4\u4f7f\u7528 deepmd \u7684\u63d0\u4ea4\u811a\u672c\u793a\u4f8b\u5982\u4e0b\uff08\u76ee\u524d <code>large</code> \u961f\u5217\u672a\u5bf9\u7528\u6237\u6700\u5927\u63d0\u4ea4\u4efb\u52a1\u6570\u8bbe\u9650\u5236\uff0cWalltime \u4e5f\u65e0\u65f6\u95f4\u9650\u5236\uff09\uff1a</p> <pre><code>#!/bin/bash\n\n#BSUB -q large\n#BSUB -J train\n#BSUB -o %J.stdout\n#BSUB -e %J.stderr\n#BSUB -n 4\n\nmodule add cuda/9.2\nmodule add deepmd/1.0\nexport CUDA_VISIBLE_DEVICES=0\n# decided by the specific usage of gpus\ndp train input.json &gt; train.log\n</code></pre>"},{"location":"wiki/deprecated/lsf_usage/#_1","title":"\u68c0\u6d4b\u811a\u672c","text":"<p>Zeus \u96c6\u7fa4\u4e0a\u9884\u7f6e\u4e86\u4e24\u4e2a\u68c0\u6d4b\u811a\u672c\uff0c\u9488\u5bf9\u4e0d\u540c\u9700\u8981\u5bf9\u5361\u7684\u4f7f\u7528\u8fdb\u884c\u5212\u5206\u3002</p> <p>\u53ef\u4ee5\u4f7f\u7528\u68c0\u6d4b\u811a\u672c<code>/share/base/tools/export_visible_devices</code>\u6765\u786e\u5b9a <code>$CUDA_VISIBLE_DEVICES</code> \u7684\u503c\uff0c\u793a\u4f8b\u5982\u4e0b\uff1a</p> <pre><code>#!/bin/bash\n\n#BSUB -q gpu\n#BSUB -J train\n#BSUB -o %J.stdout\n#BSUB -e %J.stderr\n#BSUB -n 4\n\nmodule add cuda/9.2\nmodule add deepmd/1.0\nsource /share/base/scripts/export_visible_devices\n\ndp train input.json &gt; train.log\n</code></pre> <p><code>/share/base/tools/export_visible_devices</code> \u53ef\u4ee5\u4f7f\u7528flag <code>-t mem</code> \u63a7\u5236\u663e\u5b58\u8bc6\u522b\u4e0b\u9650\uff0c\u5373\u4f7f\u7528\u663e\u5b58\u82e5\u4e0d\u8d85\u8fc7 <code>mem</code> \u7684\u6570\u503c\uff0c\u5219\u8ba4\u4e3a\u8be5\u5361\u672a\u88ab\u4f7f\u7528\u3002\u6839\u636e\u5b9e\u9645\u4f7f\u7528\u60c5\u51b5\u548c\u7ecf\u9a8c\uff0c\u9ed8\u8ba4100 MB\u4ee5\u4e0b\u89c6\u4e3a\u7a7a\u5361\uff0c\u5373\u53ef\u4ee5\u5411\u8be5\u5361\u63d0\u4ea4\u4efb\u52a1\u3002</p> <p>\u4e5f\u53ef\u4ee5\u4f7f\u7528\u68c0\u6d4b\u811a\u672c<code>/share/base/tools/avail_gpu.sh</code>\u6765\u786e\u5b9a <code>$CUDA_VISIBLE_DEVICES</code> \u7684\u503c\u3002<code>/share/base/tools/avail_gpu.sh</code> \u53ef\u4ee5\u4f7f\u7528flag <code>-t util</code> \u63a7\u5236\u663e\u5361\u5229\u7528\u7387\u53ef\u7528\u4e0a\u9650\uff0c\u5373\u4f7f\u7528\u663e\u5361\u5229\u7528\u7387\u82e5\u8d85\u8fc7 <code>util</code> \u7684\u6570\u503c\uff0c\u5219\u8ba4\u4e3a\u8be5\u5361\u88ab\u4f7f\u7528\u3002\u76ee\u524d\u811a\u672c\u9ed8\u8ba4\u663e\u5361\u5229\u7528\u7387\u4f4e\u4e8e5%\u89c6\u4e3a\u7a7a\u5361\uff0c\u5373\u53ef\u4ee5\u5411\u8be5\u5361\u63d0\u4ea4\u4efb\u52a1\u3002</p>"},{"location":"wiki/deprecated/lsf_usage/#qos","title":"\u4efb\u52a1\u4f18\u5148\u7ea7\u8bbe\u7f6e\uff08QoS\uff09\uff08\u4e0d\u53ef\u7528\uff09","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u63d0\u4ea4\u7684\u4efb\u52a1Qos\u8bbe\u7f6e\u4e3anormal\uff0c\u5373\u586b\u5145\u5728\u6574\u4e2a\u961f\u5217\u7684\u672b\u5c3e\u3002\u5982\u679c\u4efb\u52a1\u6bd4\u8f83\u7d27\u6025\uff0c\u53ef\u4ee5\u5411\u7ba1\u7406\u5458\u62a5\u5907\u7533\u8bf7\u4f7f\u7528emergency\u4f18\u5148\u7ea7\uff0c\u91c7\u7528\u6b64\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\u9ed8\u8ba4\u6392\u5728\u961f\u5217\u9876\u3002</p> <p>\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff0c\u5373\u5728\u63d0\u4ea4\u811a\u672c\u4e2d\u52a0\u5165\u4e0b\u884c\uff1a</p> <pre><code>#SBATCH --qos emergency\n</code></pre>"},{"location":"wiki/deprecated/lsf_usage/#dp-gen","title":"DP-GEN","text":"<p>\u4ee5\u8bad\u7ec3\u6b65\u9aa4\u4e3a\u4f8b\uff1a</p> <pre><code>{\n  \"train\": [\n    {\n      \"machine\": {\n        \"machine_type\": \"lsf\",\n        \"hostname\": \"xx.xxx.xxx.xxx\",\n        \"port\": 22,\n        \"username\": \"username\",\n        \"password\": \"password\",\n        \"work_path\": \"/some/remote/path\"\n      },\n      \"resources\": {\n        \"node_cpu\": 4,\n        \"numb_node\": 1,\n        \"task_per_node\": 4,\n        \"partition\": \"large\",\n        \"exclude_list\": [],\n        \"source_list\": [\n            \"/share/base/scripts/export_visible_devices -t 100\"\n        ],\n        \"module_list\": [\n            \"cuda/9.2\",\n            \"deepmd/1.0\"\n                ],\n        \"time_limit\": \"96:0:0\",\n        \"submit_wait_time\": 20\n      },\n      \"python_path\": \"/share/deepmd-1.0/bin/python3.6\"\n    }\n  ],\n  ......\n}\n</code></pre>"},{"location":"wiki/deprecated/lsf_usage/#dp-gen-v10-api","title":"DP-GEN v1.0 API","text":"<p>\u6ce8\u610f</p> <p><p><code>train</code> \u90e8\u5206\u4f7f\u7528\u4e86\u5bf9\u65b0\u7248 LSF \u63d0\u4f9b\u652f\u6301\u7684\u5199\u6cd5\uff0c\u5373\u540c\u65f6\u6307\u5b9a <code>gpu_usage</code> \u548c <code>gpu_new_syntax</code> \u4e3a <code>True</code>\uff0c\u4ece\u800c\u53ef\u5728\u63d0\u4ea4\u811a\u672c\u4e2d\u4f7f\u7528\u65b0\u7248 LSF \u7684\u8bed\u6cd5\u3002</p><p><code>model_devi</code>\u90e8\u5206\u4f7f\u7528\u7684\u662f\u65e7\u7248\u8bed\u6cd5\uff0c\u4e14\u672a\u6307\u5b9aGPU\uff0c\u4f46\u5bfc\u5165\u4e86\u68c0\u6d4b\u811a\u672c\u3002</p><p><code>fp</code> \u90e8\u5206\u4f7f\u7528\u7684\u662f\u9488\u5bf9CPU\u8ba1\u7b97\u4f7f\u7528\u7684\u8bed\u6cd5\u3002\u6ce8\u610f <code>mpiexec.hydra</code> \u9700\u8981\u5199\u51fa\u3002</p></p> <pre><code>{\n  \"api_version\": \"1.0\",\n  \"train\": [\n    {\n      \"command\": \"dp\",\n      \"machine\": {\n        \"batch_type\": \"LSF\",\n        \"context_type\": \"SSHContext\",\n        \"local_root\": \"./\",\n        \"remote_root\": \"/data/tom/dprun/train\",\n        \"remote_profile\": {\n            \"hostname\": \"123.45.67.89\",\n            \"username\": \"tom\"\n        }\n      },\n      \"resources\": {\n        \"number_node\": 1,\n        \"cpu_per_node\": 4,\n        \"gpu_per_node\": 1,\n        \"queue_name\": \"gpu\",\n        \"group_size\": 1,\n        \"kwargs\": {\n          \"gpu_usage\": true,\n          \"gpu_new_syntax\": true, \n          \"gpu_exclusive\": true\n        },\n        \"custom_flags\": [\n          \"#BSUB -J train\",\n          \"#BSUB -W 24:00\"\n        ],\n        \"module_list\": [\n          \"deepmd/2.0\"\n        ]\n      }\n    }\n  ],\n  \"model_devi\":[\n    {\n      \"command\": \"lmp_mpi\",\n      \"machine\":{\n        \"batch_type\": \"LSF\",\n        \"context_type\": \"SSHContext\",\n        \"local_root\": \"./\",\n        \"remote_root\": \"/data/jerry/dprun/md\",\n        \"remote_profile\": {\n          \"hostname\": \"198.76.54.32\",\n          \"username\": \"jerry\",\n          \"port\": 6666\n        }\n      },\n      \"resources\": {\n        \"number_node\": 1,\n        \"cpu_per_node\": 8,\n        \"gpu_per_node\": 0,\n        \"queue_name\": \"gpu\",\n        \"group_size\": 5,\n        \"kwargs\": {\n          \"gpu_usage\": false\n        },\n        \"custom_flags\": [\n          \"#BSUB -J md\",\n          \"#BSUB -W 24:00\"\n        ],\n        \"strategy\": {\"if_cuda_multi_devices\": false},\n        \"para_deg\": 2,\n        \"module_list\": [\n          \"deepmd/2.0\"\n        ],\n        \"source_list\": [\n          \"/share/base/tools/avail_gpu.sh\"\n        ]\n      }\n    }\n  ],\n  \"fp\":[\n    {\n      \"command\": \"mpiexec.hydra -genvall vasp_gam\",\n      \"machine\":{\n        \"batch_type\": \"LSF\",\n        \"context_type\": \"SSHContext\",\n        \"local_root\": \"./\",\n        \"remote_root\": \"/data/jerry/dprun/fp\",\n        \"remote_profile\": {\n          \"hostname\": \"198.76.54.32\",\n          \"username\": \"jerry\",\n          \"port\": 6666\n        }\n      },\n      \"resources\": {\n        \"number_node\": 2,\n        \"cpu_per_node\": 32,\n        \"gpu_per_node\": 0,\n        \"kwargs\": {\n          \"gpu_usage\": false\n        },\n        \"custom_flags\": [\n          \"#BSUB -J label\",\n          \"#BSUB -W 12:00\"\n        ],\n        \"queue_name\": \"medium\",\n        \"group_size\": 10,\n        \"module_list\": [\n          \"intel/17.5.239\",\n          \"mpi/intel/2017.5.239\",\n          \"vasp/5.4.4\"\n        ]\n      }\n    }\n  ]\n}\n</code></pre>"},{"location":"wiki/deprecated/mig_usage/","title":"\u4f7f\u7528\u96c6\u7fa4\u4e0a\u7684 GPU \u2014\u2014 \u4f7f\u7528A100\u5207\u5206\u7684GPU\u5b9e\u4f8b","text":"<p>\u76ee\u524dZeus\u4e0a\u5df2\u7ecf\u90e8\u7f72\u4e86<code>c51-g002</code>\u8282\u70b9\uff0c\u5b89\u88c5\u67094\u5f20Nvidia Tesla A100\u52a0\u901f\u5361\u3002Nvidia\u5b98\u65b9\u5728A100\u53d1\u5e03\u540e\u5f15\u5165\u4e86Multi-Instance GPU(MIG)\u6280\u672f\uff0c\u53ef\u4ee5\u5c06\u4e00\u5f20A100\u62c6\u5206\u4e3a\u6700\u591a7\u4e2aGPU\u5b9e\u4f8b(GPU Instance)\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\u53ef\u4ee5\u521b\u5efa\u8ba1\u7b97\u5b9e\u4f8b(Computing Instance)\u3002</p> <p>\u62c6\u5206\u5de5\u4f5c\u9700\u8981\u7ba1\u7406\u5458\u6743\u9650\uff0c\u56e0\u800c\u7ba1\u7406\u5458\u5df2\u7ecf\u4e8b\u5148\u5c06\u5176\u4e2d\u76843\u5f20\u5361\u62c6\u5206\u4e3a7\u4e2aGI\u5e76\u521b\u5efaCI\uff0c\u56e0\u6b64\u76ee\u524d<code>c51-g002</code>\u8282\u70b9\u53ef\u4ee5\u540c\u65f6\u4f7f\u7528\u81f3\u591a22\u4e2aGPU\u5b9e\u4f8b\u3002</p> <p>\u53d7\u9650\u4e8e\u73b0\u6709\u7684\u8c03\u5ea6\u7cfb\u7edf\uff0c\u5982\u679c\u4f60\u5e0c\u671b\u4f7f\u7528Zeus\u4e0a\u7684A100\u6765\u8fdb\u884c\u8ba1\u7b97\uff0c\u8bf7\u4ed4\u7ec6\u9605\u8bfb\u4ee5\u4e0b\u64cd\u4f5c\u6307\u5f15\u3002</p>"},{"location":"wiki/deprecated/mig_usage/#_1","title":"\u5e38\u89c4\u4f7f\u7528","text":"<p>\u76ee\u524d\uff0c<code>c51-g002</code>\u8282\u70b9\u4e0a\u76840\u53f7\u5361\u5c1a\u672a\u5f00\u542fMIG\u529f\u80fd\uff0c\u56e0\u6b64\u4f7f\u7528\u4e0a\u57fa\u672c\u4e0eV100\u4e00\u6837\u3002\u4e3a\u4e86\u8c03\u5ea6\u65b9\u4fbf\uff0c\u8bf7**\u52a1\u5fc5**\u4f7f\u7528<code>j_exclusive=yes</code>\u9009\u9879\u4ee5\u786e\u4fdd\u4efb\u52a1\u53ef\u4ee5\u6b63\u786e\u8c03\u5ea6\u52300\u53f7\u5361\u3002\u5982\u679c\u4f7f\u7528DP-GEN\uff0c\u8bf7\u8bbe\u7f6e<code>gpu_exclusive</code>\u4e3a<code>true</code>\u3002</p> <p>\u6ce8\u610f</p> <p><p>\u4e0d\u8981\u5fc3\u5b58\u4fa5\u5e78\u8bbe\u7f6e<code>j_exclusive=no</code>\uff0c\u4f60\u4f1a\u60ca\u5947\u5730\u53d1\u73b0\u4efb\u52a1\u53ef\u80fd\u88ab\u63d0\u4ea4\u5230\u5176\u4ed6\u5361\u4e0a\uff0c\u56e0\u800c\u65e0\u6cd5\u5c3d\u60c5\u5730\u4eab\u752880GB\u5927\u663e\u5b58\u3002\u540c\u65f6\u8fd9\u4e5f\u4f1a\u4f7f\u5f97\u5176\u4ed6\u4eba\u7684\u4efb\u52a1\u88ab\u63d0\u4ea4\u52300\u53f7\u5361\u4e0a\uff0c\u4ece\u800c\u4ea7\u751f\u5e72\u6270\u3002</p></p> <p>\u7531\u4e8eA100\u4ec5\u652f\u6301CUDA 11.1\u4ee5\u4e0a\u7248\u672c\uff0c\u6545\u8bf7\u6ce8\u610f\u4f7f\u7528\u7684\u8f6f\u4ef6\u7248\u672c\u3002\u4ee5DeePMD-kit\u4e3a\u4f8b\uff0c\u76ee\u524d\u96c6\u7fa4\u4e0a\u53ea\u6709<code>deepmd/2.0-cuda11.3</code>\u517c\u5bb9\uff0c\u56e0\u6b64\u8bf7\u52a1\u5fc5\u6ce8\u610f\u52bf\u51fd\u6570\u548c\u4f7f\u7528\u7684DeePMD\u7684\u7248\u672c\uff0c\u4ee5\u514d\u51fa\u73b0\u62a5\u9519\u3002</p> <p>\u4ee5\u4e0b\u7ed9\u51fa\u793a\u4f8b\u63d0\u4ea4\u811a\u672c\uff1a</p> <pre><code>#!/bin/bash\n#BSUB -q gpu2\n#BSUB -W 24:00\n#BSUB -J deepmd\n#BSUB -o %J.stdout\n#BSUB -e %J.stderr\n#BSUB -n 11\n#BSUB -gpu \"num=1:mode=shared:mps=no:j_exclusive=yes\"\n#BSUB -R \"span[ptile=11]\"\n\n# add modulefiles\nmodule add deepmd/2.0-cuda11.3\n\ndp train input.json 1&gt;&gt; train.log 2&gt;&gt; train.err\n</code></pre> <p>\u8bf7\u53c2\u8003<code>/data/share/base/scripts</code>\u4e0b\u7684\u5b9e\u4f8b\uff0c\u53ef\u590d\u5236\u7c98\u8d34\u4f7f\u7528\u3002\uff08\u5e26\u6709A100\u6807\u6ce8\uff0c\u4e0d\u5e26MIG\u540e\u7f00\uff09</p> <p>\u8fd9\u91cc\u8bbe\u7f6e<code>-n 11</code>\u662f\u8003\u8651\u5230GI\u8c03\u5ea6\u7684\u8981\u6c42\uff0c\u6211\u4eec\u9700\u8981\u9632\u6b62\u51fa\u73b0\u591a\u4e8e22\u4e2a\u4efb\u52a1\u540c\u65f6\u8fd0\u884c\u5728A100\u4e0a\u3002</p>"},{"location":"wiki/deprecated/mig_usage/#miggi","title":"\u4f7f\u7528MIG\u5207\u5206\u7684GI","text":"<p>\u53d7\u9650\u4e8e\u73b0\u6709LSF\u8c03\u5ea6\u7cfb\u7edf\uff0c\u5c1a\u4e14\u65e0\u6cd5\u76f4\u63a5\u5b8c\u6210\u5bf9GI\u7684\u8c03\u5ea6\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u53e6\u8f9f\u8e4a\u5f84\uff0c\u6240\u5e78<code>j_exclusive=no</code>\u7684\u60c5\u51b5\u4e0b\u53ef\u4ee5\u8ba9\u4efb\u52a1\u6b63\u786e\u8bc6\u522b\u5230\u5f00\u542f\u4e86MIG\u7684\u5361\uff0c\u4f46\u4e5f\u4ec5\u9650\u4e8e\u6b64\u4e86\u3002\u6211\u4eec\u9700\u8981\u8fdb\u4e00\u6b65\u8ba9\u4efb\u52a1\u6b63\u786e\u5206\u914d\u5230\u7a7a\u95f2\u7684CI\u4e0a\uff0c\u800c\u975e\u9ed8\u8ba4\u7684\u7b2c\u4e00\u4e2a\uff08\u901a\u5e38\u7f16\u53f7\u4e3a7\uff09\u3002</p> <p>\u6ce8\u610f</p> <p><p>\u4e0d\u8981\u5fc3\u5b58\u4fa5\u5e78\u8bbe\u7f6e<code>j_exclusive=yes</code>\uff0c\u4f60\u4f1a\u60ca\u5947\u5730\u53d1\u73b0\u5982\u679c\u6709\u4eba\u7528\u4e860\u53f7\u5361\uff0c\u4f60\u7684\u4efb\u52a1\u4f1a\u5904\u4e8ePEND\u72b6\u6001\uff0c\u8fd9\u662f\u56e0\u4e3aLSF\u8ba4\u4e3a\u5176\u4ed6\u5361\u5747\u975e\u7a7a\u3002</p></p> <p>\u6ce8\u610f</p> <p><p>\u4e5f\u8bf7\u4e0d\u8981\u53c2\u8003LSF\u5b98\u65b9\u6587\u6863\u5bf9\u4e8e\u8fd9\u91cc\u7684\u8bf4\u660e\uff0c\u6211\u4eec\u7684\u7248\u672c\u4e0d\u517c\u5bb9MIG\u9009\u9879\u3002</p></p> <p>\u5b9e\u9645\u4e0a\u82f1\u4f1f\u8fbe\u5b98\u65b9\u6307\u5bfc\u4e2d\uff0c\u82e5\u8981\u624b\u52a8\u4f7f\u7528CI\uff0c\u9700\u8981\u6307\u5b9a<code>CUDA_VISIBLE_DEVICES</code>\u4e3a\u5bf9\u5e94\u7684UUID\u3002\u901a\u8fc7ssh\u767b\u9646\u5230<code>c51-g002</code>\u8282\u70b9\u4e0a\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>nvidia-smi -L\n</code></pre> <p>\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> <pre><code>GPU 0: A100 80GB PCIe (UUID: GPU-558ce120-5b8b-16a1-87d4-ce157bba3e9d)\nGPU 1: A100 80GB PCIe (UUID: GPU-162e30f5-cc45-efb9-1e81-19337f4919ce)\n  MIG 1g.10gb Device 0: (UUID: MIG-GPU-162e30f5-cc45-efb9-1e81-19337f4919ce/7/0)\n  MIG 1g.10gb Device 1: (UUID: MIG-GPU-162e30f5-cc45-efb9-1e81-19337f4919ce/8/0)\n  MIG 1g.10gb Device 2: (UUID: MIG-GPU-162e30f5-cc45-efb9-1e81-19337f4919ce/9/0)\n  MIG 1g.10gb Device 3: (UUID: MIG-GPU-162e30f5-cc45-efb9-1e81-19337f4919ce/11/0)\n  MIG 1g.10gb Device 4: (UUID: MIG-GPU-162e30f5-cc45-efb9-1e81-19337f4919ce/12/0)\n  MIG 1g.10gb Device 5: (UUID: MIG-GPU-162e30f5-cc45-efb9-1e81-19337f4919ce/13/0)\n  MIG 1g.10gb Device 6: (UUID: MIG-GPU-162e30f5-cc45-efb9-1e81-19337f4919ce/14/0)\nGPU 2: A100 80GB PCIe (UUID: GPU-b43c9a60-fe1a-73ec-06b5-59e6e8b25747)\n  MIG 1g.10gb Device 0: (UUID: MIG-GPU-b43c9a60-fe1a-73ec-06b5-59e6e8b25747/7/0)\n  MIG 1g.10gb Device 1: (UUID: MIG-GPU-b43c9a60-fe1a-73ec-06b5-59e6e8b25747/8/0)\n  MIG 1g.10gb Device 2: (UUID: MIG-GPU-b43c9a60-fe1a-73ec-06b5-59e6e8b25747/9/0)\n  MIG 1g.10gb Device 3: (UUID: MIG-GPU-b43c9a60-fe1a-73ec-06b5-59e6e8b25747/10/0)\n  MIG 1g.10gb Device 4: (UUID: MIG-GPU-b43c9a60-fe1a-73ec-06b5-59e6e8b25747/11/0)\n  MIG 1g.10gb Device 5: (UUID: MIG-GPU-b43c9a60-fe1a-73ec-06b5-59e6e8b25747/12/0)\n  MIG 1g.10gb Device 6: (UUID: MIG-GPU-b43c9a60-fe1a-73ec-06b5-59e6e8b25747/13/0)\nGPU 3: A100 80GB PCIe (UUID: GPU-6fc20abf-dbd6-c875-17d0-8b5b579c9792)\n  MIG 1g.10gb Device 0: (UUID: MIG-GPU-6fc20abf-dbd6-c875-17d0-8b5b579c9792/7/0)\n  MIG 1g.10gb Device 1: (UUID: MIG-GPU-6fc20abf-dbd6-c875-17d0-8b5b579c9792/8/0)\n  MIG 1g.10gb Device 2: (UUID: MIG-GPU-6fc20abf-dbd6-c875-17d0-8b5b579c9792/9/0)\n  MIG 1g.10gb Device 3: (UUID: MIG-GPU-6fc20abf-dbd6-c875-17d0-8b5b579c9792/11/0)\n  MIG 1g.10gb Device 4: (UUID: MIG-GPU-6fc20abf-dbd6-c875-17d0-8b5b579c9792/12/0)\n  MIG 1g.10gb Device 5: (UUID: MIG-GPU-6fc20abf-dbd6-c875-17d0-8b5b579c9792/13/0)\n  MIG 1g.10gb Device 6: (UUID: MIG-GPU-6fc20abf-dbd6-c875-17d0-8b5b579c9792/14/0)\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c1-3\u53f7GPU\u5404\u81ea\u62e5\u6709\u4e867\u4e2a\u72ec\u7acb\u7684MIG Device\uff0c\u5404\u81ea\u7684UUID\u5217\u5728\u62ec\u53f7\u91cc\u3002</p> <p>\u4f46\u662f\uff0c\u5982\u679c\u4f60\u8bd5\u56fe\u628a\u4efb\u52a1\u76f4\u63a5\u4ea4\u4e0a\u53bb\uff0c\u5e76\u4e14\u624b\u52a8\u6307\u5b9a\u4e00\u4e2aUUID\uff0c\u5219\u4f1a\u53d1\u73b0\u5f88\u53ef\u80fd\u4f60\u7684\u4efb\u52a1\u6ca1\u6709\u8dd1\u5728\u60f3\u8981\u7684\u5361\u4e0a\uff0c\u751a\u81f3\u5728CPU\u4e0a\u8fd0\u884c\u3002\u8fd9\u662f\u56e0\u4e3aLSF\u8c03\u5ea6\u4e0b\uff0c\u53ea\u6709\u4e00\u5f20\u5361\u53ef\u89c1\uff0c\u56e0\u6b64\u53ea\u6709\u8be5\u53ef\u89c1\u5361\u7684UUID\u624d\u6709\u6548\u3002</p> <p>\u56e0\u6b64\uff0c\u65e0\u8bba\u600e\u6837\uff0c\u6211\u4eec\u90fd\u9700\u8981\u4e00\u4e2a\u811a\u672c\u6765\u76d1\u6d4b\u81ea\u5df1\u76ee\u524d\u4f4d\u4e8e\u54ea\u5f20\u5361\uff0c\u8be5\u5361\u4e0a\u6709\u54ea\u51e0\u4e2aGI\u7a7a\u95f2\u3002</p> <p>\u7ba1\u7406\u5458\u63d0\u4f9b\u4e86\u4e00\u4e2a\u811a\u672c\u653e\u7f6e\u5728<code>/data/share/base/tools/mig_check.py</code>\uff0c\u53ef\u8f93\u51fa\u5f53\u524d\u53ef\u7528\u7684UUID\u3002\u8be5\u811a\u672c\u5df2\u7ecf\u8bbe\u7f6e\u597d\u6267\u884c\u73af\u5883\uff0c\u56e0\u800c\u76f4\u63a5\u8fd0\u884c\u5373\u53ef\uff0c\u4e0d\u8981\u7528\u672c\u5730\u7684Python\u73af\u5883\u6765\u6267\u884c\u3002 \u4ee5\u4e0b\u7ed9\u51fa\u4e00\u4e2a\u793a\u4f8b\u63d0\u4ea4\u811a\u672c\uff1a</p> <pre><code>#BSUB -e %J.err\n#BSUB -o %J.out\n#BSUB -n 1\n#BSUB -R 'span[ptile=1]'\n#BSUB -q gpu2\n#BSUB -gpu 'num=1:mode=shared:j_exclusive=no'\n#BSUB -J train\n#BSUB -W 24:00\n\nmodule load deepmd/2.0-cuda11.3\n\nexport CUDA_VISIBLE_DEVICES=`/data/share/base/tools/mig_check.py`\n\ndp train input.json 1&gt;&gt; train.log 2&gt;&gt; train.err\n</code></pre> <p>\u8bf7\u8bbe\u7f6e\u4f7f\u75281\u4e2aCPU\u6838\u4ee5\u514d\u6ca1\u6709\u8db3\u591f\u591a\u7684CPU\u6570\u4f9b\u4efb\u52a1\u63d0\u4ea4\u3002</p> <p>\u5982\u679c\u4f7f\u7528\u65b0\u7248DP-GEN\u6216DPDispatcher\u6765\u8c03\u5ea6\u4efb\u52a1\uff0c\u8bf7\u52a0\u5165\u65b0\u7684\u73af\u5883\u53d8\u91cf\u9009\u9879\u3002\u4ee5\u4e0b\u7ed9\u51fa\u4e00\u4e2a<code>resources</code>\u90e8\u5206\u7684\u793a\u4f8b\uff1a</p> <pre><code>\"resources\": {\n    \"number_node\": 1,\n    \"cpu_per_node\": 1,\n    \"gpu_per_node\": 1,\n    \"queue_name\": \"gpu2\",\n    \"group_size\": 1,\n    \"kwargs\": {\n      \"gpu_usage\": true,\n      \"gpu_new_syntax\": true,\n      \"gpu_exclusive\": false\n    },\n    \"custom_flags\": [\n      \"#BSUB -J train\",\n      \"#BSUB -W 24:00\"\n    ],\n    \"strategy\": {\"if_cuda_multi_devices\": false},\n    \"module_list\": [\"deepmd/2.0-cuda11.3\"],\n    \"envs\": {\"CUDA_VISIBLE_DEVICES\": \"`/data/share/base/tools/mig_check.py`\"},\n    \"wait_time\": 60\n}\n</code></pre> <p>\u8bf7\u52a1\u5fc5\u8bbe\u7f6e<code>gpu_exclusive</code>\u4e3a<code>false</code>\u4ee5\u786e\u4fdd\u4efb\u52a1\u6b63\u786e\u63d0\u4ea4\u52301-3\u53f7\u5361\uff1b\u8bf7\u52a1\u5fc5\u8bbe\u7f6e<code>if_cuda_multi_devices</code>\u4e3a<code>false</code>\u4ee5\u514d\u81ea\u52a8\u5199\u5165<code>CUDA_VISIBLE_DEVICES</code>\u3002\u540c\u65f6\u7ecf\u8fc7\u5b9e\u8df5\uff0c30 s\u7684\u7b49\u5f85\u65f6\u95f4\u5bf9\u4e8e\u8bad\u7ec3\u4efb\u52a1\u53ef\u80fd\u592a\u77ed\uff0c\u6216\u9700\u898160s\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/","title":"\u5982\u4f55\u4f7f\u7528 Wiki","text":"<p>Wiki \u4e66\u5199\u4f7f\u7528 markdown \u683c\u5f0f\u3002\u672c wiki \u4f7f\u7528 python-markdown \u4f5c\u4e3a markdown \u7684\u89e3\u91ca\u5668\uff0c\u652f\u6301\u4e00\u4e9b markdown \u7684\u6269\u5c55\u8bed\u6cd5\u3002\u5728\u672c\u5730\u7f16\u8f91 markdown \u6587\u4ef6\u65f6\uff0c\u63a8\u8350\u4f7f\u7528 VSCode \u6216\u8005 Obsidian\u3002</p> <p>Warning</p> <p>Typora\u6b63\u5f0f\u7248\u5df2\u7ecf\u6536\u8d39\uff0c\u4e14\u6d4b\u8bd5\u7248\u5728\u67d0\u4e9b\u7cfb\u7edf\u73af\u5883\u5df2\u4e0d\u53ef\u7528\u3002</p> <p>\u6709\u4efb\u4f55\u95ee\u9898\u53ef\u4ee5\u5728 https://github.com/chenggroup/chenggroup.github.io/issues \u8fdb\u884c\u53cd\u9988\u3002</p> <p>\u6587\u6863\u4e2d\u5e26\u6709 <code>*</code> \u7684\u90e8\u5206\u53ef\u4ee5\u7565\u8fc7\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#wiki_1","title":"\u5bf9\u67d0\u7bc7 wiki \u5185\u5bb9\u6709\u7591\u95ee","text":"<p>\u8bf7\u4f7f\u7528\u9875\u9762\u4e0b\u65b9\u7684\u8bc4\u8bba\u533a\u3001\u767b\u9646Github\u8d26\u53f7\u540e\u8fdb\u884c\u8bc4\u8bba\u3002\u8be5\u90e8\u5206\u57fa\u4e8egiscus\u6784\u5efa\uff0c\u53ef\u4ee5\u81ea\u52a8\u521b\u5efa\u4e00\u4e2adiscussion\uff0c\u4ece\u800c\u63d0\u4f9b\u65b9\u4fbf\u7684\u4e92\u52a8\u3002\u6b64\u529f\u80fd\u9700\u8981\u521b\u5efa\u9875\u9762\u7684\u8d21\u732e\u8005\u624b\u52a8\u5f00\u542f\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#wiki_2","title":"\u5982\u4f55\u4e0a\u4f20 wiki","text":"<p>\u5982\u679c\u8fd8\u4e0d\u4f1a markdown \u8bed\u6cd5\uff0c\u53ef\u4ee5\u5148\u770b markdown \u8bed\u6cd5\u90e8\u5206\uff0c\u80fd\u88ab\u8bc6\u522b\u4e3a wiki \u7684 markdown \u6587\u4ef6\u5e94\u5728\u6587\u4ef6\u7684\u5f00\u5934\u63d2\u5165 YAML Front Matter\u3002\u628a\u81ea\u5df1\u7684 markdown \u6587\u6863\u4e0a\u4f20\u5230 wiki \u4e0a\u53ef\u4ee5\u6709\u4e24\u79cd\u65b9\u6848\uff0c\u672c\u8d28\u90fd\u662f\u5728\u4f7f\u7528 Github: 1. \u4e0a\u4f20\u6587\u4ef6\u81f3 Github \u4ed3\u5e93 (\u63a8\u8350)\uff1b2. \u7531 wiki \u7f51\u7ad9 \u5bfc\u5411\u7f16\u8f91\u9875\u9762\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#github","title":"\u4e0a\u4f20\u6587\u4ef6\u81f3 github \u4ed3\u5e93 (\u63a8\u8350)","text":"<p>\u63a8\u8350\u901a\u8fc7 pull requests \u7684\u65b9\u6cd5\u6765\u589e\u52a0\u6216\u4fee\u6539 wiki \u7f51\u7ad9 \u4e0a\u7684 wiki\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#1-fork-wiki-repo","title":"1. Fork wiki \u6587\u6863\u6240\u5728\u4ed3\u5e93","text":"<p>\u5148 fork https://github.com/chenggroup/chenggroup.github.io \uff0c\u7136\u540e\u8fdb\u5165 fork \u6210\u529f\u540e\u7684\u4ed3\u5e93\u3002</p> <p></p>"},{"location":"wiki/how_to_edit/howtodo/#2","title":"2. \u521b\u5efa\u65b0\u6587\u4ef6\u6216\u4e0a\u4f20\u672c\u5730\u6587\u4ef6","text":"<p>\u63a8\u8350\u5728\u672c\u5730\u7528 typora \u7b49\u7f16\u8f91\u5668\u5199\u597d markdown \u540e\u76f4\u63a5\u4e0a\u4f20\u6587\u4ef6\uff0c\u6587\u4ef6\u8bf7\u4e0a\u4f20\u81f3 _wiki \u76ee\u5f55 (master \u5206\u652f)\u3002\u4e5f\u53ef\u4ee5\u4fee\u6539 fork \u7684\u4ed3\u5e93\u7684 <code>docs/wiki</code> \u4e0b\u7684\u6587\u4ef6\uff0c\u7136\u540e\u518d\u63d0\u4ea4 PR\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#3","title":"3. \u8bbe\u7f6e\u5bfc\u822a","text":"<p>\u5728\u4e0a\u4f20\u65b0\u7684\u6587\u6863\u540e\uff0c\u9700\u8981\u624b\u52a8\u5728\u4ed3\u5e93\u9996\u7ea7\u7684 <code>mkdocs.yml</code> \u4e2d\u8bbe\u7f6e\u5bfc\u822a\u3002</p> <p>\u4f8b\u5982\u5728\u8f6f\u4ef6\u4f7f\u7528\u4e2d\u589e\u52a0 VASP \u4f7f\u7528\u6559\u7a0b\u7684\u8bdd\uff08\u5047\u8bbe\u653e\u5728 <code>docs/wiki/software_usage/vasp.md</code>\uff09\uff0c\u4e14\u5e0c\u671b\u653e\u5728 CP2K \u548c DP-GEN \u4e4b\u95f4\uff0c\u8bf7\u5728 <code>nav</code> \u4e2d\u589e\u52a0\u5982\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>nav:\n  ...\n  - Wikis:\n      ...\n      - \u8f6f\u4ef6\u4f7f\u7528:\n          ...\n          - wiki/software_usage/Tips_for_LaTeX.md\n          - CP2K:\n              ...\n          - wiki/software_usage/vasp.md # \u65b0\u589e\u5bfc\u822a\n          - wiki/software_usage/DP-GEN.md\n          ...\n      ...\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#4-pr","title":"4. \u63d0\u4ea4 PR","text":""},{"location":"wiki/how_to_edit/howtodo/#wiki_3","title":"\u5982\u4f55\u9884\u89c8 wiki","text":"<p>\u9884\u89c8 wiki \u4e5f\u6709\u591a\u79cd\u65b9\u6848: 1. \u5229\u7528 VSCode \u6216 Obsidian \u8fdb\u884c\u9884\u89c8\uff08\u63a8\u8350\uff09 2. \u5728\u672c\u5730\u542f\u52a8 Mkdocs \u670d\u52a1 3. \u4f7f\u7528 typora \u7b49\u5b9e\u65f6\u6e32\u67d3</p> <p>\u8fd9\u91cc\u6211\u4eec\u5bf9\u540e\u4e24\u79cd\u65b9\u5f0f\u8fdb\u884c\u4ecb\u7ecd</p>"},{"location":"wiki/how_to_edit/howtodo/#mkdocs","title":"\u901a\u8fc7 Mkdocs \u670d\u52a1*","text":""},{"location":"wiki/how_to_edit/howtodo/#1","title":"1. \u4e0b\u8f7d\u7f51\u7ad9\u6e90\u7801\u81f3\u672c\u5730","text":"<pre><code>git clone https://github.com/chenggroup/chenggroup.github.io.git\ncd chenggroup.github.io\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#2-mkdocs-material-mkdocs","title":"2. \u5b89\u88c5 mkdocs-material \u548c \u5fc5\u8981\u7684 mkdocs \u63d2\u4ef6","text":"<p>\u53ef\u53c2\u8003 mkdocs-material \u5b98\u65b9\u5b89\u88c5\u6307\u5357</p> <p><pre><code>pip install mkdocs-material \\\n    mkdocs-macros-plugin \\\n    mkdocs-static-i18n[material]\n</code></pre> \u4e3a\u4e86\u83b7\u5f97\u5b8c\u7f8e\u7684\u6e32\u67d3\u6548\u679c\uff0c\u53ef\u80fd\u9700\u8981\u989d\u5916\u5b89\u88c5\u67d0\u4e9b\u63d2\u4ef6\u3002</p> <pre><code>pip install mkdocs-git-revision-date-localized-plugin \\\n    mkdocs-material-extensions\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#4-mkdocs","title":"4. \u542f\u52a8 Mkdocs \u670d\u52a1","text":"<pre><code>mkdocs serve\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#5-wiki","title":"5. \u7f16\u8f91 wiki","text":"<p>\u628a\u8981\u9884\u89c8\u7684 wiki \u79fb\u5230 <code>docs/wiki/</code> \u76ee\u5f55\u4e0b\uff0c\u6216\u662f\u76f4\u63a5\u7f16\u8f91 <code>docs/wiki/</code> \u76ee\u5f55\u4e0b\u7684 markdown \u6587\u4ef6\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#6-wiki","title":"6. \u9884\u89c8 wiki","text":"<p>\u7b49\u5f85\u7247\u523b\uff0c\u6253\u5f00\u6d4f\u89c8\u5668\u8bbf\u95ee http://127.0.0.1:8000 \uff0c\u5373\u53ef\u8fdb\u884c\u5b9e\u65f6\u9884\u89c8\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#typora","title":"\u901a\u8fc7 typora (\u6ce8\u610f\u5df2\u7ecf\u6536\u8d39)","text":"<p>\u4f7f\u7528 typora \u7f16\u8f91\u5668\u53ef\u4ee5\u5f88\u65b9\u4fbf\u5730\u5b9e\u65f6\u6e32\u67d3 markdown \u6587\u4ef6\u3002\u5982\u679c\u4e0d\u4f7f\u7528\u672c wiki \u4e2d\u6807\u6ce8\u6709 <code>*</code> \u7684 wiki \u6269\u5c55\u8bed\u6cd5 \uff0c\u5219\u53ef\u4ee5\u5927\u4f53\u4e0a\u8ba4\u4e3a typora \u6240\u6e32\u67d3\u51fa\u7684\u6587\u6863\u4e0e\u76f4\u63a5\u67e5\u770b wiki \u7f51\u7ad9 \u7684\u6587\u6863\u76f8\u5dee\u65e0\u51e0\uff0c\u57fa\u672c\u4ec5\u5b58\u5728\u663e\u793a\u98ce\u683c\u4e0a\u7684\u5dee\u5f02\u3002\u4f46\u8981\u6ce8\u610f\u9700\u66f4\u6539 typora \u7684\u4e00\u4e9b\u8bbe\u7f6e\uff08\u89c1\u540e\u6587\uff09\uff0c\u907f\u514d\u548c wiki \u6240\u4f7f\u7528\u7684 markdown \u6269\u5c55\u529f\u80fd\u53d1\u751f\u51b2\u7a81\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#markdown","title":"\u4fee\u6539 markdown \u62d3\u5c55\u8bed\u6cd5\u8bbe\u7f6e","text":"<p>\u9700\u8981\u5173\u95ed\u4e0a\u4e0b\u6807\u3001\u9ad8\u4eae\u4ee5\u53ca\u56fe\u8868\u7684\u529f\u80fd\u3002</p> <p></p>"},{"location":"wiki/how_to_edit/howtodo/#_1","title":"\u4fee\u6539\u6570\u5b66\u516c\u5f0f\u8bbe\u7f6e","text":"<p>\u9700\u8981\u5173\u95ed\u6570\u5b66\u516c\u5f0f\u81ea\u52a8\u6dfb\u52a0\u5e8f\u53f7\u7684\u529f\u80fd\u3002</p> <p></p>"},{"location":"wiki/how_to_edit/howtodo/#_2","title":"\u63d2\u5165\u56fe\u7247","text":"<p>\u8bf7\u628a\u56fe\u7247\u7edf\u4e00\u653e\u5728 <code>docs/images/</code> \u4e0b\uff0c\u4ee5\u786e\u4fdd\u65e0\u8bba\u4f55\u65f6\u8fd9\u4e9b\u56fe\u7247\u90fd\u53ef\u7528\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#markdown-grammar","title":"Markdown \u8bed\u6cd5","text":"<p>Markdown \u662f\u4e00\u79cd\u6807\u8bb0\u8bed\u8a00\uff0c\u548c\u4ee3\u7801\u4e00\u6837\uff0c\u53ef\u4ee5\u7528\u7eaf\u6587\u672c\u7684\u5f62\u5f0f\u6765\u4e66\u5199\u3002\u5176\u4f7f\u7528\u7684\u5e38\u7528\u6807\u8bb0\u7b26\u53f7\u4e0d\u8d85\u8fc7\u5341\u4e2a\uff0c\u53ef\u4ee5\u8ba9\u4eba\u4e13\u6ce8\u4e8e\u6587\u5b57\u800c\u4e0d\u662f\u6392\u7248\uff0c\u5e76\u4e14\u4e5f\u53ef\u4ee5\u65b9\u4fbf\u5730\u5bfc\u51fa\u4e3a HTML\u3001PDF \u7b49\u683c\u5f0f\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#_3","title":"\u57fa\u672c\u8bed\u6cd5","text":"<p>\u6ce8\u610f</p> <p>\u63d2\u5165\u56fe\u7247\u65f6\u5207\u52ff\u4f7f\u7528\u672c\u5730\u8def\u5f84\uff0c\u5426\u5219\u5728 wiki \u4e0a\u65e0\u6cd5\u67e5\u770b\u3002</p> <p>\u53ef\u53c2\u8003 markdown \u6559\u7a0b \u4e0e \u7ec3\u4e60 \u6765\u5b66\u4e60\u57fa\u672c\u8bed\u6cd5\u3002</p> <p>\u6ce8\u610f</p> <p>\u8981\u5f15\u7528\u540c\u4e00\u7bc7 wiki \u4e2d\u7684\u5c0f\u6807\u9898\uff08\u4e8c\u81f3\u516d\u7ea7\u6807\u9898\uff09\u53ef\u4ee5\u901a\u8fc7 <code>[sub title](#sub-title)</code> \u6765\u5f15\u7528\u3002\u4e0d\u8fc7\u9700\u8981\u6ce8\u610f\uff0c\u8981\u628a\u5c0f\u6807\u9898\u4e2d\u7684\u7a7a\u683c\u7528 <code>-</code> \u4ee3\u66ff\uff0c\u6240\u6709\u5927\u5199\u5b57\u6bcd\u6539\u6210\u5c0f\u5199\uff0c\u4e14\u5ffd\u7565 <code>.</code> , <code>&amp;</code> \u7b49\u7279\u6b8a\u7b26\u53f7\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u5982\u88ab\u5f15\u7528\u7684\u94fe\u63a5\u4e2d\u5305\u542b\u4e2d\u6587\uff0cMkdocs \u4e0d\u80fd\u63d0\u4f9b\u826f\u597d\u652f\u6301\u3002\u8bf7\u901a\u8fc7\u6dfb\u52a0\u522b\u540d\u7684\u65b9\u5f0f\u6765\u5b9e\u73b0\uff0c\u6bd4\u5982\u8981\u94fe\u63a5\u52301. Fork wiki \u6587\u6863\u6240\u5728\u4ed3\u5e93\uff0c\u8bf7\u5728 <code>#### 1. Fork wiki \u6587\u6863\u6240\u5728\u4ed3\u5e93</code> \u540e\u6dfb\u52a0 <code>{ #1-fork-wiki-repo }</code>:</p> <pre><code>  #### 1. Fork wiki \u6587\u6863\u6240\u5728\u4ed3\u5e93 { #1-fork-wiki-repo }\n</code></pre> <p>\u5728\u5f15\u7528\u65f6\uff0c\u8bf7\u4f7f\u7528\u522b\u540d\u8fdb\u884c\u94fe\u63a5 <code>[1. Fork wiki \u6587\u6863\u6240\u5728\u4ed3\u5e93](#1-fork-wiki-repo)</code>\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#gfm","title":"GFM \u6269\u5c55\u8bed\u6cd5","text":"<p>GFM(GitHub Flavored Markdown) \u662f GitHub \u6240\u4f7f\u7528\u7684 Markdown \u6269\u5c55\u8bed\u6cd5\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#_4","title":"\u6e05\u5355","text":"<pre><code>- [ ] \u672a\u5b8c\u6210\u5217\u8868\n- [x] \u5df2\u5b8c\u6210\u5217\u8868\n</code></pre> <ul> <li> \u672a\u5b8c\u6210\u5217\u8868</li> <li> \u5df2\u5b8c\u6210\u5217\u8868</li> </ul>"},{"location":"wiki/how_to_edit/howtodo/#_5","title":"\u8868\u60c5","text":"<pre><code>:eyeglasses: :+1:\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#wiki_4","title":"Wiki \u6269\u5c55\u8bed\u6cd5","text":"<p>\u6807\u6ce8 * \u7684\u90e8\u5206\u53ef\u4ee5\u4e0d\u53bb\u6ce8\u610f</p>"},{"location":"wiki/how_to_edit/howtodo/#yaml-front-matter","title":"YAML Front Matter","text":""},{"location":"wiki/how_to_edit/howtodo/#_6","title":"\u52a0\u5165\u6807\u9898","text":"<p>\u53ea\u6709\u5728 <code>markdown</code> \u6587\u4ef6\u7684\u5934\u90e8\u52a0\u5165 <code>YAML Front Matter</code> \u90e8\u5206\uff0c\u624d\u80fd\u4f7f\u4f60\u5199\u7684 wiki \u5c55\u793a\u5728\u7f51\u9875\u4e0a\u3002\u56e0\u6b64\u6700\u7b80\u5355\u7684\uff0c\u8bf7\u5728 <code>YAML Front Matter</code> \u4e2d\u52a0\u5165 <code>title</code>\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>---\ntitle: getting-started\n---\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#_7","title":"\u6dfb\u52a0\u4f5c\u8005","text":"<p>\u5728 <code>YAML Front Matter</code> \u4e2d\u52a0\u5165 <code>authors</code> \u5373\u53ef\u6dfb\u52a0\u4f5c\u8005\uff0c\u591a\u4e2a\u4f5c\u8005\u7528 yaml \u8bed\u6cd5\u7684\u5217\u8868\u8868\u793a\uff1a</p> <pre><code>---\ntitle: getting-started\nauthors: one author\n---\n</code></pre> <pre><code>---\ntitle: getting-started\nauthors:\n  - author1\n  - author2\n---\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#_8","title":"\u5f00\u542f\u8bc4\u8bba\u529f\u80fd","text":"<p>\u5bf9\u521b\u5efa\u9875\u9762\u7684\u7f16\u8f91\u8005\u6765\u8bf4\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u8bf7\u5f00\u542f\u8bc4\u8bba\u529f\u80fd\u3001\u4ee5\u4fbf\u8bfb\u8005\u53ef\u4ee5\u5feb\u901f\u63d0\u4ea4\u53cd\u9988\u6216\u8bc4\u8bba\uff0c\u5373\u5728 <code>YAML Front Matter</code> \u90e8\u5206\u589e\u52a0\u4e00\u884c\uff1a</p> <pre><code>---\n...\ncomments: true\n---\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#_9","title":"\u6570\u5b66\u516c\u5f0f","text":"<p>\u6570\u5b66\u516c\u5f0f\u53ef\u4ee5\u7528 LaTeX \u8bed\u6cd5\u6765\u4e66\u5199\uff0c\u4e24\u7aef\u7528 <code>$</code>(\u4e00\u822c\u7528\u4e8e\u884c\u5185\u516c\u5f0f) \u6216 <code>$$</code>(\u4f1a\u4f7f\u516c\u5f0f\u5c45\u4e2d\u663e\u793a) \u6765\u6807\u8bb0\uff0c\u5982 <code>$E=mc^2$</code> \u53ef\u8868\u793a \\(E=mc^2\\) \u3002</p> <pre><code>$$\nE[\\rho] = T_s[\\rho] + \\int \\mathrm{d}r\\ v_{\\rm ext}(r)\\rho(r) + V_{H}[\\rho] + E_{\\rm xc}[\\rho]\n$$\n</code></pre> \\[ E[\\rho] = T_s[\\rho] + \\int \\mathrm{d}r\\ v_{\\rm ext}(r)\\rho(r) + V_{H}[\\rho] + E_{\\rm xc}[\\rho] \\] <p>\u8981\u8868\u793a\u591a\u884c\u516c\u5f0f\uff0c\u9700\u8981\u4f7f\u7528 <code>aligned</code>\uff0c\u5e76\u8981\u5728\u884c\u5c3e\u90e8\u52a0 <code>\\\\</code>\u3002</p> <pre><code>$$\n\\begin{aligned} \\dot{x} &amp;= \\sigma(y-x) \\\\\n\\dot{y} &amp;= \\rho x - y - xz \\\\\n\\dot{z} &amp;= -\\beta z + xy \\end{aligned} \n$$\n</code></pre> \\[ \\begin{aligned} \\dot{x} &amp;= \\sigma(y-x) \\\\ \\dot{y} &amp;= \\rho x - y - xz \\\\ \\dot{z} &amp;= -\\beta z + xy \\end{aligned} \\] <p>\u82e5\u5b9e\u73b0\u7ed9\u516c\u5f0f\u7f16\u53f7\u7b49\u529f\u80fd\uff0c\u53ef\u53c2\u7167 LaTeX \u7684\u505a\u6cd5\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#_10","title":"\u5316\u5b66\u5f0f\u4e0e\u5316\u5b66\u53cd\u5e94\u5f0f","text":"<p>\u6b64\u529f\u80fd\u901a\u8fc7 LaTeX \u7684 mhchem \u63d2\u4ef6\u6765\u5b9e\u73b0\uff0c\u4f7f\u7528\u4e0a\u4e0e\u6570\u5b66\u516c\u5f0f\u8f93\u5165\u76f8\u8fd1\uff0c\u90fd\u9700\u8981\u901a\u8fc7 <code>$</code> \u6216 <code>$$</code> \u6765\u6807\u8bb0\u3002</p> \u6e90\u7801 \u5316\u5b66\u5f0f\u4e0e\u5316\u5b66\u53cd\u5e94\u5f0f <code>$\\ce{Mg(OH)2}$</code> \\(\\ce{Mg(OH)2}\\) <code>$\\ce{CrO4^2-}$</code> \\(\\ce{CrO4^2-}\\) <code>$\\ce{[Cu(NH3)4]^2+}$</code> \\(\\ce{[Cu(NH3)4]^2+}\\) <code>$\\ce{CoCl2.6H2O}$</code> \\(\\ce{CoCl2.6H2O}\\) <code>$\\ce{^{227}_{90}Th+}$</code> \\(\\ce{^{227}_{90}Th+}\\) <code>$\\ce{C2H5-OH}$</code> \\(\\ce{C2H5-OH}\\) <code>$\\ce{CH3CH=CH2}$</code> \\(\\ce{CH3CH=CH2}\\) <code>$\\ce{HC#CH}$</code> \\(\\ce{HC#CH}\\) <code>$\\ce{CaCO3 -&gt;[900\\,{}^{\\circ}\\mathrm{C}] CaO + CO2}$</code> \\(\\ce{CaCO3 -&gt;[900\\,{}^{\\circ}\\mathrm{C}] CaO + CO2}\\) <code>$\\ce{H2PO4- &lt;=&gt;C[OH-][H+] H+ + HPO4^2-}$</code> \\(\\ce{H2PO4- &lt;=&gt;C[OH-][H+] H+ + HPO4^2-}\\)"},{"location":"wiki/how_to_edit/howtodo/#_11","title":"\u4e0a\u4e0b\u6807","text":"<p>\u4e00\u822c\u60c5\u51b5\u4e0b\u53ef\u4ee5\u7528 <code>&lt;sup&gt;&lt;/sup&gt;</code> \u8868\u793a\u4e0a\u6807\uff0c\u7528 <code>&lt;sub&gt;&lt;/sub&gt;</code> \u8868\u793a\u4e0b\u6807\uff0c\u5982 ai<sup>2</sup>-kit \u53ef\u7528 <code>ai&lt;sup&gt;2&lt;/sup&gt;-kit</code> \u8868\u793a\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#_12","title":"\u63d0\u793a","text":"<pre><code>!!! tldr \"title\"\n    TLDR means too long, didn't read.\n</code></pre> <p>\u6539\u53d8 <code>tldr</code> \u5373\u53ef\u4f7f\u7528\u4e0d\u540c\u7684\u63d0\u793a\u7c7b\u578b\uff0c\u6bd4\u5982</p> <p>Use <code>tldr</code> for this.</p> <p>TLDR means too long, didn't read</p> <p>Use <code>tip</code> for this.</p> <p>This is a tip.</p> <p>Use <code>info</code> for this.</p> <p>This is a piece of information, or you can use todo.</p> <p>Use <code>question</code> for this.</p> <p>This is a question.</p> <p>Use <code>warning</code> for this.</p> <p>This is a warning</p> <p>Use <code>danger</code> for this.</p> <p>This alerts danger!</p> <p>Use <code>success</code> for this.</p> <p>This alerts success</p>"},{"location":"wiki/how_to_edit/howtodo/#button","title":"\u6309\u94ae*","text":"<pre><code>[Subscribe to our newsletter](#){ .md-button }\n</code></pre> <p>\u76ee\u524d\u652f\u6301\u6309\u94ae\u4e24\u79cd\u989c\u8272\u65b9\u6848\u7684\u914d\u7f6e\u3002</p> <pre><code>[default](#){ .md-button }\n[primary](#){ .md-button .md-button--primary }\n</code></pre> <p>default primary</p>"},{"location":"wiki/how_to_edit/howtodo/#_13","title":"\u6d41\u7a0b\u56fe*","text":"<p>\u6d41\u7a0b\u56fe\u53ef\u4ee5\u7528\u6765\u8868\u793a\u5de5\u4f5c\u6d41\u6216\u8005\u6b65\u9aa4\u7b49\uff1a</p> <pre><code>``` mermaid\ngraph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];\n```\n</code></pre> <pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#wiki_5","title":"\u5f15\u7528\u672c\u7f51\u7ad9\u7684\u5176\u4ed6 wiki","text":"<p>\u4f7f\u7528</p> <pre><code>[title](relavent/path/to/file.md)\n</code></pre> <p>\u5373\u53ef\u5728 wiki \u4e2d\u5f15\u7528\u672c\u7f51\u7ad9\u7684\u5176\u4ed6 wiki \u3002\u53ea\u9700\u5c06 <code>relavent/path/to/file.md</code> \u6539\u6210\u60f3\u8981\u5f15\u7528\u7684 wiki \u76f8\u5bf9\u6b64\u6587\u6863\u7684 \u76f8\u5bf9\u8def\u5f84\u3002</p> <p>\u6bd4\u5982\uff0c\u8981\u60f3\u5f15\u7528 <code>\u5982\u4f55\u4f7f\u7528 wiki</code> \u8fd9\u7bc7 wiki\uff0c\u5219\u53ea\u9700\u628a <code>relavent/path/to/file.md</code> \u6362\u6210 <code>../how_to_edit/howtodo.md</code>\u3002</p> <p></p> <p>Warning</p> <p>\u6ce8\u610f\u8fd9\u91cc\u63a8\u8350\u4f7f\u7528\u7684\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u53ef\u4e0d\u6539\u53d8\u540c\u7ea7\u76ee\u5f55\u7ed3\u6784\u3002\u5982\u9700\u4fee\u6539\u4e0a\u7ea7\u76ee\u5f55\u7ed3\u6784\u9700\u8981\u5bf9\u5e94\u66f4\u6539\u3002</p>"},{"location":"wiki/how_to_edit/howtodo/#_14","title":"\u6587\u6863\u82f1\u6587\u7ffb\u8bd1","text":"<p>\u76ee\u524d\u672c Wiki \u91c7\u7528 mkdocs-static-i18n \u5b9e\u73b0\u591a\u8bed\u8a00\u652f\u6301\uff0c\u56e0\u800c\u82e5\u9700\u8981\u7f16\u5199\u7ffb\u8bd1\u7248\u672c\uff0c\u4ec5\u9700\u8981\u5728\u540c\u4e00\u76ee\u5f55\u4e0b\u589e\u52a0\u4e00\u4e2a\u540e\u7f00\u4e3a <code>.en</code> \u7684markdown\u6587\u4ef6\u3002\u4f8b\u5982\u4e2d\u6587\u6587\u6863\u4e3a <code>custom.md</code>\uff0c\u5219\u82f1\u6587\u6587\u6863\u4e3a <code>custom.en.md</code>\u3002</p> <p>\u6ce8\u610f\u8bf7\u5c06\u5bfc\u8a00\u533a\u7684 <code>title</code> \u5185\u5bb9\u7ffb\u8bd1\u4e3a\u82f1\u6587\u3002</p> <p>\u82e5\u6d89\u53ca\u5bfc\u822a\u680f\u4e2d\u81ea\u5b9a\u4e49\u680f\u76ee\u7684\u7ffb\u8bd1\uff0c\u8bf7\u5728 <code>mkdocs.yml</code> \u4e2d\u589e\u52a0\u3002\u4ee5\u4e0b\u7ed9\u51fa\u4e00\u4e2a\u5b9e\u4f8b\uff1a</p> <pre><code>nav:\n  - \u4e3b\u9875: index.md\n  - \u5206\u7c7b1: \n      - topic1/index.md\n      - topic1/item1.md\n  - \u5206\u7c7b2: topic2/index.md\n\nplugins:\n  - i18n:\n    languages:\n      - locale: en\n        default: true\n        name: English\n      - locale: fr\n        name: Fran\u00e7ais\n        nav_translations:\n          \u4e3b\u9875: Home\n          \u5206\u7c7b1: Topic 1\n          \u5206\u7c7b2: Topic 2\n</code></pre>"},{"location":"wiki/how_to_edit/howtodo/#_15","title":"\u53c2\u8003\u8d44\u6599*","text":"<p>\u8981\u4f7f\u7528\u66f4\u591a\u529f\u80fd\uff0c\u8bf7\u53c2\u8003mkdocs-material\u5b98\u65b9\u6587\u6863\u3002</p> <p>\u5f53\u7136\uff0c\u60f3\u8981\u5feb\u901f\u83b7\u5f97\u652f\u6301\uff0c\u4e5f\u53ef\u4ee5\u8054\u7cfb\u4f5c\u8005\u6216\u8005 Open an issue \u3002</p>"},{"location":"wiki/how_to_edit/howtousenews/","title":"\u5982\u4f55\u53d1\u5e03 News (\u81f4\u7ba1\u7406\u5458)","text":"<p>\u56e0\u4e3a\u8fc1\u79fb\u65b0\u7684\u5b9e\u73b0\uff0c\u6682\u4e0d\u542f\u7528\u3002</p> <p>\u670d\u52a1\u5668\u7684\u4e00\u4e9b\u4fe1\u606f\u6216\u662f\u5176\u4ed6\u96f6\u788e\u7684\u4fe1\u606f\u53ef\u53d1\u5e03\u5728 News \u91cc\u3002</p>"},{"location":"wiki/how_to_edit/howtousenews/#_1","title":"\u4e0a\u4f20\u6587\u4ef6","text":""},{"location":"wiki/how_to_edit/howtousenews/#_2","title":"\u6587\u4ef6\u7684\u683c\u5f0f","text":"<p>\u8bf7\u4e0a\u4f20 markdown \u683c\u5f0f\u7684\u6587\u4ef6\uff0c\u5f53\u7136\u4e5f\u652f\u6301\u4e00\u4e9b markdown \u7684\u62d3\u5c55\u529f\u80fd \u3002</p>"},{"location":"wiki/how_to_edit/howtousenews/#_3","title":"\u6587\u4ef6\u7684\u547d\u540d","text":"<p>\u6587\u4ef6\u4ee5 <code>YYYY-MM-dd-name.md</code> \u6765\u547d\u540d\uff0c\u5982 <code>2019-11-01-welcome.md</code> \u3002</p> <p>\u5982\u679c\u6587\u4ef6\u524d\u7f00\u7684\u65e5\u671f\u662f\u4e2a\u672a\u6765\u65e5\u671f\uff0c\u5219\u5176\u4e0d\u4f1a\u5728 News \u9875\u9762\u4e0a\u663e\u793a\uff0c\u4e0d\u8fc7\u5f53\u5230\u4e86\u5176\u65e5\u671f\u4e4b\u540e\u5219\u4f1a\u81ea\u52a8\u51fa\u73b0\u5728 News \u9875\u9762\u4e0a\u3002</p>"},{"location":"wiki/how_to_edit/howtousenews/#news_1","title":"\u8bbe\u7f6e News \u7684\u6458\u8981","text":"<p>\u5728\u4e00\u7ea7\u6807\u9898\u4e4b\u4e0b\uff0c <code>&lt;!--more--&gt;</code> \u4e4b\u4e0a\u7684\u5185\u5bb9\u4f1a\u88ab\u5f53\u4f5c\u6458\u8981\u3002\u8fdb\u5165 <code>read more</code> \u4e4b\u524d\u4f1a\u663e\u793a\u6458\u8981\u3002</p>"},{"location":"wiki/how_to_edit/howtousenews/#news_2","title":"\u8bbe\u7f6e News \u7684\u5206\u7c7b","text":"<p>\u5728 YAML Front Matter \u5904\u6dfb\u52a0 <code>tags</code> \u53ef\u66f4\u65b9\u4fbf\u5730\u6309\u7167\u67d0\u4e9b\u6807\u7b7e\u6765\u68c0\u7d22 News\uff0c<code>tags</code> \u793a\u4f8b\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>---\ntags:\n  - HPCreview\n  - HPCreport\n---\n</code></pre>"},{"location":"wiki/how_to_edit/howtousenews/#news_3","title":"\u67e5\u770b News","text":"<p>\u8fdb\u5165 https://wiki.cheng-group.net//news \u53ef\u67e5\u770b\u6240\u6709 News\uff0chttps://wiki.cheng-group.net//archive \u53ef\u67e5\u770b\u6309\u65f6\u95f4\u5206\u7c7b\u7684 News\u3002</p>"},{"location":"wiki/new_comers/toc/","title":"\u65b0\u751f\u5165\u95e8\u6559\u7a0b","text":"<p>\u6b22\u8fce\u52a0\u5165\u7a0b\u4fca\u8bfe\u9898\u7ec4\uff0c\u6bcf\u4e2a\u4eba\u6765\u5230\u65b0\u73af\u5883\u90fd\u9700\u8981\u719f\u6089\u548c\u5b66\u4e60\u89c4\u5219\uff0c\u8bf7\u5404\u4f4d\u65b0\u751f\u6309\u7167\u4ee5\u4e0b\u6e05\u5355\u987a\u5e8f\u8fdb\u884c\u5165\u7ec4\u7684\u51c6\u5907\u3002</p>"},{"location":"wiki/new_comers/toc/#_2","title":"\u4e2a\u4eba\u5ea7\u4f4d","text":"<p>\u6bcf\u4f4d\u5165\u5b66\u65b0\u751f\u5c06\u5206\u5230\u4e00\u4e2a\u5ea7\u4f4d\u548c\u4e00\u53f0iMac\u7535\u8111\u7528\u4e8e\u65e5\u5e38\u7684\u79d1\u7814\u3002\u8bf7\u5927\u5bb6\u5148\u6ce8\u518c\u4e00\u4e2aApple ID, \u7136\u540e\u5bfb\u627e \u8bfe\u9898\u7ec4\u7684\u96c6\u7fa4\u7ba1\u7406\u5458\uff0c\u4e3a\u4f60\u5f00\u901aiMac\u7535\u8111\u7684\u8d26\u53f7\u3002</p>"},{"location":"wiki/new_comers/toc/#_3","title":"\u96c6\u7fa4\u4e0e\u96c6\u7fa4\u8d26\u53f7","text":"<p>\u8bfe\u9898\u7ec4\u914d\u5907\u6709\u96c6\u7fa4 (\u8d85\u7b97) \u8d44\u6e90\u4f9b\u79d1\u7814\u4f7f\u7528\uff0c\u800c\u96c6\u7fa4\u662f\u4ee5 Linux \u7cfb\u7edf\u8fd0\u884c\u7684\u3002\u4e0eWindows\u7c7b\u4f3c\uff0c\u662f\u53e6\u4e00\u79cd\u7535\u8111\u64cd\u4f5c\u7cfb\u7edf\u3002\u4e3b\u8981\u4ee5\u547d\u4ee4\u884c (\u952e\u76d8) \u64cd\u4f5c\u4e3a\u4e3b\uff0c\u56e0\u6b64\u5982\u679c\u4e0d\u719f\u6089 Linux \u7cfb\u7edf\u7684\u540c\u5b66\uff0c\u8bf7\u5148\u81ea\u5df1\u7c97\u7565\u5b66\u4e60\u4e00\u4e0b  Linux\u5165\u95e8\u3002</p> <p>\u8981\u767b\u9646\u96c6\u7fa4\uff0c\u540c\u6837\u9700\u8981\u96c6\u7fa4\u8d26\u53f7\uff0c\u8bf7\u5bfb\u627e \u8bfe\u9898\u7ec4\u7684\u96c6\u7fa4\u7ba1\u7406\u5458 \u4e3a\u4f60\u5f00\u901a\u96c6\u7fa4\u8d26\u53f7\u3002</p> <p>\u767b\u5f55\u96c6\u7fa4 \u5efa\u8bae\u4f7f\u7528iMac\u7684\u7ec8\u7aef(terminal)\u3002\u8fd9\u91cciMac\uff0c\u6307\u7684\u5c31\u662f\u82f9\u679c\u82f9\u679c\u7535\u8111\u3002\u7531\u4e8e\u82f9\u679c\u64cd\u4f5c\u7cfb\u7edf <code>Macos</code> \u4e0e <code>Linux</code> \u90fd\u662f\u4ece <code>Unix</code> \u7cfb\u7edf\u884d\u751f\u51fa\u6765\uff0c\u56e0\u6b64\u4f7f\u7528\u82f9\u679c\u7cfb\u5217\u7535\u8111\u6765\u767b\u5f55\u96c6\u7fa4\u6700\u4e3a\u65b9\u4fbf\u3002<code>Windows</code> \u7cfb\u7edf\u7684\u7535\u8111\u5219\u9700\u8981\u989d\u5916\u5b89\u88c5\u8f6f\u4ef6\u3002</p> <p>\u4f7f\u7528iMac\u767b\u5f55\u96c6\u7fa4\u53ea\u9700\u8981\u540c\u65f6\u6309\u4f4f Cmd+Space \uff0c\u5c31\u4f1a\u8df3\u51fa\u641c\u7d22\u6846\u3002\u5728\u641c\u7d22\u6846\u4e2d\u8f93\u5165 <code>terminal</code> / <code>\u7ec8\u7aef</code>\uff0c\u5219\u4f1a\u8df3\u51fa\u7ec8\u7aef\u5e94\u7528\u3002\u4f7f\u7528\u7ec8\u7aef\u7684<code>SSH</code> \u547d\u4ee4\u5373\u53ef\u3002<code>SSH</code> \u4f7f\u7528\u5177\u4f53\u89c1\u4e0b\u6587\u3002</p> <p>\u7531\u4e8e\u8fd1\u5e74\u6765\u7ec4\u5185\u914d\u7f6e\u7684\u7535\u8111\u9646\u7eed\u5f00\u59cb\u4f7f\u7528 Windows\uff0c\u6545\u4e5f\u8bf7\u5927\u5bb6\u53c2\u8003 Windows\u4e0b WSL \u4f7f\u7528\u7b80\u4ecb \u548c  Linux\u5165\u95e8 \u4e2d\u7684\u4ecb\u7ecd\uff0c\u5728 Windows \u7cfb\u7edf\u914d\u7f6e\u83b7\u5f97\u5c3d\u53ef\u80fd\u65e0\u7f1d\u7684\u7ec8\u7aef\u4f7f\u7528\u4f53\u9a8c\u3002</p> <p>\u4e3a\u5efa\u7acb\u8d26\u53f7\uff0c\u9700\u8981\u751f\u6210 SSH\u5bc6\u94a5\u3002\u767b\u5f55\u96c6\u7fa4\u9700\u8981\u4f7f\u7528 SSH \u64cd\u4f5c\u3002</p> <p>\u4f7f\u7528\u96c6\u7fa4\u524d\uff0c\u8bf7\u5927\u5bb6\u719f\u6089\u96c6\u7fa4\u7684 \u57fa\u672c\u77e5\u8bc6 \u548c\u64cd\u4f5c\u3002\u5982\u679c\u8981\u4f7f\u7528GPU\u7b49\u8d44\u6e90\uff0c\u8fd8\u9700\u5b66\u4e60 \u5982\u4f55\u4f7f\u7528\u96c6\u7fa4\u4e0a\u7684GPU\u3002</p> <p>\u5982\u679c\u4ee5\u4e0a\u6709\u4efb\u4f55\u96be\u4ee5\u7406\u89e3\u7684\u5185\u5bb9\u8bf7\u7acb\u5373\u6c47\u62a5\u7ed9 \u8bfe\u9898\u7ec4\u7684\u96c6\u7fa4\u7ba1\u7406\u5458</p>"},{"location":"wiki/new_comers/toc/#imacpython","title":"\u5728iMac\u4e0a\u548c\u5728\u96c6\u7fa4\u4e0a\u4f7f\u7528Python","text":"<p>Python\u662f\u4e00\u79cd\u975e\u5e38\u65b9\u4fbf\u7684\u7f16\u7a0b\u8bed\u8a00\uff0c\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u5904\u7406\u8ba1\u7b97\u6570\u636e\u3002\u4f46\u662f\u7eafPython\u7684\u5b89\u88c5\u548c\u76f8\u5e94\u7684Python\u5e93\u4f7f\u7528\u662f\u5341\u5206\u70e6\u4eba\u7684\u3002\u56e0\u6b64\u540d\u4e3a<code>Anaconda</code>\u7684\u8f6f\u4ef6\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u5728iMac\u4e0a\uff0c\u5b89\u88c5<code>Anaconda</code>\uff0c\u76f4\u63a5\u53bb\u641c\u7d22\u5f15\u64ce\u641c\u7d22<code>Anaconda</code>\u7136\u540e\u53bb\u5b98\u7f51\u4e0b\u8f7d\u5bf9\u5e94\u7684\u5b89\u88c5\u5305\u5373\u53ef\u3002</p> <p>\u5728\u96c6\u7fa4\u4e0a\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u524d\u4e3a\u5927\u5bb6\u5b89\u88c5\u597d\u4e86<code>Anaconda</code>\uff0c\u4f7f\u7528\u548c\u8bbe\u7f6e\u65b9\u6cd5\u53c2\u89c1\u96c6\u7fa4\u4e0a\u7684Anaconda</p>"},{"location":"wiki/new_comers/toc/#_4","title":"\u5fc5\u5b66\u9879\u76ee","text":"<ul> <li> \u5fc5\u8bfb\u6587\u7ae0 Simulations: the dark side</li> <li> \u91cf\u5b50\u5316\u5b66 (Levine) (\u524d14\u7ae0)</li> <li> \u91cf\u5b50\u5316\u5b66\u4e0e\u5bc6\u5ea6\u6cdb\u51fd\u7406\u8bba</li> <li> Linux \u5165\u95e8 (\u5305\u62ec Windows \u4e0b\u73af\u5883\u8bbe\u7f6e + Git \u4ecb\u7ecd) </li> <li> \u6587\u732e\u9605\u8bfb</li> <li> \u6f14\u8bb2\u6280\u5de7 (1)</li> <li> Python \u6559\u7a0b</li> <li> ASE &amp; Packmol \u5efa\u6a21\u57fa\u7840</li> </ul> <ol> <li>\u5c1a\u672a\u66f4\u65b0\u4e3a 2024 \u7248</li> </ol> <p>\u4e5f\u53ef\u53c2\u8003\u5f55\u5236\u4e8e2020\u5e74\u7684\u65e7\u7248</p> <ul> <li> \u91cf\u5b50\u5316\u5b66\u4e0e\u5bc6\u5ea6\u6cdb\u51fd\u7406\u8bba</li> <li> \u5bc6\u5ea6\u6cdb\u51fd\u8fd1\u4f3c\uff0c\u57fa\u7ec4\u4e0e\u8d5d\u52bf</li> <li> Linux\u5165\u95e8</li> <li> \u5982\u4f55\u9605\u8bfb\u6587\u732e</li> <li> Python\u548cNumpy</li> <li> ASE \u5efa\u6a21\u57fa\u7840</li> </ul>"},{"location":"wiki/new_comers/toc/#_5","title":"\u9009\u5b66 (\u5177\u4f53\u9879\u76ee\u76f8\u5173)","text":""},{"location":"wiki/new_comers/toc/#_6","title":"\u56fa\u4f53\u7535\u5b50\u7ed3\u6784","text":"<ul> <li> \u56fa\u4f53\u7535\u5b50\u7ed3\u6784</li> <li> Quantum Espresso/VASP \u5b9e\u6218</li> <li> CP2K \u5b9e\u8df5</li> </ul>"},{"location":"wiki/new_comers/toc/#_7","title":"\u7edf\u8ba1\u529b\u5b66","text":"<ul> <li> Introduction to Statistical Mechanics </li> <li> David Tong at DAMTP, Cambridge: Lectures on Theoretical Physics </li> <li> Lectures on Statistical Physics </li> <li> Lectures on Quantum Mechanics </li> <li> Lectures on Solid State Physics</li> <li> \u7edf\u8ba1\u70ed\u529b\u5b66</li> <li> \u81ea\u7531\u80fd\u8ba1\u7b97\u65b9\u6cd5</li> </ul>"},{"location":"wiki/new_comers/toc/#_8","title":"\u5206\u5b50\u52a8\u529b\u5b66","text":"<ul> <li> \u5206\u5b50\u52a8\u529b\u5b66/\u673a\u5668\u5b66\u4e60\u5206\u5b50\u52a8\u529b\u5b66\u5b9e\u8df5</li> <li> CP2K \u5b9e\u8df5</li> </ul>"},{"location":"wiki/new_comers/toc/#_9","title":"\u673a\u5668\u5b66\u4e60","text":"<ul> <li> Deep Learning Lecture by Frank Noe (1)</li> <li> Pattern Recognition and Machine Learning </li> <li> Deep Learning\uff08\u82b1\u4e66\uff09 </li> <li> Machine Learning for Physics and the Physics of Learning 2019 (2)</li> <li> \u4eba\u5de5\u667a\u80fd\u6280\u672f\u5165\u95e8</li> <li> AI \u6a21\u578b\u8bad\u7ec3</li> </ul> <ol> <li>\u9700\u8981\u79d1\u5b66\u4e0a\u7f51</li> <li>\u9700\u8981\u79d1\u5b66\u4e0a\u7f51</li> </ol>"},{"location":"wiki/new_comers/toc/#_10","title":"\u673a\u5668\u5b66\u4e60\u52bf\u51fd\u6570","text":"<ul> <li> \u5206\u5b50\u52a8\u529b\u5b66/\u673a\u5668\u5b66\u4e60\u5206\u5b50\u52a8\u529b\u5b66\u5b9e\u8df5</li> <li> DeePMD-kit \u4f7f\u7528\u5165\u95e8</li> <li> DP-GEN\u4f7f\u7528\u5165\u95e8</li> <li> \u4ece MLP \u5230 ai2-kit: \u5173\u4e8e\u673a\u5668\u5b66\u4e60\u52bf\u51fd\u6570\u4f60\u60f3\u4e86\u89e3\u7684\u4e00\u5207</li> <li> ai2-kit \u5b98\u65b9\u6587\u6863</li> </ul> <p>\u4e5f\u53ef\u53c2\u8003\u5f55\u5236\u4e8e2020\u5e74\u7684\u6559\u7a0b</p> <ul> <li> \u673a\u5668\u5b66\u4e60: \u7406\u8bba\u4e0eDeePMD-kit</li> <li> \u6df1\u5ea6\u52bf\u80fd\u751f\u6210\u5668: DP-GEN</li> <li> \u81ea\u52a8\u5316\u8ba1\u7b97\u4e0e\u5de5\u4f5c\u6d41: AiiDA</li> </ul>"},{"location":"wiki/new_comers/toc/#_11","title":"\u751f\u6210\u6a21\u578b","text":"<ul> <li> Diffusion and Score-Based Generative Models (1)</li> <li> Dr. Yang Song \u2014 Advancements in Diffusion Models for Generative AI  (2)</li> <li> Generative Modeling by Estimating Gradients of the Data Distribution </li> <li> A Pedagogical Introduction to Score Models </li> <li> \u901a\u7528\u5206\u5b50\u7ed3\u6784\u6a21\u578bGraphormer\u7b80\u4ecb - \u90d1\u4e66\u65b0\u535a\u58eb </li> <li> Beyond AlphaFold2: \u4ece\u7ed3\u6784\u9884\u6d4b\u5230\u5206\u5e03\u9884\u6d4b | \u90d1\u4e66\u65b0\u535a\u58eb | \u5fae\u8f6f\u7814\u7a76\u9662 | Distributional Graphormer (DiG) </li> <li> Materials Project Seminars \u2013 Tian Xie \"MatterGen: a generative model for inorganic materials design\" (3)</li> </ul> <ol> <li>\u9700\u8981\u79d1\u5b66\u4e0a\u7f51</li> <li>\u9700\u8981\u79d1\u5b66\u4e0a\u7f51</li> <li>\u9700\u8981\u79d1\u5b66\u4e0a\u7f51</li> </ol> <p>\u8bf4\u660e</p> <ul> <li> : \u4e66\u7c4d\u6216\u6587\u732e\u8d44\u6599\u7b49</li> <li>  : \u89c6\u9891\u6559\u7a0b</li> <li> : \u535a\u5ba2\u6216\u6587\u6863\u7b49</li> </ul>"},{"location":"wiki/new_comers/ai/2024-ai/","title":"\u4eba\u5de5\u667a\u80fd\u6280\u672f\u5165\u95e8","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66 \u738b\u7530\u7530</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u6b21\u8bfe\u4ef6\u4e3b\u8981\u4ecb\u7ecd\u4e86\u4eba\u5de5\u667a\u80fd\uff08AI\uff09\u6280\u672f\u7684\u57fa\u7840\u77e5\u8bc6\u53ca\u5176\u5728\u5316\u5b66\u9886\u57df\u7684\u5e94\u7528\u3002\u5185\u5bb9\u6db5\u76d6\u4e86AI\u7684\u6982\u5ff5\u4e0e\u672f\u8bed\uff0c\u5305\u62ec\u673a\u5668\u5b66\u4e60\uff08ML\uff09\u3001\u6df1\u5ea6\u5b66\u4e60\uff08DL\uff09\u7b49\uff1b\u8be6\u7ec6\u8bb2\u89e3\u4e86AI\u9879\u76ee\u7684\u5de5\u4f5c\u6d41\u7a0b\u2014\u2014\u4ece\u6570\u636e\u51c6\u5907\u5230\u6a21\u578b\u9009\u62e9\u3001\u8bad\u7ec3\u548c\u90e8\u7f72\u3002\u6b64\u5916\uff0c\u8bfe\u4ef6\u5c55\u793a\u4e86AI\u5728\u5316\u5b66\u53cd\u5e94\u9884\u6d4b\u3001\u5149\u8c31\u5206\u6790\u3001\u6750\u6599\u53d1\u73b0\u7b49\u65b9\u9762\u7684\u524d\u6cbf\u5e94\u7528\uff0c\u5e76\u5206\u4eab\u4e86\u5e38\u7528\u7684\u79d1\u7814AI\u5de5\u5177\u53ca\u5b66\u4e60\u8d44\u6e90\uff0c\u4e3a\u5316\u5b66\u79d1\u7814\u63d0\u4f9b\u4e86\u521b\u65b0\u601d\u8def\u548c\u6280\u672f\u652f\u6301\u3002</p>"},{"location":"wiki/new_comers/ai/2024-train/","title":"AI \u6a21\u578b\u8bad\u7ec3","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66 \u82cf\u6cbf\u6ea2</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u501f\u9274\u4e86\u674e\u5b8f\u6bc5 2021/2022 \u6625\u673a\u5668\u5b66\u4e60\u8bfe\u7a0b\u5185\u5bb9\u3002\u4ee5\u5b9d\u53ef\u68a6\u6218\u6597\u529b\u9884\u6d4b\u4e3a\u5e94\u7528\u6848\u4f8b\uff0c\u4ecb\u7ecd\u4e86\u673a\u5668\u5b66\u4e60\u7684\u5404\u79cd\u57fa\u672c\u6982\u5ff5\u3002\u5305\u62ec\uff1a\u7ebf\u6027\u6a21\u578b\u3001\u635f\u5931\u51fd\u6570\u3001\u68af\u5ea6\u4e0b\u964d\u3001\u5b66\u4e60\u7387\u3001\u591a\u53c2\u68af\u5ea6\u4e0b\u964d\u3001\u591a\u6570\u636e\u68af\u5ea6\u4e0b\u964d\u3001\u591a\u9879\u5f0f\u62df\u5408\u3001\u8fc7\u62df\u5408\u6b20\u62df\u5408\u95ee\u9898\u3001\u591a\u5c42\u611f\u77e5\u673aMLP\u3002</p> <ul> <li>\u8bfe\u4ef6\u6f14\u793anotebook\u94fe\u63a5\uff1ahttps://bohrium.dp.tech/notebooks/86577379178</li> <li>\u8bfe\u5802\u4f5c\u4e1a\u94fe\u63a5\uff1ahttps://bohrium.dp.tech/notebooks/17244553382 (\u9009\u62e9\u514d\u8d39\u7684cpu\u673a\u578b\u5373\u53ef)</li> </ul>"},{"location":"wiki/new_comers/linux/2020/","title":"Linux\u5feb\u901f\u57fa\u7840\u5165\u95e8","text":""},{"location":"wiki/new_comers/linux/2024/","title":"Linux \u5165\u95e8 (\u5305\u62ec Windows \u4e0b\u73af\u5883\u8bbe\u7f6e + Git \u4ecb\u7ecd)","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u5609\u5e9a\u521b\u65b0\u5b9e\u9a8c\u5ba4 \u5f90\u4f1f\u9e3f \u9ad8\u7ea7\u5de5\u7a0b\u5e08</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u4ecb\u7ecd\u5982\u4f55\u5728Windows\u548cMac\u7cfb\u7edf\u4e0a\u914d\u7f6eLinux\u7ec8\u7aef\u73af\u5883\uff0c\u4ee5\u53ca\u5173\u4e8e ssh, conda, git \u7b49\u547d\u4ee4\u884c\u5de5\u5177\u7684\u57fa\u7840\u77e5\u8bc6\uff0c\u5305\u62ec\u5728\u9047\u5230\u95ee\u9898\u65f6\u5982\u4f55\u501f\u52a9\u5927\u8bed\u8a00\u6a21\u578b\u83b7\u53d6\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"wiki/new_comers/md/2024-cp2k/","title":"\u7edf\u8ba1\u70ed\u529b\u5b66","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66 \u65bd\u5fe0\u6d69</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u4e13\u6ce8\u4e8e\u7b80\u5355\u4f7f\u7528CP2K\u8f6f\u4ef6\u8fdb\u884c\u9ad8\u6548\u8ba1\u7b97\u6a21\u62df\u3002\u8bfe\u7a0b\u5185\u5bb9\u5212\u5206\u4e3a\u4ee5\u4e0b\u4e94\u4e2a\u90e8\u5206\uff0c\u65e8\u5728\u5f15\u5bfc\u65b0\u751f\u638c\u63e1\u4ece\u57fa\u7840\u5230\u8fdb\u9636\u7684\u8ba1\u7b97\u6280\u80fd\uff1a     1. \u5355\u70b9\u80fd\u8ba1\u7b97\u3002\u5355\u70b9\u80fd\u662f\u5206\u5b50\u5728\u7279\u5b9a\u51e0\u4f55\u6784\u578b\u4e0b\u7684\u603b\u80fd\u91cf\uff0c\u662f\u7406\u89e3\u5206\u5b50\u6027\u8d28\u7684\u57fa\u7840\u3002     2. \u9759\u6001\u7ed3\u6784\u4f18\u5316\uff1a\u901a\u8fc7\u8c03\u6574\u5206\u5b50\u7684\u51e0\u4f55\u6784\u578b\uff0c\u4f7f\u5176\u8fbe\u5230\u80fd\u91cf\u6700\u4f4e\u7684\u7a33\u5b9a\u72b6\u6001\uff0c\u4ece\u800c\u63ed\u793a\u5206\u5b50\u7684\u771f\u5b9e\u7ed3\u6784\u3002     3. NEB\u641c\u7d22\u8fc7\u6e21\u6001\uff1a\u6784\u5efaNEB\u8def\u5f84\uff0c\u4ee5\u53ca\u5206\u6790\u8fc7\u6e21\u6001\u7684\u7ed3\u6784\u548c\u80fd\u91cf\u7279\u5f81\uff0c\u4ece\u800c\u6df1\u5165\u7406\u89e3\u5316\u5b66\u53cd\u5e94\u7684\u673a\u7406\u3002     4. \u9891\u7387\u8ba1\u7b97\uff1a\u63ed\u793a\u5206\u5b50\u7684\u632f\u52a8\u6a21\u5f0f\uff0c\u5305\u62ec\u6b63\u5e38\u6a21\u5f0f\u548c\u865a\u9891\uff0c\u7406\u89e3\u5206\u5b50\u7684\u7a33\u5b9a\u6027\u548c\u53cd\u5e94\u6d3b\u6027\u3002     5. \u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u3002\u6a21\u62df\u5206\u5b50\u5728\u957f\u65f6\u95f4\u5c3a\u5ea6\u4e0a\u7684\u8fd0\u52a8\u548c\u76f8\u4e92\u4f5c\u7528\u3002</p>"},{"location":"wiki/new_comers/md/2024-md/","title":"\u7edf\u8ba1\u70ed\u529b\u5b66","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66 \u738b\u5747\u4e49\u3001\u9648\u81ea\u5f3a</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u65e8\u5728\u4ecb\u7ecd\u7ecf\u5178\u5206\u5b50\u52a8\u529b\u5b66\uff08Classical Molecular Dynamics\uff09\u548c\u673a\u5668\u5b66\u4e60\u5206\u5b50\u52a8\u529b\u5b66\uff08Machine Learning Molecular Dynamics\uff09\u7684\u57fa\u672c\u539f\u7406\u3002\u8bfe\u7a0b\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u6765\u7814\u7a76\u6750\u6599\u548c\u5206\u5b50\u7684\u7269\u7406\u5316\u5b66\u6027\u8d28\uff0c\u5e76\u4e86\u89e3\u5982\u4f55\u5229\u7528\u673a\u5668\u5b66\u4e60\u65b9\u6cd5\u751f\u6210\u52bf\u51fd\u6570\u4ee5\u63d0\u5347\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u7684\u6548\u7387\u548c\u51c6\u786e\u6027\u3002\u7ecf\u5178\u5206\u5b50\u52a8\u529b\u5b66\u90e8\u5206\u8bfe\u7a0b\u5185\u5bb9\u5305\u62ec\u5206\u5b50\u52a8\u529b\u5b66\u7684\u57fa\u672c\u539f\u7406\u3001\u539f\u5b50\u95f4\u76f8\u4e92\u4f5c\u7528\u52bf\u53ca\u7ecf\u5178\u529b\u573a\u7684\u4ecb\u7ecd\u3001\u725b\u987f\u8fd0\u52a8\u65b9\u7a0b\u7684\u6570\u503c\u89e3\u6cd5\u3001\u7edf\u8ba1\u7cfb\u7efc\u7684\u6982\u5ff5\u3001\u6e29\u5ea6\u4e0e\u538b\u5f3a\u63a7\u5236\u65b9\u5f0f\u3001\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u7684\u5b9e\u73b0\u8fc7\u7a0b\u7b49\u3002\u673a\u5668\u5b66\u4e60\u5206\u5b50\u52a8\u529b\u5b66\u90e8\u5206\u8bfe\u7a0b\u5185\u5bb9\u5305\u62ec\u673a\u5668\u5b66\u4e60\u52bf\u4e0e\u7ecf\u5178\u529b\u5b66\u548c\u91cf\u5b50\u529b\u5b66\u7684\u5173\u7cfb\uff0c\u673a\u5668\u5b66\u4e60\u5206\u5b50\u52a8\u529b\u5b66\u7684\u539f\u7406\u3001\u539f\u5b50\u80fd\u91cf\u4e0e\u6df1\u5ea6\u52bf\u80fd\u5e73\u6ed1\u6a21\u578b\u7684\u6982\u5ff5\u3001\u673a\u5668\u5b66\u4e60\u6a21\u578b\u7684\u7ed3\u6784\u4e0e\u4f18\u5316\u65b9\u6cd5\u3002\u8bfe\u7a0b\u9002\u5408\u6750\u6599\u79d1\u5b66\u3001\u5316\u5b66\u76f8\u5173\u4e13\u4e1a\u4ee5\u53ca\u5bf9\u5206\u5b50\u6a21\u62df\u4e0e\u673a\u5668\u5b66\u4e60\u6709\u5174\u8da3\u7684\u521d\u5b66\u8005\u3002</p>"},{"location":"wiki/new_comers/presentation/2020/","title":"\u5982\u4f55\u8fdb\u884c\u5c55\u793a/Presentation","text":"<p>\u7248\u672c\u4fe1\u606f</p> <p>\u5f55\u5236\u4e8e 2020-08</p>"},{"location":"wiki/new_comers/presentation/2024/","title":"\u5982\u4f55\u8fdb\u884c\u5c55\u793a/Presentation","text":"<p>\u7248\u672c\u4fe1\u606f</p> <p>\u5f55\u5236\u4e8e 2020-08</p>"},{"location":"wiki/new_comers/python/2020/","title":"Python \u548c Numpy","text":"<p>\u7248\u672c\u4fe1\u606f</p> <p>\u5f55\u5236\u4e8e 2020-08</p>"},{"location":"wiki/new_comers/python/2024/","title":"Python \u548c Numpy","text":"<p>\u7248\u672c\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba\uff1a\u53a6\u95e8\u5927\u5b66 \u5218\u60a6\u9633 \u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u4ecb\u7ecdPython\u7684\u57fa\u672c\u8bed\u6cd5\uff0c\u5305\u62ec\u53d8\u91cf\u548c\u8fd0\u7b97\u89c4\u5219\uff0c\u5404\u7c7b\u5bb9\u5668\uff0c\u6761\u4ef6\u3001\u5faa\u73af\u8bed\u53e5\u7b49\u7684\u4f7f\u7528\u89c4\u5219\uff0c\u51fd\u6570\uff0c\u7c7b\uff0c\u65b9\u6cd5\u7684\u6982\u5ff5\u548c\u5b9a\u4e49\u7b49\uff0c\u5e76\u9644\u6709\u5b9e\u4f8b\u89e3\u6790\u3002</p>"},{"location":"wiki/new_comers/qc_dft/2020-basis_pps/","title":"\u5bc6\u5ea6\u6cdb\u51fd\u8fd1\u4f3c\uff0c\u57fa\u7ec4\u4e0e\u8d5d\u52bf","text":"<p>\u7248\u672c\u4fe1\u606f</p> <p>\u5f55\u5236\u4e8e 2020-08</p>"},{"location":"wiki/new_comers/qc_dft/2020/","title":"\u91cf\u5b50\u5316\u5b66\u4e0e\u5bc6\u5ea6\u6cdb\u51fd\u7406\u8bba (2020)","text":"<p>\u7248\u672c\u4fe1\u606f</p> <p>\u5f55\u5236\u4e8e 2020-08</p>"},{"location":"wiki/new_comers/qc_dft/2024/","title":"\u91cf\u5b50\u5316\u5b66\u4e0e\u5bc6\u5ea6\u6cdb\u51fd\u7406\u8bba","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66/\u5609\u5e9a\u521b\u65b0\u5b9e\u9a8c\u5ba4 \u7a0b\u4fca \u6559\u6388</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u89c6\u9891\u4e2d\u540c\u65f6\u5305\u542b\u4e86\u5bf9\u91cf\u5b50\u5316\u5b66\u3001\u5bc6\u5ea6\u6cdb\u51fd\u7406\u8bba\u548c\u8d5d\u52bf\u3001\u57fa\u7ec4\u7b49\u90e8\u5206\u7684\u4ecb\u7ecd\u3002</p>"},{"location":"wiki/new_comers/read_papers/2020/","title":"\u5982\u4f55\u9605\u8bfb\u6587\u732e","text":""},{"location":"wiki/new_comers/read_papers/2024/","title":"\u5982\u4f55\u9605\u8bfb\u6587\u732e","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66 \u5f20\u6cfd\u534e</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u4e3b\u8981\u4ecb\u7ecd\u4e86\u5982\u4f55\u67e5\u627e\u6587\u732e\u3001\u8fdb\u884c\u6587\u732e\u7ba1\u7406\u3001\u6587\u732e\u9605\u8bfb\u9700\u8981\u6ce8\u610f\u4ec0\u4e48\u5730\u65b9\u53ca\u6587\u732e\u6c47\u62a5\u9700\u8981\u6ce8\u610f\u7684\u70b9\u3002\u8be6\u7ec6\u4ecb\u7ecd\u4e86x-mol\u3001web of science\u7b49\u6587\u732e\u67e5\u627e\u7f51\u7ad9\u7684\u5e94\u7528\uff0cendnote\u548czotero\u4e24\u7c7b\u6587\u732e\u7ba1\u7406\u5de5\u5177\u7684\u5e94\u7528\u7b49\u3002</p>"},{"location":"wiki/new_comers/solid_electronic_structure/2024-qe_vasp/","title":"\u56fa\u4f53\u7535\u5b50\u7ed3\u6784","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66 \u9ec4\u67cf\u9896</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u4ecb\u7ecd\u4e86VASP\u548cQE\u8f6f\u4ef6\u7684\u64cd\u4f5c\uff0c\u5305\u62ec\u7ed3\u6784\u4f18\u5316\u3001\u9759\u6001\u81ea\u6d3d\u8ba1\u7b97\u3001\u80fd\u5e26\u8ba1\u7b97\u7b49\uff0c\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u8f93\u5165\u8f93\u51fa\u6587\u4ef6\u53c2\u6570\u8bbe\u7f6e\u3001\u4efb\u52a1\u63d0\u4ea4\u4e0e\u8fd0\u884c\u72b6\u6001\u76d1\u63a7\uff0c\u4ee5\u53ca\u7ed3\u679c\u5206\u6790\u548c\u53ef\u89c6\u5316\u65b9\u6cd5\uff0c\u5e76\u5305\u542b\u4e86\u76f8\u5173\u7684\u64cd\u4f5c\u5b9e\u4f8b\u3002</p>"},{"location":"wiki/new_comers/solid_electronic_structure/2024/","title":"\u56fa\u4f53\u7535\u5b50\u7ed3\u6784","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66/\u5609\u5e9a\u521b\u65b0\u5b9e\u9a8c\u5ba4 \u6c64\u5bcc\u6770 \u526f\u6559\u6388</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u6982\u8ff0\u56fa\u4f53\u7269\u7406\u53d1\u5c55\u53f2\uff0c\u91cd\u70b9\u8bb2\u8ff0\u6676\u4f53\u7ed3\u6784\u548c\u80fd\u5e26\u7406\u8bba\u3002\u901a\u8fc7\u4ecb\u7ecd\u6676\u4f53\u7684\u5468\u671f\u6027\u6392\u5217\u53ca\u5176\u5bf9\u7269\u6027\u7684\u91cd\u8981\u5f71\u54cd\uff0c\u5f15\u5165\u5e03\u6d1b\u8d6b\u5b9a\u7406\u5982\u4f55\u63ed\u793a\u7535\u5b50\u5728\u4e00\u7ef4\u4e0e\u4e09\u7ef4\u5468\u671f\u573a\u4e2d\u7684\u884c\u4e3a\u3002\u8bfe\u7a0b\u8fd8\u5c06\u8ba8\u8bba\u7d27\u675f\u7f1a\u8fd1\u4f3c\u7684\u5e94\u7528\u53ca\u5176\u5bf9\u80fd\u5e26\u7ed3\u6784\u7684\u7b80\u5316\u5206\u6790\uff0c\u6df1\u5165\u8bb2\u89e3\u80fd\u6001\u5bc6\u5ea6\u4e0e\u8d39\u7c73\u9762\u7684\u7269\u7406\u610f\u4e49\u53ca\u5176\u5728\u5bfc\u7535\u6027\u3001\u534a\u5bfc\u4f53\u7279\u6027\u4e2d\u7684\u5173\u952e\u4f5c\u7528\u3002\u8be5\u8bfe\u7a0b\u9002\u5408\u5e0c\u671b\u638c\u63e1\u56fa\u4f53\u7269\u7406\u57fa\u7840\u5e76\u7406\u89e3\u5176\u73b0\u4ee3\u5e94\u7528\u7684\u5b66\u4e60\u8005\uff0c\u540e\u7eed\u8bfe\u7a0b\u4e3a\u5bc6\u5ea6\u6cdb\u51fd\u7406\u8bba</p>"},{"location":"wiki/new_comers/statistical_mechanics/2024-free_energy/","title":"\u81ea\u7531\u80fd\u8ba1\u7b97\u65b9\u6cd5","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66 \u738b\u7a0b\u7384</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u4ece\u7edf\u8ba1\u7684\u89d2\u5ea6\u6765\u4ecb\u7ecd\u81ea\u7531\u80fd\u7684\u76f8\u5173\u6982\u5ff5\uff0c\u5e76\u548c\u7c7b\u4f3c\u76f8\u5173\u6613\u6df7\u6dc6\u6982\u5ff5\u52bf\u80fd\u9762\u8fdb\u884c\u8054\u7cfb\uff0c\u89e3\u6790\u4e24\u8005\u4e4b\u95f4\u7684\u533a\u522b\u548c\u8054\u7cfb\u3002\u4ecb\u7ecd\u4e86\u5728\u8ba1\u7b97\u5316\u5b66\u4e2d\u7528\u4e8e\u8ba1\u7b97\u53cd\u5e94\u81ea\u7531\u80fd\u7684\u65b9\u6cd5\uff0c\u7740\u91cd\u4ecb\u7ecd\u4e86\u76ee\u524d\u4f7f\u7528\u8f83\u4e3a\u5e7f\u6cdb\u7684\u589e\u5f3a\u91c7\u6837\u65b9\u6cd5\u7684\u539f\u7406\u3001\u601d\u60f3\u4ee5\u53ca\u8bfe\u9898\u7ec4\u4e2d\u7684\u5e38\u7528\u624b\u6bb5\uff0c\u5e76\u56de\u6263\u5230\u524d\u9762\u7684\u81ea\u7531\u80fd\u57fa\u672c\u539f\u7406\u90e8\u5206\u3002\u6700\u540e\u5bf9\u4e00\u4e2a\u7b80\u5355\u7684\u81ea\u7531\u80fd\u8ba1\u7b97\u5b9e\u4f8b\u8fdb\u884c\u4e86\u6f14\u793a\u3002</p>"},{"location":"wiki/new_comers/statistical_mechanics/2024/","title":"\u7edf\u8ba1\u70ed\u529b\u5b66","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u5609\u5e9a\u521b\u65b0\u5b9e\u9a8c\u5ba4 \u738b\u950b \u526f\u7814\u7a76\u5458</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u4e3b\u8981\u4ecb\u7ecd\u4e86\u8ba1\u7b97\u5316\u5b66\u4e2d\u5e38\u7528\u5230\u7684\u7edf\u8ba1\u70ed\u529b\u5b66\u7684\u57fa\u7840\u6982\u5ff5\uff0c\u4ee5\u53ca\u548c\u7535\u5316\u5b66\u8ba1\u7b97\u76f8\u5173\u7684\u81ea\u7531\u80fd\u8ba1\u7b97\u65b9\u6cd5\u3002</p>"},{"location":"wiki/new_comers/tools/2020-ase/","title":"ASE: \u539f\u5b50\u5efa\u6a21\u57fa\u7840","text":""},{"location":"wiki/new_comers/tools/2020-dpgen/","title":"\u6df1\u5ea6\u52bf\u80fd\u751f\u6210\u5668: DP-GEN","text":""},{"location":"wiki/new_comers/tools/2020-dpmd/","title":"\u673a\u5668\u5b66\u4e60: \u7406\u8bba\u4e0eDeePMD-kit","text":""},{"location":"wiki/new_comers/tools/2020-workflow/","title":"\u81ea\u52a8\u5316\u8ba1\u7b97\u4e0e\u5de5\u4f5c\u6d41: AiiDA","text":""},{"location":"wiki/new_comers/tools/2024-ai2-kit/","title":"\u4ece MLP \u5230 ai2-kit: \u5173\u4e8e\u673a\u5668\u5b66\u4e60\u52bf\u51fd\u6570\u4f60\u60f3\u4e86\u89e3\u7684\u4e00\u5207","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u5609\u5e9a\u521b\u65b0\u5b9e\u9a8c\u5ba4 \u5218\u4e91\u9708 \u535a\u58eb</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u673a\u5668\u5b66\u4e60\u52bf\u51fd\u6570\u7684\u9ad8\u6548\u8bad\u7ec3\u79bb\u4e0d\u5f00\u6570\u636e\u96c6\u7684\u9ad8\u6548\u6536\u96c6\uff0c\u901a\u8fc7ai2-kit\u540c\u6b65\u5b66\u4e60\u5de5\u4f5c\u6d41\uff0c\u7528\u6237\u53ef\u4ee5\u7ed3\u5408\u5206\u5b50\u52a8\u529b\u5b66\u65b9\u6cd5\u9ad8\u6548\u63a2\u7d22\u672a\u77e5\u5316\u5b66\u7a7a\u95f4\uff0c\u6269\u5145\u6570\u636e\u96c6\u3002\u4e14\u8fd9\u4e00\u65b9\u6cd5\u8fd8\u53ef\u4e0e\u589e\u5f3a\u91c7\u6837\u65b9\u6cd5\u8026\u5408\uff0c\u8fdb\u4e00\u6b65\u63d0\u9ad8\u91c7\u6837\u6548\u7387\u3002</p>"},{"location":"wiki/new_comers/tools/2024-ase/","title":"ASE &amp; Packmol \u5efa\u6a21\u57fa\u7840","text":"<p>\u8bfe\u7a0b\u4fe1\u606f</p> <p>\u4e3b\u8bb2\u4eba: \u53a6\u95e8\u5927\u5b66 \u5510\u51ac\u8273</p> <p>\u5f55\u5236\u4e8e 2024-08\u3002\u672c\u8bfe\u7a0b\u7b80\u5355\u4ecb\u7ecdASE\u548cPackmol\u8fd9\u4e24\u79cd\u5efa\u6a21\u5de5\u5177\u3002\u5305\u542b\u5982\u4f55\u5229\u7528ASE\u6a21\u5757\u8fdb\u884c\u539f\u5b50\u64cd\u4f5c\u3001\u53ef\u89c6\u5316\u4ee5\u53ca\u754c\u9762\u548c\u4f53\u76f8\u5efa\u6a21\uff1b\u4ee5\u53caPackmol\u5efa\u6a21\u7684\u8bbe\u7f6e\u683c\u5f0f\u548c\u5173\u952e\u8bcd\uff0c\u5982inside cube\u3001outside cube\u7b49\u3002</p>"},{"location":"wiki/question_under_carpet/chemical_computing/","title":"\u8ba1\u7b97\u5316\u5b66\u8e29\u5751\u5408\u96c6","text":"<p>\u6709\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u6cbf\u7528\u522b\u4eba\u6d4b\u8bd5\u8fc7\u7684\u8bbe\u7f6e\u8fdb\u884c\u8ba1\u7b97\uff0c\u800c\u4e0d\u4e00\u5b9a\u4f1a\u4ece\u5934\u8fdb\u884c\u7cfb\u7edf\u6d4b\u8bd5\u3002\u4f46\u662f\uff0c\u4f5c\u4e3a\u8ba1\u7b97\u8f6f\u4ef6\u7684\u4f7f\u7528\u8005\uff0c\u6211\u4eec\u9700\u8981\u610f\u8bc6\u5230\u67d0\u4e9b\u53ef\u80fd\u4f1a\u51fa\u9519\u7684\u5730\u65b9\uff08\u6216\u8bb8\u662f\u5f88\u68d8\u624b\u7684\u95ee\u9898\uff09\uff0c\u800c\u4e0d\u662f\u5c06\u8fd9\u4e9b\u95ee\u9898\u89c6\u800c\u4e0d\u89c1(sweep the problems under the carpet)\u3002\u5728\u6b64\u6587\u7ae0\u8bb0\u5f55\u5927\u5bb6\u5728\u9879\u76ee\u4e2d\u78b0\u5230\u7684\u5947\u5947\u602a\u602a\u7684\u5751\uff0c\u4ee5\u4f9b\u53c2\u8003\u3002</p> <p>\u6709\u65b0\u7684\u5185\u5bb9\u53ef\u4ee5\u901a\u8fc7 PR \u6216\u8005\u8bc4\u8bba\u533a\u63d0\u51fa\u3002\u53ef\u5f15\u7528\u7f6e\u9876issue #131</p>"},{"location":"wiki/question_under_carpet/chemical_computing/#cu-pseudopotential","title":"Cu pseudopotential","text":"<p>\u6d89\u53ca Cu \u4e8c\u4ef7\u79bb\u5b50\u7684\u8ba1\u7b97\u53ef\u80fd\u8981\u91c7\u7528 19 \u7535\u5b50\u7684\u8d5d\u52bf (semi-core potential)\u3002</p> <p>We found that only the computation of the orbital energy of the empty d-level of aqueous Cu2+ requires the use of a semi-core potential with explicit 3s and 3p electrons. Ref: J. Am. Chem. Soc. 2004, 126, 12, 3928\u20133938 [link]</p>"},{"location":"wiki/skills/QS4writing/","title":"Quick Start for Writing","text":"<p>\u5c0f\u63d0\u793a</p> <p>\u4e2d\u6587\u7248\u53ef\u4ee5\u5728\u82f1\u6587\u7248\u4e4b\u540e\u627e\u5230\uff0c\u4f46\u662f\u8fd8\u662f\u9f13\u52b1\u5927\u5bb6\u5148\u8bfb\u8bfb\u82f1\u6587\u7248~</p>"},{"location":"wiki/skills/QS4writing/#english-version","title":"English version","text":"<p>I write this blog aiming to share some simple tips about academic writing, and hope it could help the \"poor guys\" struggling with the writing, more or less.</p> <p>Notice: I am not a master in writing but only a TOTAL FRESHMAN. And all the texts following are based on what I learnt and my understanding, maybe incomplete (I hope no mistakes at least). Nevertheless, I believe that it is the reason why I can make the texts more friendly and achievable for the tyros. If you have any question, please feel free to come and talk with me ;-)</p>"},{"location":"wiki/skills/QS4writing/#practice-practice-practice","title":"Practice! Practice... Practice?","text":"<p>I guess some (or even most) of the you would say 'duh' when you heard about \"Practice! Practice! Practice!\" in some books. Sounds 100 percent correct but useless, right? Overall I agree, if you don't have a concrete and reasonable plan. Aimless practice can sometimes not only have no effects, but, even worse, depress you. Hence, I strongly suggest you start with writing YOUR paper, a specific example. For those having no projects, experiment report can also be an alternative. Then, craft your work step by step!</p>"},{"location":"wiki/skills/QS4writing/#step-one-polish-up-your-outline","title":"Step ONE: polish up your outline","text":"<p>The first and most important step. Seems to irrelevant to writing skills, uhm? Yes, but checking the outline with your colleagues and supervisors can largely save your time. Just imagine the time to rewrite the whole section! Generally speaking, the big framework for the project (and then the paper) has been made. However, we need to go a further step, and check the structures between paragraphs and even sentences. Actually it is the nightmare for many students, I believe.</p> <p>For example, here we try to introduce the modelling methods in interface electrochemistry (mainly about EDL modelling), following solution electrochemistry introduced in the last section. Hence, we write down the outline below and discuss it with our partners.</p> <pre><code>the electric double layer (EDL) xxx (importance of EDL/why we want to investigate it)\n==&gt;\nEDL is hard to be probed (reason)\n==&gt;\nwe can get some info with in situ techniques and ab initio simulations\n==&gt;\nOne of the key characteristics of EDL is its capcacitance\n==&gt;\nEDL capacitance can be measured by experiment (CV/impedance) and be a bencemark for modelling\n==&gt;\nreplace the solute by the electrode (from solution electrochemistry to interface electrochemistry)\n==&gt;\nuse similar simulation methods and focus on their performace on EDL modelling\n</code></pre> <p>In this step, you don't need to consider the elegance of your language. Simple but accurate texts can make your life easier.</p>"},{"location":"wiki/skills/QS4writing/#step-two-abt-structure","title":"Step TWO: ABT structure","text":"<p>\u201cHow long would you need to tell a story?\u201d Randy Olson asked this question in his TEDMED talk. (YouTube link here. Sorry I cannot find another source for the guys in China...) In this talk and his book Houston, We Have a Narrative: Why Science Needs Story, Olson introduced a quite simple method to construct a narrative, the ABT structure:</p> <p>(...) AND (...), BUT (...), THEREFORE (...)</p> <p>Let's try to fill this structure with the outline in the last step!</p> <pre><code>%% start the ABT structure\n% EDL is important (... AND ...)\nthe electric double layer (EDL) xxx (importance of EDL/why we want to investigate it)\n% BUT it is hard to be probed\nHowever, EDL is hard to be probed, not only because xxx but xxx\n% THEREFORE, we need some tools\nTo address this difficulty, both in situ experimental techniques and modelling are required.\n%% END the ABT structure\n</code></pre> <p>If you don't know how to construct your idea, write down all the points you can think about and try to adapt them to one or more ABT structure(s).</p> <p>If you think the linking somewhere is not smooth enough, rewrite it with an ABT structure.</p> <p>Ahhh! Not bad!</p>"},{"location":"wiki/skills/QS4writing/#step-three-repeat-your-words","title":"Step THREE: repeat your words","text":"<p>With the two steps mentioned above, I believe you have worked out a comprehensible outline. Then, we need to strengthen the linking between sentences and make the logic more explicitly, by repeating the words in the last sentence. Hence, your texts can be easier to be followed! Here is an example:</p> <pre><code>Electric double layers (EDL) at the electrode/electrolyte interfaces are where electrochemical reactions occur, and thus are of paramount importance in electrochemistry.\n% Electric double layers (EDL) &lt;==&gt; EDL\nHowever, microscopic understanding of the EDL is still lacking due to its complexity and difficulty to probe.\n% microscopic understanding &lt;==&gt; valuable insight\nThanks to the development of computational methods, modelling has shown great potential in studying the interface of the electrode and the electrolyte in the past few years, and provided valuable insight into EDL structures and dielectric properties.\n</code></pre> <p>Maybe the repetition between the second and the third sentences is slightly implicit, but the idea is there. Nevertheless, I would not recommend a tyro to do so, since you might confuse the readers with rephrasing. If you are not sure, just repeat the words and make your texts clear!</p> <p>Albert Einstein: When you are out to describe the truth, leave elegance to the tailor.</p> <p>Here we come to another example (cited from DOI: 10.1126/SCIADV.ABB1219). I like this compact structure very much.</p> <pre><code>An electric double layer (EDL) formed at an electrified interface can afford a potential change of a few volts within a very thin layer of 3 to 5 \u00c5, amounting to an extremely large electric field of similar strength to that in a particle accelerator.\n% an extremely large electric field &lt;==&gt; a strong electric field\nNaturally, one would wonder how solvent molecules such as water or any other reactive species inside the EDL would behave in response to such a strong electric field.\n% how ... behave &lt;==&gt; this question\nAnswering this question is not only of fundamental interest but also of technological importance in a broad range of research areas in science and technology, to name a few, energy storage in supercapacitors, electrocatalysis of relevance to energy and environmental applications, self-assembly of colloidal particles, ion transport across biological membranes, and mineralization processes in earth science.\n% fundamental interest, technological importance &lt;==&gt; its significance\nDespite its significance, molecular-level understanding of EDL is largely missing, owing to its complexity and difficulty to probe.\n% molecular-level understanding &lt;==&gt; microscopic structures\nBecause of the advent of advanced experimental (e.g., synchrotron-based techniques and Raman spectroscopy) and computational methods [e.g., ab intio molecular dynamics (AIMD)], it is not until recently that the microscopic structures of EDL have started to be unveiled.\n</code></pre> <p>Yeah! Finally! I don't want to talk too much to distract you (but I still strongly recommend you to read the book mentioned above for fun!). I think the three tips above are sufficient to work out a readable draft for your big bosses. Don't be afraid of writing! Just have a try!</p> <p>I am not a natural in writing. On the contrary, I had really struggled with English writing and thought I was a dunderhead at all, even if I had a pretty nice and patient supervisor who helped me a lotttttttttt in my first paper. Things turned up in a day (shortly after I finished the quasi-final version of my first paper) when I was asked to give a hand to my colleague for a review. When I started to read the review, I knew how to put all I had been taught into practice magically. Just like a spark in my mind. Maybe you know what should be improved only when you need to deal with an \"unreadable draft\" ? (Just kidding! Don't kill me, Xiaohui!)</p> <p>Sincere thanks to Dr. Katharina Doblhoff-Dier in Leiden University</p>"},{"location":"wiki/skills/QS4writing/#_1","title":"\u4e2d\u6587\u7248","text":"<p>\u7b14\u8005\u5199\u8fd9\u7bc7\u77ed\u6587\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5206\u4eab\u51e0\u4e2a\u7b14\u8005\u89c9\u5f97\u5f88\u5b9e\u7528\u7684\u5199\u4f5c\u5c0f\u6280\u5de7\uff0c\u5e0c\u671b\u53ef\u4ee5\u5e2e\u5230\u6b63\u5728\uff08\u6216\u5c06\u8981\uff09\u6323\u624e\u5728\u79d1\u7814\u5199\u4f5c\u4e2d\u7684\u540c\u5b66\u4eec\u3002</p> <p>\u6ce8\uff1a\u7b14\u8005\u5e76\u4e0d\u662f\u79d1\u7814\u5199\u4f5c\u7684\u4e13\u5bb6\uff0c\u53ea\u662f\u4e00\u4e2a\u521a\u521a\u6572\u5b8c\u81ea\u5df1\u7b2c\u4e00\u7bc7\u8bba\u6587\u7684\u83dc\u9e1f\u3002\u4ee5\u4e0b\u7684\u5185\u5bb9\u90fd\u662f\u57fa\u4e8e\u7b14\u8005\u6240\u5b66\u7684\u548c\u7b14\u8005\u7684\u7406\u89e3\uff0c\u53ef\u80fd\u6bd4\u8f83\u7247\u9762\uff08\u5e0c\u671b\u6ca1\u6709\u9519\u8bef\uff09\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u7b14\u8005\u5e0c\u671b\u7528\u4e00\u4e2a\u521d\u5b66\u8005\u7684\u89c6\u89d2\u53bb\u8bb2\u8ff0\uff0c\u8ba9\u8fd9\u7bc7\u77ed\u6587\u7684\u5185\u5bb9\u5bf9\u521d\u5b66\u8005\u6765\u8bf4\u662f\u53cb\u597d\u7684\u548c\u53ef\u5b9e\u73b0\u7684 ;-)</p>"},{"location":"wiki/skills/QS4writing/#_2","title":"\u7ec3\u4e60\uff01\u7ec3\u4e60......\u7ec3\u4e60\uff1f","text":"<p>\u7b14\u8005\u76f8\u4fe1\u76f8\u5f53\u4e00\u90e8\u5206\u4eba\u5728\u4e00\u4e9b\u4e66\u91cc\uff08\u6216\u8005\u5176\u4ed6\u5730\u65b9\uff09\u542c\u5230\u201c\u7ec3\u4e60\uff01\u7ec3\u4e60\uff01\u7ec3\u4e60\uff01\u201d\u8fd9\u53e5\u8bdd\u7684\u65f6\u5019\u4f1a\u8bf4\u4e00\u58f0\uff1a\u201c\u5c31\u8fd9\uff1f\u5c31\u8fd9\uff1f\u201d\u542c\u8d77\u6765\u662f\u4e2a\u5b8c\u5168\u6b63\u786e\u7684\u5e9f\u8bdd\u3002\u603b\u4f53\u6765\u8bf4\u7b14\u8005\u540c\u610f\u4f60\u4eec\u7684\u89c2\u70b9\uff0c\u5982\u679c\u4f60\u4eec\u5728\u7ec3\u4e60\u7684\u65f6\u5019\u6ca1\u6709\u4e00\u4e2a\u5177\u4f53\u548c\u5408\u7406\u7684\u8ba1\u5212\u3002\u6beb\u65e0\u76ee\u7684\u7684\u7ec3\u4e60\u6709\u65f6\u5019\u4f1a\u4e8b\u500d\u529f\u534a\uff0c\u751a\u81f3\u56e0\u6253\u51fb\u4f60\u7684\u81ea\u4fe1\u800c\u8d77\u5230\u53cd\u6548\u679c\u3002\u56e0\u6b64\uff0c\u7b14\u8005\u4f1a\u63a8\u8350\u5927\u5bb6\u4ece \u81ea\u5df1\u7684\u6587\u7ae0\uff08\u4e00\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\uff09\u5f00\u59cb\u3002\u5bf9\u4e8e\u90a3\u4e9b\u8fd8\u6ca1\u6709\u6587\u7ae0\u7684\u540c\u5b66\uff0c\u4e0d\u59a8\u8bd5\u8bd5\u5b9e\u9a8c\u62a5\u544a\u4e4b\u7c7b\u7684\uff1f\u7136\u540e\uff0c\u5f00\u59cb\u4e00\u6b65\u6b65\u6253\u78e8\u4f60\u7684\u6587\u7ae0\u5427\uff01</p>"},{"location":"wiki/skills/QS4writing/#_3","title":"\u7b2c\u4e00\u6b65\uff1a\u786e\u5b9a\u6846\u67b6","text":"<p>\u8fd9\u662f\u6700\u91cd\u8981\u7684\u4e00\u6b65\uff0c\u867d\u7136\u770b\u8d77\u6765\u548c\u5199\u4f5c\u6ca1\u592a\u5927\u5173\u7cfb\u3002\u4e00\u4e2a\u597d\u7684\u6846\u67b6\u53ef\u4ee5\u5927\u5927\u8282\u7701\u540e\u7eed\u5199\u4f5c\u7684\u65f6\u95f4\u2014\u2014\u60f3\u60f3\u91cd\u5199\u4e00\u6574\u4e2a\u6bb5\u843d\uff01\u901a\u5e38\u6765\u8bf4\uff0c\u6574\u4e2a\u9879\u76ee\uff08\u6587\u7ae0\uff09\u7684\u5927\u6846\u67b6\u5e94\u8be5\u662f\u5728\u9879\u76ee\u8fdb\u884c\u4e4b\u524d\u5c31\u548c\u5bfc\u5e08\u6572\u5b9a\u597d\u7684\uff0c\u8fd9\u4e2a\u4e0d\u4f1a\u6709\u5927\u95ee\u9898\u3002\u95ee\u9898\u5728\u54ea\u5462\uff1f\u4e0b\u4e00\u4e2a\u5c3a\u5ea6\uff1a\u6bb5\u843d\u95f4\u548c\u53e5\u5b50\u95f4\u7684\u8fde\u63a5\u3002\u5c31\u7b14\u8005\u4e2a\u4eba\u7ecf\u9a8c\u800c\u8a00\uff0c\u8fd9\u6b65\u662f\u5f88\u591a\u5b66\u751f\uff08\u548c\u5bfc\u5e08\uff09\u7684\u5669\u68a6...</p> <p>\u90a3\u6211\u4eec\u5728\u5199\u6846\u67b6\u7684\u65f6\u5019\u5e94\u8be5\u5199\u5230\u4ec0\u4e48\u7a0b\u5ea6\u5462\uff1f\u6765\u770b\u770b\u4e00\u4e2a\u4f8b\u5b50\u3002\u8fd9\u91cc\uff0c\u6211\u4eec\u5e0c\u671b\u4ecb\u7ecd\u7535\u5316\u5b66\u754c\u9762\u7684\u4e00\u4e9b\u6a21\u62df\u65b9\u6cd5\uff08\u7740\u91cd\u5728\u53cc\u7535\u5c42\u6a21\u62df\uff09\u3002\u5e76\u4e14\u5728\u4e0a\u4e00\u8282\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u4ecb\u7ecd\u8fc7\u4e86\u6eb6\u6db2\u76f8\u7684\u4e00\u4e9b\u6a21\u62df\u65b9\u6cd5\u3002\u6839\u636e\u8fd9\u4e9b\u5185\u5bb9\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u4e2a\u5927\u81f4\u5982\u4e0b\u7684\u6846\u67b6\uff0c\u7136\u540e\u548c\u6211\u4eec\u7684\u5408\u4f5c\u8005\u6216\u8005\u5bfc\u5e08\u8fdb\u884c\u4e0b\u4e00\u6b65\u8ba8\u8bba\u3002</p> <pre><code>the electric double layer (EDL) xxx (importance of EDL/why we want to investigate it)\n==&gt;\nEDL is hard to be probed (reason)\n==&gt;\nwe can get some info with in situ techniques and ab initio simulations\n==&gt;\nOne of the key characteristics of EDL is its capcacitance\n==&gt;\nEDL capacitance can be measured by experiment (CV/impedance) and be a bencemark for modelling\n==&gt;\nreplace the solute by the electrode (from solution electrochemistry to interface electrochemistry)\n==&gt;\nuse similar simulation methods and focus on their performace on EDL modelling\n</code></pre> <p>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u4f60\u4e0d\u9700\u8981\u8003\u8651\u8bed\u8a00\u7684\u4f18\u7f8e\u3002\u7b80\u5355\u800c\u7cbe\u51c6\u7684\u6587\u5b57\u5728\u63a5\u4e0b\u6765\u7684\u4fee\u6539\u4e2d\u66f4\u65b9\u4fbf\u3002</p>"},{"location":"wiki/skills/QS4writing/#abt","title":"\u7b2c\u4e8c\u6b65\uff1aABT \u7ed3\u6784","text":"<p>\u201c\u4f60\u9700\u8981\u82b1\u591a\u957f\u65f6\u95f4\u53bb\u8bb2\u8ff0\u4e00\u4e2a\u6545\u4e8b\uff1f\u201d Randy Olson \u5728\u4ed6\u7684TEDMED \u6f14\u8bb2\u4e2d\u95ee\u4e86\u8fd9\u4e2a\u95ee\u9898\u3002\uff08\u8fd9\u662f\u4e2a\u6cb9\u7ba1\u94fe\u63a5\uff0cB \u7ad9\u6ca1\u627e\u7740...\uff09\u5728\u8fd9\u4e2a\u6f14\u8bb2\u4ee5\u53ca\u4ed6\u7684\u4e66Houston, We Have a Narrative: Why Science Needs Story\u4e2d\uff0cOlson \u4ecb\u7ecd\u4e86\u4e00\u79cd\u975e\u5e38\u7b80\u5355\u7684\u53d9\u4e8b\u65b9\u6cd5\uff0cABT \u7ed3\u6784\uff1a</p> <p>(...) AND (...), BUT (...), THEREFORE (...)</p> <p>\u8ba9\u6211\u4eec\u8bd5\u7740\u628a\u4e0a\u4e00\u8282\u91cc\u7684\u6846\u67b6\u7528 ABT \u7ed3\u6784\u6539\u9020\u4e00\u4e0b\uff01</p> <pre><code>%% start the ABT structure\n% EDL is important (... AND ...)\nthe electric double layer (EDL) xxx (importance of EDL/why we want to investigate it)\n% BUT it is hard to be probed\nHowever, EDL is hard to be probed, not only because xxx but xxx\n% THEREFORE, we need some tools\nTo address this difficulty, both in situ experimental techniques and modelling are required.\n%% END the ABT structure\n</code></pre> <p>\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u600e\u4e48\u4e0b\u7b14\uff0c\u90a3\u5c31\u5148\u628a\u6240\u6709\u60f3\u5230\u7684\u70b9\u5199\u4e0b\u6765\u5e76\u628a\u5b83\u4eec\u5f80 ABT \u7ed3\u6784\u91cc\u5957\u3002</p> <p>\u5982\u679c\u4f60\u8ba4\u4e3a\u67d0\u5904\u7684\u8fc7\u6e21\u4e0d\u591f\u81ea\u7136\uff0c\u4e5f\u53ef\u4ee5\u8003\u8651\u7528 ABT \u7ed3\u6784\u91cd\u5199\u4e00\u4e0b \u3002</p>"},{"location":"wiki/skills/QS4writing/#_4","title":"\u7b2c\u4e09\u6b65\uff1a\u91cd\u590d\u4f60\u7684\u8bcd\u6c47","text":"<p>\u7ecf\u8fc7\u4e0a\u9762\u7684\u4e24\u4e2a\u6b65\u9aa4\uff0c\u6211\u76f8\u4fe1\u4f60\u5df2\u7ecf\u83b7\u5f97\u4e86\u4e00\u4e2a\u53ef\u7406\u89e3\u7684\u5927\u7eb2\u3002 \u73b0\u5728\uff0c\u6211\u4eec\u6765\u8fdb\u884c\u6700\u540e\u4e00\u6b65\uff1a\u5c3d\u91cf\u4f7f\u6bcf\u4e2a\u53e5\u5b50\u4e2d\u90fd\u51fa\u73b0\u4e0a\u4e00\u4e2a\u53e5\u5b50\u4e2d\u7684\u5355\u8bcd\u3002\u8fd9\u4e2a\u65b9\u6cd5\u53ef\u4ee5\u52a0\u5f3a\u53e5\u5b50\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4f7f\u903b\u8f91\u66f4\u52a0\u6e05\u6670\uff0c\u4ece\u800c\u8ba9\u4f60\u7684\u6587\u5b57\u53ef\u4ee5\u66f4\u5bb9\u6613\u88ab\u9605\u8bfb\uff01 \u770b\u770b\u8fd9\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>Electric double layers (EDL) at the electrode/electrolyte interfaces are where electrochemical reactions occur, and thus are of paramount importance in electrochemistry.\n% Electric double layers (EDL) &lt;==&gt; EDL\nHowever, microscopic understanding of the EDL is still lacking due to its complexity and difficulty to probe.\n% microscopic understanding &lt;==&gt; valuable insight\nThanks to the development of computational methods, modelling has shown great potential in studying the interface of the electrode and the electrolyte in the past few years, and provided valuable insight into EDL structures and dielectric properties.\n</code></pre> <p>\u597d\u5427\uff0c\u770b\u4e0a\u53bb\u7b2c\u4e8c\u4e2a\u53e5\u5b50\u548c\u7b2c\u4e09\u4e2a\u53e5\u5b50\u4e4b\u95f4\u7684\u91cd\u590d\u6709\u70b9\u9690\u6666\uff1f\u4f46\u662f\u90a3\u4e2a\u610f\u601d\u4e86\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u540c\u4e49\u66ff\u6362\u5bf9\u4e8e\u65b0\u624b\u6765\u8bf4\u9700\u8981\u7279\u522b\u8c28\u614e\uff0c\u4ee5\u9632\u51fa\u73b0\u8868\u8ff0\u504f\u5dee\u3002\u5982\u679c\u4f60\u4e0d\u662f\u7279\u522b\u786e\u5b9a\uff0c\u90a3\u5c31\u7b80\u5355\u5730\u91cd\u590d\uff01\u8ba9\u4f60\u7684\u6587\u7ae0\u5148\u53d8\u5f97\u6e05\u6670\uff01</p> <p>Albert Einstein: When you are out to describe the truth, leave elegance to the tailor.</p> <p>\u8fd9\u91cc\u662f\u53e6\u4e00\u4e2a\u4f8b\u5b50 (\u5f15\u81ea DOI: 10.1126/SCIADV.ABB1219)\u3002\u7b14\u8005\u4e2a\u4eba\u5f88\u559c\u6b22\u8fd9\u4e2a\u7b80\u6d01\u7d27\u51d1\u7684\u4f8b\u5b50\uff01</p> <pre><code>An electric double layer (EDL) formed at an electrified interface can afford a potential change of a few volts within a very thin layer of 3 to 5 \u00c5, amounting to an extremely large electric field of similar strength to that in a particle accelerator.\n% an extremely large electric field &lt;==&gt; a strong electric field\nNaturally, one would wonder how solvent molecules such as water or any other reactive species inside the EDL would behave in response to such a strong electric field.\n% how ... behave &lt;==&gt; this question\nAnswering this question is not only of fundamental interest but also of technological importance in a broad range of research areas in science and technology, to name a few, energy storage in supercapacitors, electrocatalysis of relevance to energy and environmental applications, self-assembly of colloidal particles, ion transport across biological membranes, and mineralization processes in earth science.\n% fundamental interest, technological importance &lt;==&gt; its significance\nDespite its significance, molecular-level understanding of EDL is largely missing, owing to its complexity and difficulty to probe.\n% molecular-level understanding &lt;==&gt; microscopic structures\nBecause of the advent of advanced experimental (e.g., synchrotron-based techniques and Raman spectroscopy) and computational methods [e.g., ab intio molecular dynamics (AIMD)], it is not until recently that the microscopic structures of EDL have started to be unveiled.\n</code></pre> <p>\u6587\u7ae0\u5230\u8fd9\u91cc\u5c31\u7ed3\u675f\u4e86\uff01\u7b14\u8005\u4e0d\u60f3\u5199\u592a\u591a\u70b9\u4ee5\u81f3\u4e8e\u8ba9\u4f60\u4eec\u6709\u70b9\u6293\u72c2\uff08\u4f46\u662f\u7b14\u8005\u8fd8\u662f\u975e\u5e38\u63a8\u8350\u4f60\u4eec\u53bb\u8bfb\u8bfb\u4e0a\u9762\u63d0\u5230\u7684\u4e66\uff01\u5f88\u6709\u8da3\uff01\uff09\u603b\u7684\u6765\u8bf4\uff0c\u7b14\u8005\u8ba4\u4e3a\u4e0a\u9762\u63d0\u53ca\u7684\u4e09\u70b9\u5df2\u7ecf\u8db3\u4ee5\u5199\u51fa\u4e00\u4e2a\u6e05\u6670\u7684\u521d\u7a3f\u7ed9\u4f60\u4eec\u7684\u8001\u677f\u4e86\u3002</p> <p>\u6700\u540e\uff0c\u5411\u6211\u7b2c\u4e00\u4e2a\u9879\u76ee\u7684\u65e5\u5e38\u5bfc\u5e08\uff0c\u8377\u5170\u83b1\u987f\u5927\u5b66\u7684 Dr. Katharina Doblhoff-Dier \u8868\u793a\u8bda\u631a\u7684\u611f\u8c22\u3002</p>"},{"location":"wiki/skills/QS4writing/#useful-websites-for-writing","title":"Useful websites for writing","text":"<p>vocabulary</p> <p>https://www.vocabulary.com</p> <p>https://www.oxfordlearnersdictionaries.com</p> <p>synonym</p> <p>https://www.wordhippo.com</p> <p>https://www.thesaurus.com</p> <p>collocation</p> <p>https://www.linggle.com</p> <p>https://netspeak.org</p> <p>sentence</p> <p>https://www.phrasebank.manchester.ac.uk</p> <p>rephrase</p> <p>https://quillbot.com</p> <p>translation</p> <p>http://www.onedict.com/index.php</p> <p>https://www.deepl.com/translator</p>"},{"location":"wiki/skills/QS4writing/#_5","title":"\u5e74\u5ea6\u6c47\u62a5\u6807\u51c6","text":"<p>\u7814\u7a76\u751f\uff08\u535a\u58eb\u548c\u7855\u58eb\uff09\u524d\u4e24\u5e74\u6bcf\u5e74\u5e94\u5199\u4e00\u6b21\u6c47\u62a5\u3002\u6c47\u62a5\u4f7f\u7528 **LaTeX**\u64b0\u5199\u3002\u6a21\u677f\u9009\u7528 revtex \u7684 AIP \u6a21\u677f\u3002\u4ee5 **\u82f1\u6587**\u64b0\u5199</p> <p>\u7855\u58eb\u751f\u7b2c\u4e00\u5e74\u62a5\u544a\u7684\u8bcd\u6570\u5e94\u5728 4500 \u5de6\u53f3\uff0c\u7b2c\u4e8c\u5e74\u62a5\u544a\u5e94\u5728 6000 \u5de6\u53f3\u3002</p> <p>\u535a\u58eb\u751f\u7b2c\u4e00\u5e74\u62a5\u544a\u7684\u8bcd\u6570\u5e94\u5728 6000 \u5de6\u53f3\uff0c\u7b2c\u4e8c\u5e74\u62a5\u544a\u5e94\u5728 7500 \u5de6\u53f3\u3002</p>"},{"location":"wiki/skills/QS4writing/#overleaf","title":"\u4f7f\u7528 Overleaf \u5199\u4f5c","text":"<p>Overleaf\u662f\u4e00\u4e2a\u5728\u7ebf\u7684 LaTeX \u7f16\u8f91\u5668\uff0c\u53ef\u4ee5\u76f4\u63a5\u5728\u6d4f\u89c8\u5668\u4e2d\u7f16\u8f91 LaTeX \u6587\u6863\u3002\u4f7f\u7528 Overleaf \u53ef\u4ee5\u65b9\u4fbf\u5730\u8fdb\u884c\u5408\u4f5c\u5199\u4f5c\uff0c\u540c\u65f6\u4e5f\u53ef\u4ee5\u65b9\u4fbf\u5730\u8fdb\u884c\u7248\u672c\u63a7\u5236\u3002\u73b0\u9636\u6bb5\uff0c\u8bfe\u9898\u7ec4\u7684\u79d1\u7814\u8bba\u6587\u57fa\u672c\u90fd\u662f\u4f7f\u7528 Overleaf \u8fdb\u884c\u5199\u4f5c\u3002\u57fa\u672c\u64cd\u4f5c\u6d41\u7a0b\u4e3a\uff1a\u5728\u9700\u8981\u5199\u6587\u7ae0\u7684\u65f6\u5019\u8054\u7cfb\u7ba1\u7406\u5458\uff0c\u8bf7\u7ba1\u7406\u5458\u5c06\u6587\u7ae0\u76f8\u5173\u4eba\u5458\u7684\u90ae\u7bb1\u6dfb\u52a0\u5230\u4e00\u4e2a\u7a7a\u767d\u9879\u76ee\u4e2d\uff0c\u7136\u540e\u7528\u4e2a\u4eba Overleaf \u8d26\u53f7\u8fdb\u884c\u540e\u7eed\u7f16\u8f91\u3002\u9879\u76ee\u76f8\u5173\u6587\u4ef6\u8bfe\u9898\u7ec4\u4f1a\u7edf\u4e00\u8fdb\u884c\u5f52\u6863\u7ba1\u7406\u3002</p> <p>\u5728\u9700\u8981\u5199\u6587\u7ae0\u7684\u65f6\u5019\u8bf7\u5c06\u4ee5\u4e0b\u4fe1\u606f\u53d1\u7ed9\u7ba1\u7406\u5458\uff1a</p> <ul> <li>\u6240\u9700\u6a21\u7248\uff08\u5e38\u7528\u7684\u5982 ACS \u548c AIP\uff0c\u5982\u679c\u6709\u53e6\u5916\u9700\u6c42\u4e5f\u53ef\u4ee5\u544a\u77e5\u7ba1\u7406\u5458\uff09</li> <li>\u9879\u76ee\u540d\u79f0\uff08\u6309\u7167\uff1a\u4f5c\u8005\u540d-\u5e8f\u53f7-\u6587\u7ae0\u540d \u8fdb\u884c\u547d\u540d\uff0c\u6bd4\u5982\uff1a<code>jxzhu-1-pt_oh_100</code>\uff09</li> <li>\u9700\u8981\u6dfb\u52a0\u7684\u6210\u5458\u90ae\u7bb1\uff08\u9664\u7ba1\u7406\u5458\u5916\u4e0a\u9650 5 \u4eba\u6bcf\u9879\u76ee\uff09   \u7ba1\u7406\u5458\u6dfb\u52a0\u76f8\u5173\u4eba\u5458\u90ae\u7bb1\u540e\uff0c\u8bf7\u6240\u6709\u6210\u5458\u67e5\u770b\u90ae\u7bb1/\u767b\u5f55 Overleaf \u8d26\u53f7\u786e\u8ba4\u9080\u8bf7\u3002</li> </ul>"},{"location":"wiki/skills/QS4writing/#_6","title":"\u7248\u672c\u7ba1\u7406","text":"<p>Overleaf \u53ef\u4ee5\u5728\u4fee\u6539\u7684\u65f6\u5019\u5b9e\u73b0\u7248\u672c\u8bb0\u5f55\uff0c\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u8bc4\u8bba\uff0c\u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\u53ef\u4ee5\u53c2\u8003\u6b64\u6559\u7a0b\u3002</p> <ol> <li>\u53f3\u4e0a\u89d2<code>History</code>\uff0c\u53ef\u4ee5\u67e5\u770b\u5386\u53f2\u7248\u672c\uff0c\u5e76\u81ea\u884c\u6807\u8bb0\u7248\u672c\u3002</li> <li>\u53f3\u4e0a\u89d2<code>Menu</code>-<code>Sync</code>\uff0c\u53ef\u4ee5\u8fdb\u884c\u624b\u52a8\u5907\u4efd\u3002\u4f46\u662f\u73b0\u9636\u6bb5 GitHub \u8d26\u53f7\u7ed1\u5b9a\u4ec5\u9650\u4e8e\u4f1a\u5458\uff08\u65e9\u671f\u5df2\u7ed1\u5b9a\u7528\u6237\u540c\u6b65\u529f\u80fd\u4e0d\u53d7\u5f71\u54cd\uff09\uff0c\u6545\u63a8\u8350\u4f7f\u7528 git+\u672c\u5730\u8fdb\u884c\u5907\u4efd\uff08\u4e5f\u53ef\u5728\u672c\u5730\u81ea\u884c\u9009\u62e9\u5176\u4ed6\u7684\u6258\u7ba1\u5e73\u53f0\uff09\u3002git \u76f8\u5173\u6559\u7a0b\u53c2\u89c1\u6b64\u6559\u7a0b\u3002</li> </ol>"},{"location":"wiki/skills/research_skill/","title":"\u7814\u7a76\u6280\u80fd\u5165\u95e8","text":""},{"location":"wiki/skills/research_skill/#_2","title":"\u5982\u4f55\u9605\u8bfb\u6587\u732e","text":"<p>\u9605\u8bfb\u6587\u732e\u5165\u95e8</p>"},{"location":"wiki/skills/research_skill/#_3","title":"\u4e3a\u4ec0\u4e48\u8981\u5199\u4f5c","text":""},{"location":"wiki/skills/research_skill/#_4","title":"\u5982\u4f55\u5199\u4f5c","text":"<p>Whitesides\u6559\u6388\u7684\u5927\u4f5c</p> <p>Whitesides, G. M. Whitesides\u2019 Group: Writing a Paper. Adv. Mater. 2004, 16 (15 SPEC. ISS.), 1375\u20131377.</p>"},{"location":"wiki/skills/research_skill/#_5","title":"\u5982\u4f55\u7528\u82f1\u8bed\u6f14\u8bb2","text":"<p>English for Presentations at International Conferences</p>"},{"location":"wiki/software_development/lammps/installation/","title":"\u5728\u96c6\u7fa4\u5b89\u88c5LAMMPS","text":""},{"location":"wiki/software_development/lammps/installation/#zeus","title":"Zeus \u96c6\u7fa4","text":"<pre><code># Load the necessary modules\nmodule load cmake/3.20\nmodule load intel/17.5.239 mpi/intel/2017.5.239 gcc/7.4.0\n\n# find the ver in https://download.lammps.org/tars/index.html\nwget -c https://download.lammps.org/tars/lammps-23Jun2022.tar.gz\ntar -zxvf lammps-23Jun2022.tar.gz\ncd lammps-23Jun2022\nmkdir -p build\ncd build\ncmake ../cmake -DCMAKE_C_COMPILER=gcc -DCMAKE_CXX_COMPILER=g++ \\\n-DCMAKE_Fortran_COMPILER=gfortran \\\n-D BUILD_MPI=yes -D BUILD_OMP=yes -D LAMMPS_MACHINE=mpi \\\n-D CMAKE_INSTALL_PREFIX=/data/jxzhu/apps/lammps/install/23Jun2022 \\\n-D CMAKE_INSTALL_LIBDIR=lib \\\n-D CMAKE_INSTALL_FULL_LIBDIR=/data/jxzhu/apps/lammps/install/23Jun2022/lib \\\n-C ../cmake/presets/most.cmake -C ../cmake/presets/nolib.cmake \\\n-D BUILD_SHARED_LIBS=yes\nmake -j 32\nmake install\n</code></pre> <p>\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u5b8c\u6210</p> <pre><code>./lmp_mpi -h\n</code></pre> <p>\u5bf9\u4e8e\u4e2a\u4eba\u7528\u6237\uff0c\u53ef\u4ee5\u5c06\u53ef\u6267\u884c\u6587\u4ef6\u6240\u5728\u8def\u5f84\uff08\u5982<code>/data/jxzhu/apps/lammps/lammps-23Jun2022/build</code>\uff09\u5199\u5165\u67d0\u4e2a\u865a\u62df\u73af\u5883\u7684\u73af\u5883\u53d8\u91cf\uff0c\u4ee5\u5b9e\u73b0\u7248\u672c\u63a7\u5236\u3002</p>"},{"location":"wiki/software_development/lammps/installation/#ikkem","title":"IKKEM \u96c6\u7fa4","text":"<pre><code>module load intel/2021.1\nmodule load dev/cmake/3.26.3\nmodule load gcc/9.3\n\n# find the ver in https://download.lammps.org/tars/index.html\n# find the ver in https://download.lammps.org/tars/index.html\nwget -c https://download.lammps.org/tars/lammps-23Jun2022.tar.gz\ntar -zxvf lammps-23Jun2022.tar.gz\ncd lammps-23Jun2022\nmkdir -p build\ncd build\ncmake ../cmake -DCMAKE_C_COMPILER=gcc -DCMAKE_CXX_COMPILER=g++ \\\n      -DCMAKE_Fortran_COMPILER=gfortran \\\n      -D BUILD_MPI=yes -D BUILD_OMP=yes -D LAMMPS_MACHINE=intel_cpu_intelmpi \\\n      -D CMAKE_INSTALL_PREFIX=/public/home/jxzhu/apps/lammps/install/lammps-23Jun2022 \\\n      -D CMAKE_INSTALL_LIBDIR=lib \\\n      -D CMAKE_INSTALL_FULL_LIBDIR=/public/home/jxzhu/apps/lammps/install/lammps-23Jun2022/lib \\\n      -C ../cmake/presets/most.cmake -C ../cmake/presets/nolib.cmake \\\n      -D BUILD_SHARED_LIBS=yes \nmake -j 32\nmake install\n</code></pre> <p>\u68c0\u67e5\u662f\u5426\u5b89\u88c5\u5b8c\u6210</p> <pre><code>./lmp_intel_cpu_intelmpi -h\n</code></pre>"},{"location":"wiki/software_development/lammps/plugin/","title":"\u57fa\u4e8e\u63d2\u4ef6\u6a21\u5f0f\u5f00\u53d1LAMMPS","text":"<ul> <li>\u63d2\u4ef6\u529f\u80fd\u4ecb\u7ecd\uff1aLAMMPS Plugin</li> <li>\u63d2\u4ef6\u5f00\u53d1\u6307\u5357\uff1aLAMMPS Plugin Developer Guide</li> </ul> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u5bf9\u4ee3\u7801\u8fdb\u884c\u529f\u80fd\u6dfb\u52a0/\u4fee\u6539\u9700\u8981\u76f4\u63a5\u5728\u6e90\u4ee3\u7801\u4e2d\u8fdb\u884c\uff0c\u8fd9\u6837\u53ef\u80fd\u5bf9\u539f\u6709\u4ee3\u7801\u4ea7\u751f\u5f71\u54cd\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cLAMMPS\u5f15\u5165\u4e86\u63d2\u4ef6\u6a21\u5f0f\uff0c\u4f7f\u5f97\u7528\u6237\u53ef\u4ee5\u5728\u4e0d\u6539\u52a8\u6e90\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u5bf9LAMMPS\u8fdb\u884c\u529f\u80fd\u6269\u5c55\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u5b98\u65b9\u7684\u4f8b\u5b50\u5bf9\u63d2\u4ef6\u7684\u8fd0\u884c\u65b9\u5f0f\u8fdb\u884c\u5927\u81f4\u7684\u4e86\u89e3\uff1a</p> <pre><code>```bash\ncd lammps-23Jun2022/examples/plugins\n```\n</code></pre> <p><code>make</code>\u7f16\u8bd1\uff1a</p> <pre><code>```bash\nmake \n```\n</code></pre> <p>\u6216\u8005<code>cmake</code>\uff1a</p> <pre><code>```bash\nmkdir -p build\ncd build\ncmake ../\nmake\n```\n</code></pre> <p>\u7f16\u8bd1\u540e\u53ef\u4ee5\u5f97\u5230\u591a\u4e2a\u52a8\u6001\u5e93\u6587\u4ef6<code>.so</code>\u3002\u53ef\u4ee5\u901a\u8fc7\u4e24\u79cd\u65b9\u5f0f\u8c03\u7528\u63d2\u4ef6\uff1a</p> <ol> <li>\u5728lammps\u7684input\u4e2d\uff0c\u901a\u8fc7<code>plugin load</code>\u547d\u4ee4\u52a0\u8f7d\u63d2\u4ef6\uff0c\u5373\u53ef\u4f7f\u7528\u63d2\u4ef6\u4e2d\u7684\u529f\u80fd\u3002 <pre><code>plugin load morse2plugin.so\n</code></pre></li> <li>\u5c06\u52a8\u6001\u5e93\u6240\u5728\u8def\u5f84\u52a0\u5165<code>LAMMPS_PLUGIN_PATH</code>\uff0c\u7a0b\u5e8f\u4f1a\u81ea\u52a8\u52a0\u8f7d\u641c\u7d22\u5230\u7684\u6240\u6709\u63d2\u4ef6\u3002</li> </ol> <p>\u6ce8\u610f\uff1a\u5982\u679c\u79fb\u52a8<code>examples/plugins</code>\u4e2d\u4f8b\u5b50\u6240\u5728\u8def\u5f84\uff0c\u9700\u8981\u4fee\u6539\u7f16\u8bd1\u8bbe\u7f6e\u3002\u5982\u679c\u91c7\u7528<code>make</code>\u7f16\u8bd1\uff0c\u9700\u8981\u4fee\u6539<code>Makefile</code>\u4e2d\u7684<code>CXXFLAGS</code></p> <pre><code>```bash\nCXXFLAGS=-I$(LAMMPS_SOURCE_DIR) -Wall -Wextra -O3 -fPIC -I$(LAMMPS_SOURCE_DIR)/OPENMP -fopenmp\n```\n</code></pre> <p>\u5e76\u8bbe\u7f6e<code>LAMMPS_SOURCE_DIR</code>\u4e3alammps\u6e90\u4ee3\u7801\u6240\u5728\u8def\u5f84\u3002</p> <pre><code>```bash\nexport LAMMPS_SOURCE_DIR=/data/jxzhu/software/lammps/lammps-23Jun2022/src\nmake\n```\n</code></pre> <p>\u5982\u679c\u91c7\u7528cmake\u7f16\u8bd1\uff0c\u9700\u8981\u5c06<code>plugins/CMakeLists.txt</code>\u4e2d22\u884c\u6ce8\u91ca\u6389\uff08<code>get_filename_component(LAMMPS_SOURCE_DIR ${PROJECT_SOURCE_DIR}/../../src ABSOLUTE)</code>\uff09\uff0c\u5e76\u5728\u6267\u884c<code>cmake</code>\u65f6\u6307\u5b9alammps\u6e90\u4ee3\u7801\u6240\u5728\u76ee\u5f55</p> <pre><code>```bash\nmkdir -p build\ncd build\nrm *\ncmake -DLAMMPS_SOURCE_DIR=/data/jxzhu/apps/lammps/lammps-23Jun2022/src ..\nmake\n```\n</code></pre>"},{"location":"wiki/software_development/lammps/quick_start/","title":"LAMMPS\u5f00\u53d1\u51c6\u5907","text":""},{"location":"wiki/software_development/lammps/quick_start/#lammps_1","title":"\u4e3a\u4ec0\u4e48\u8981\u5b66\u4e60LAMMPS\u5f00\u53d1\uff1f","text":"<p>\u4f5c\u4e3a\u4e00\u4e2a\u5f00\u6e90\u7684\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u8f6f\u4ef6\uff0cLAMMPS\u5728\u8ba1\u7b97\u5316\u5b66\u4e2d\u6709\u975e\u5e38\u5e7f\u6cdb\u7684\u5e94\u7528\u3002\u73b0\u6709\u7684LAMMPS\u53d1\u884c\u7248\u672c\u63d0\u4f9b\u4e86\u5927\u91cf\u7684\u529f\u80fd\uff0c\u5927\u591a\u6570\u65f6\u5019\u53ef\u4ee5\u6ee1\u8db3\u7528\u6237\u7684\u9700\u6c42\u3002\u4f46\u662f\uff0c\u6709\u65f6\u5019\u6211\u4eec\u4ecd\u9700\u8981\u5b9e\u73b0\u4e00\u4e9b\u65b0\u7684\u529f\u80fd\uff0c\u6216\u8005\u5bf9\u73b0\u6709\u529f\u80fd\u8fdb\u884c\u4fee\u6539\u3002\u6b64\u65f6\uff0c\u5c31\u9700\u8981\u6211\u4eec\u5bf9LAMMPS\u5f00\u53d1\u6709\u5927\u81f4\u4e86\u89e3\u3002\u672c\u6559\u7a0b\u9762\u5411\u5df2\u638c\u63e1LAMMPS\u7684\u57fa\u672c\u529f\u80fd\u7684\u7528\u6237\uff0c\u5e0c\u671b\u901a\u8fc7\u672c\u6559\u7a0b\u7684\u5b66\u4e60\uff0c\u8bfb\u8005\u53ef\u4ee5\u638c\u63e1LAMMPS\u7684\u57fa\u672c\u5f00\u53d1\u65b9\u6cd5\uff0c\u4e3a\u81ea\u5df1\u7684\u7814\u7a76\u5de5\u4f5c\u63d0\u4f9b\u66f4\u591a\u7684\u53ef\u80fd\u6027\u3002\u8003\u8651\u5230\u73b0\u5728\u5df2\u7ecf\u6709\u4e00\u4e9b\u5173\u4e8eLAMMPS\u5f00\u53d1\u7684\u6559\u7a0b\uff08\u8d34\u4e8e\u4e0b\u65b9\uff09\uff0c\u672c\u6559\u7a0b\u5c06\u57fa\u4e8echenglab\u7ec4\u5185\u60c5\u51b5\u8fdb\u884c\u4ecb\u7ecd\u3002</p>"},{"location":"wiki/software_development/lammps/quick_start/#_1","title":"\u9605\u8bfb\u8d44\u6599","text":"<ol> <li>\u5b98\u65b9\u5f00\u53d1\u6307\u5357 \u975e\u5e38\u5168\u9762\u7684\u5f00\u53d1\u6307\u5357\uff0c\u5305\u62ec\u4e86LAMMPS\u7684\u4ee3\u7801\u7ed3\u6784\u3001\u5e76\u884c\u7b97\u6cd5\u7b49\uff0c\u4f46\u662f\u7bc7\u5e45\u8f83\u957f\u3002\u5efa\u8bae\u4f18\u5148\u9605\u8bfb\u4ee3\u7801\u67b6\u6784\u548c\u5355\u6b65\u4e2d\u8c03\u7528\u7684\u529f\u80fd\u3002</li> <li>Extending and Modifying LAMMPS Writing Your Own Source Code: A pragmatic guide to extending LAMMPS as per custom simulation requirements \u8be6\u7ec6\u4ecb\u7ecd\u4e86\u5982\u4f55\u5728LAMMPS\u4e2d\u6dfb\u52a0\u65b0\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u627e\u5230\u5bf9\u5e94\u7684\u6848\u4f8b\u8fdb\u884c\u5b66\u4e60\u3002</li> </ol> <p>\u5982\u679c\u4f60\u6ca1\u6709\u4efb\u4f55\u4ee3\u7801\u7ecf\u9a8c\uff0c\u5efa\u8bae\u5148\u6839\u636e\u57fa\u7840\u5b8c\u6210\u4ee5\u4e0b\u7684\u5185\u5bb9\u5b66\u4e60\uff1a</p> <ol> <li>LAMMPS\u57fa\u7840</li> <li>Git\u57fa\u7840</li> <li>C++\u57fa\u7840\uff08\u8bf7\u6839\u636e\u81ea\u5df1\u7684\u4ee3\u7801\u57fa\u7840\u9009\u62e9\u5408\u9002\u7684\u6559\u7a0b\uff0c\u6bd4\u5982C++ Primer Plus\uff09</li> </ol>"},{"location":"wiki/software_installation/cp2k-7.1/","title":"CP2K 7.1 \u5b89\u88c5\u6559\u7a0b","text":"<p>\u8fd9\u91cc\u4ee5 7.1 \u7248\u672c\u4e3a\u4f8b\u4ecb\u7ecd\u5982\u4f55\u5b89\u88c5\u7f16\u8bd1 CP2K\uff0c\u5176\u4ed6\u7248\u672c\u53ef\u53c2\u7167\u4fee\u6539\u3002</p>"},{"location":"wiki/software_installation/cp2k-7.1/#_1","title":"\u73af\u5883\u51c6\u5907","text":"<p>\u53ef\u53c2\u8003\u5b98\u65b9\u652f\u6301\u7f16\u8bd1\u73af\u5883\uff1a</p> <ul> <li>\u4f7f\u7528 GCC 5.5.0 \u4ee5\u4e0a</li> <li>Intel MPI \u73af\u5883</li> </ul> <p>\u4e00\u5207\u5c31\u7eea\u540e\uff0c\u52a0\u8f7d\u4e0a\u8ff0\u73af\u5883\uff1a</p> <pre><code>module load intel/17.5.239 mpi/intel/2017.5.239\nmodule load gcc/5.5.0\n</code></pre>"},{"location":"wiki/software_installation/cp2k-7.1/#_2","title":"\u5b89\u88c5\u6d41\u7a0b","text":"<p>\u9996\u5148\uff0c\u5728 Release \u9875\u9762 \u4e0b\u8f7d CP2K \u5b89\u88c5\u5305\uff0c\u4ee5 7.1 \u4e3a\u4f8b\uff1a</p> <pre><code>wget -c https://github.com/cp2k/cp2k/releases/download/v7.1.0/cp2k-7.1.tar.bz2\n</code></pre> <p>\u62f7\u8d1d <code>cp2k-7.1.tar.bz2</code> \u5230\u5b89\u88c5\u8def\u5f84\u4e0b\u5e76\u89e3\u538b\u3002\u7531\u4e8e\u9700\u8981\u9884\u7f16\u8bd1\u6240\u9700\u7684\u5e93\u7b49\uff0c\u8fd9\u91cc\u4e3a\u4e86\u9632\u6b62\u540e\u7eed\u4f7f\u7528\u65f6\u4ea7\u751f\u989d\u5916\u8def\u5f84\u4f9d\u8d56\uff0c\u63a8\u8350\u76f4\u63a5\u5728\u5b89\u88c5\u8def\u5f84\u4e0b\u7f16\u8bd1\u3002 \u4ee5<code>/share/apps/cp2k</code>\u4e3a\u4f8b\uff1a</p> <pre><code>cp cp2k-7.1.tar.bz2 /share/apps/cp2k\ncd /share/apps/cp2k/\ntar -jxf cp2k-7.1.tar.bz2\n</code></pre> <p>\u66f4\u6539\u76ee\u5f55\u540d\u4e3a 7.1\uff0c\u4e3a\u540e\u7eed\u6dfb\u52a0 module \u6587\u4ef6\u4f5c\u51c6\u5907\uff08\u672c\u6b65\u9aa4\u53ef\u9009\uff0c\u4e5f\u53ef\u4fdd\u7559\u9ed8\u8ba4\u540d\u79f0\uff0c\u540e\u7eed\u73af\u5883\u914d\u7f6e\u65f6\u9700\u8981\u76f8\u5e94\u4fee\u6539\uff09\uff1a</p> <pre><code>mv cp2k-7.1 7.1\n</code></pre> <p>\u8fdb\u5165\u5230 toolchain \u76ee\u5f55\u4e0b\uff0c\u5e76\u4fee\u6539<code>install_mpich.sh</code>, \u5c06\u5176\u4e2d\u7684<code>check_command mpic++ \"mpich\"</code>\u6539\u4e3a<code>check_command mpicxx \"mpich\"</code>\uff1a</p> <pre><code>cd 7.1/tools/toolchain\nsed -i 's/check_command mpic++/check_command mpicxx/g' scripts/install_mpich.sh\n</code></pre> <p>\uff08\u53ef\u9009\uff09 \u82e5\u9700\u5b89\u88c5 ELPA \u5305\uff0c\u9700\u8981\u5c06\u9759\u6001\u5e93\u66ff\u6362\u4e3a\u52a8\u6001\u5e93\uff0c\u5426\u5219\u4f1a\u62a5\u9519<code>undefined reference to ...</code>\uff1a</p> <pre><code>sed -i 's/a libmkl_core.a libmkl_sequential.a/so libmkl_sequential.so libmkl_core.so/g' scripts/install_mkl.sh\nsed -i 's/libmkl_gf_lp64.a/libmkl_gf_lp64.so/g' scripts/install_mkl.sh\nsed -i 's/libmkl_core.a/libmkl_sequential.so/g' scripts/install_mkl.sh\nsed -i 's/libmkl_scalapack_lp64.a/libmkl_scalapack_lp64.so/g' scripts/install_mkl.sh\nsed -i 's/libmkl_blacs_intelmpi_lp64.a/libmkl_blacs_intelmpi_lp64.so/g' scripts/install_mkl.sh\nsed -i 's/libmkl_blacs_openmpi_lp64.a/libmkl_blacs_openmpi_lp64.so/g' scripts/install_mkl.sh\nsed -i 's/libmkl_core.a/libmkl_sequential.so/g' scripts/install_mkl.sh\n</code></pre> <p>ref 1 ref 2</p> <p>\uff08\u53ef\u9009\uff09 \u4e3a\u52a0\u901f\u5b89\u88c5\u3001\u9632\u6b62\u8d85\u65f6\u62a5\u9519\uff0c\u5728\u4e2d\u56fd\u5927\u9646\u53ef\u5c06 Github \u7edf\u4e00\u66ff\u6362\u4e3a\u955c\u50cf\u3002\u4f46\u540e\u7eed\u4ece cp2k \u5b98\u65b9\u7f51\u7ad9\u4e0b\u8f7d\u7684\u5305\u4e5f\u53ef\u80fd\u51fa\u73b0\u8d85\u65f6\u62a5\u9519\uff0c\u53ef\u80fd\u9700\u8981\u501f\u52a9\u5176\u4ed6\u5e73\u53f0\u4e0b\u8f7d\u76f8\u5e94\u7684\u8f6f\u4ef6\u5305\u5e76\u653e\u5230<code>build</code>\u76ee\u5f55\u4e0b\u3002</p> <pre><code>sed -i 's/github.com/hub.fastgit.org/g' scripts/install_*.sh\n</code></pre> <p>\u968f\u540e\u8fd0\u884c toolchain \u811a\u672c\u5b89\u88c5\u4f9d\u8d56\u8f6f\u4ef6\uff1a</p> <pre><code>./install_cp2k_toolchain.sh --gpu-ver=no   --enable-cuda=no  --with-mpich=system --with-sirius=no --with-openmpi=no  --with-spfft=no --with-hdf5=no\n</code></pre> <p>\u8fc7\u7a0b\u4e2d\u8bf7\u6ce8\u610f\u8f93\u51fa\u4fe1\u606f\u548c\u62a5\u9519\u7b49\uff0c\u5e76\u76f8\u5e94\u5730\u4e88\u4ee5\u89e3\u51b3\u3002\u5982\u679c\u4e00\u5207\u987a\u5229\uff0c\u4f1a\u63d0\u793a\u9700\u8981\u62f7\u8d1d arch \u6587\u4ef6\uff0c\u5e76 source \u6240\u9700\u7684\u73af\u5883\uff0c\u6309\u7167\u63d0\u793a\u64cd\u4f5c\u5373\u53ef\u3002\u6ce8\u610f\u7531\u4e8e\u6b65\u9aa4\u4e0d\u540c\u8fd9\u91cc\u7684\u547d\u4ee4\u53ef\u80fd\u4e0d\u540c\uff0c\u4ec5\u4f9b\u53c2\u8003\uff1a</p> <pre><code>cp install/arch/local* /share/apps/cp2k/7.1/arch/\nsource /share/apps/cp2k/7.1/tools/toolchain/install/setup\n</code></pre> <p>\u4e4b\u540e\u8fdb\u884c\u7f16\u8bd1\u5b89\u88c5\uff1a</p> <pre><code>cd /share/apps/cp2k/7.1/\nmake -j 8 ARCH=local VERSION=\"popt psmp\"\n</code></pre> <p>\u5982\u679c\u4e00\u5207\u987a\u5229\uff0c\u53ef\u4ee5\u5f97\u5230\u7f16\u8bd1\u597d\u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u521b\u5efa<code>bin</code>\u76ee\u5f55\uff0c\u5e76\u62f7\u8d1d<code>exe</code>\u76ee\u5f55\u91cc\u7684\u6587\u4ef6\u5230<code>bin</code>\uff1a</p> <pre><code>mkdir bin\ncp ./exe/local/* ./bin\n</code></pre> <p>\u6700\u540e\u5220\u9664<code>bin</code>\u548c<code>tools</code>\u4e4b\u5916\u7684\u6240\u6709\u6587\u4ef6\uff0c\u5e76\u5220\u9664<code>tools/toolchain</code>\u91cc\u7684<code>build</code>\u548c<code>install</code>\u76ee\u5f55\u3002</p>"},{"location":"wiki/software_installation/cp2k-7.1/#module","title":"Module \u6587\u4ef6\u751f\u6210","text":"<p>\u82e5\u96c6\u7fa4\u4f7f\u7528 module \u7ba1\u7406\u73af\u5883\u53d8\u91cf\uff0c\u8bf7\u5728 modulefile \u76ee\u5f55\u4e0b\uff08\u53d6\u51b3\u4e8e\u96c6\u7fa4\u7684\u8bbe\u7f6e\uff09\u65b0\u5efa\u76ee\u5f55<code>cp2k</code>\u5e76\u521b\u5efa\u6587\u4ef6<code>.module</code>\uff1a</p> <pre><code>#%Module\n\n# Help message\nproc ModulesHelp { } {\n    set nameversion [module-info name]\n    regsub \"/.*\" $nameversion \"\" name\n    regsub \".*/\" $nameversion \"\" version\n    puts stderr \"\\tLoads the $version $name environment\"\n}\n\n# Set variables\nset nameversion [module-info name]\nregsub \"/.*\" $nameversion \"\" name\nregsub \".*/\" $nameversion \"\" version\nmodule-whatis    \"$name $version\"\n\n# set environment variables\nset basedir /share/apps/$name/$version\n\nmodule load intel/17.5.239 mpi/intel/2017.5.239\nmodule load gcc/5.5.0\n\nprepend-path    PATH            ${basedir}/bin\n</code></pre> <p>\u7136\u540e\u521b\u5efa\u7b26\u53f7\u94fe\u63a5\uff0c\u63d0\u4f9b\u76f8\u5e94\u7248\u672c\u53f7\u7684\u73af\u5883\uff1a</p> <pre><code>ln -s .module 7.1\n</code></pre>"},{"location":"wiki/software_installation/cp2k-7.1/#qa","title":"Q&amp;A","text":"<ol> <li>\u5982\u679c\u6240\u6709\u6807\u79f0\u4e3a<code>https://www.cp2k.org</code>\u7684\u538b\u7f29\u5305\u5747\u65e0\u6cd5\u4e0b\u8f7d\uff0c\u4e14\u5355\u72ec<code>wget</code>\u8be5\u538b\u7f29\u5305\u65f6\u63d0\u793a<code>Issued certificate has expired</code>\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u66f4\u65b0\u8bc1\u4e66\u670d\u52a1\uff0cCentOS 7 \u547d\u4ee4\u5982\u4e0b\uff1a</li> </ol> <pre><code>yum install ca-certificates\n</code></pre> <ol> <li> <p>\u4ee5\u4e0a\u6b3a\u9a97\u624b\u6bb5\u4ec5\u9002\u7528\u4e8e Intel MPI &lt;= 2018 \u7684\u7248\u672c\uff0c\u5bf9\u9ad8\u7248\u672c MPI \u63a8\u8350\u76f4\u63a5\u5b89\u88c5\u66f4\u9ad8\u7248\u672c\u7684 CP2K\uff0cToolchain \u53ef\u63d0\u4f9b\u5b8c\u6574\u652f\u6301\u3002</p> </li> <li> <p>\u5982\u679c<code>make</code>\u8fc7\u7a0b\u4e2d\u9891\u7e41\u62a5\u9519\uff0c\u8fd8\u53ef\u80fd\u662f\u7cfb\u7edf\u6ca1\u6709\u6b63\u786e\u914d\u7f6e\u5730\u533a\u8bbe\u7f6e\uff0c\u8bf7\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u52a0\u8f7d\u73af\u5883\u53d8\u91cf\uff1a</p> </li> </ol> <pre><code>export LANG=en_US.UTF-8\nexport LC_ALL=en_US.UTF-8\nexport LC_CTYPE=\"en_US.UTF-8\"\n</code></pre>"},{"location":"wiki/software_installation/gcc/","title":"GCC \u5b89\u88c5\u6559\u7a0b","text":"<p>\u8fd9\u91cc\u4ee5 5.5.0 \u7248\u672c\u4e3a\u4f8b\uff0c\u5176\u4ed6\u7248\u672c\u53ef\u4ee5\u53c2\u8003\uff0c\u53ea\u9700\u5c06\u7248\u672c\u53f7\u66ff\u6362\u5373\u53ef\u3002</p> <p>\u9996\u5148\u4e0b\u8f7d gcc \u5b89\u88c5\u5305\uff0c\u56fd\u5185\u76f4\u63a5\u8bbf\u95ee gnu \u5b98\u7f51\u8f83\u6162\uff0c\u53ef\u4ee5\u901a\u8fc7 tuna \u7b49\u955c\u50cf\u5b89\u88c5</p> <pre><code>wget https://mirrors.tuna.tsinghua.edu.cn/gnu/gcc/gcc-5.5.0/gcc-5.5.0.tar.gz\n</code></pre> <p>\u89e3\u538b\u5e76\u4e0b\u8f7d\u7f16\u8bd1\u6240\u9700\u73af\u5883\uff1a</p> <pre><code>tar -zxvf gcc-5.5.0.tar.gz\ncd gcc-5.5.0\n./contrib/download_prerequisites\ncd ..\n</code></pre> <p>\u521b\u5efa\u7f16\u8bd1\u76ee\u5f55\uff0c\u5e76\u5728\u5176\u4e2d\u8fdb\u884c\u7f16\u8bd1\uff1a</p> <pre><code>mkdir objdir\ncd objdir\n../gcc-5.5.0/configure --prefix=/share/apps/gcc/5.5.0 --enable-languages=c,c++,fortran,go --disable-multilib\nmake\nmake install\n</code></pre> <p>\u7f16\u5199 modulefile \uff0c\u4fee\u6539\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>#%Module1.0#####################################################################\n##\n## GCC modulefile\n##\nproc ModulesHelp { } {\n        global version\n\n        puts stderr \"\\tSets up environment for GCC v$version\"\n}\n\nmodule-whatis   \"sets up environment for GCC v5.5.0\"\n\n# for Tcl script use only\nset     version 5.5.0\nset     root    /share/apps/gcc/$version\n\nprepend-path    INFOPATH        $root/share/info\nprepend-path    LD_LIBRARY_PATH $root/lib64:$root/lib:$root/libexec\nprepend-path    INCLUDE         $root/include\nprepend-path    MANPATH         $root/share/man\nprepend-path    PATH            $root/bin\n</code></pre>"},{"location":"wiki/software_installation/install_from_src_in_conda/","title":"\u865a\u62df\u73af\u5883\u4e0b\u6e90\u7801\u5b89\u88c5 C/C++\u7a0b\u5e8f\uff1a\u4ee5 valgrind \u4e3a\u4f8b","text":"<p>\u6e90\u7801\u5b89\u88c5\u4e00\u822c\u7531 3 \u4e2a\u6b65\u9aa4\u7ec4\u6210\uff1a\u914d\u7f6e(configure)\u3001\u7f16\u8bd1(make)\u3001\u5b89\u88c5(make install)\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8fdb\u5165\u6e90\u7801\u6240\u5728\u6587\u4ef6\u5939\u4e0b\u987a\u5e8f\u6267\u884c<code>./configure &amp;&amp; make &amp;&amp; make install</code> \u4f1a\u5c06\u6587\u4ef6\u5b89\u88c5\u5728<code>/usr/local</code>\u4e0b\u3002\u4f46\u662f\uff0c\u8fd9\u79cd\u505a\u6cd5\u6709\u4e24\u4e2a\u4e0d\u8db3\uff1a</p> <ul> <li>\u67d0\u4e9b\u8f6f\u4ef6\uff08\u7248\u672c\uff09\u4ec5\u5e94\u7528\u4e8e\u7279\u5b9a\u5de5\u4f5c\u4efb\u52a1\u4e2d\uff0c\u4e0d\u540c\u4efb\u52a1\u4e2d\u7684\u8f6f\u4ef6\uff08\u7248\u672c\uff09\u53ef\u80fd\u4f1a\u6709\u51b2\u7a81</li> <li>\u96c6\u7fa4\u4e0a\u666e\u901a\u7528\u6237\u6ca1\u6709\u6743\u9650\u4fee\u6539<code>/usr/local</code>\u8fdb\u884c\u5b89\u88c5</li> </ul> <p>\u662f\u5426\u53ef\u4ee5\u91c7\u7528\u7c7b\u4f3c\u5c06 python \u5305\u5b89\u88c5\u5230\u7279\u5b9a\u865a\u62df\u73af\u5883\u4e0b\u7684\u505a\u6cd5\uff0c\u628a C/C++\u7a0b\u5e8f\u901a\u8fc7\u6e90\u7801\u5b89\u88c5\u5230\u7279\u5b9a\u865a\u62df\u73af\u5883\u4e2d\u5462\uff1f\u7b54\u6848\u662f\uff1a\u53ef\u4ee5\uff01\u63a5\u4e0b\u6765\uff0c\u4ee5 Valgrind \u4e3a\u4f8b\u8bf4\u660e\u5982\u4f55\u5c06 C/C++\u8f6f\u4ef6\u5305\u5b89\u88c5\u5230\u7279\u5b9a\u865a\u62df\u73af\u5883\u4e0b\u3002</p> <p>\u865a\u62df\u73af\u5883\u5730\u5740\uff08\u6839\u636e\u81ea\u5df1\u60c5\u51b5\u4fee\u6539\uff09\uff1a<code>/new_data/jxzhu/envs/test_env</code></p> <ol> <li>\u4e0b\u8f7d\u6e90\u7801\u5e76\u89e3\u538b</li> </ol> <pre><code># download source code from official website\nwget -c https://sourceware.org/pub/valgrind/valgrind-3.19.0.tar.bz2\n# decompress\ntar -jxvf valgrind-3.19.0.tar.bz2\n</code></pre> <ol> <li>\u8fdb\u5165\u6587\u4ef6\u5939\u5e76\u6267\u884c\u5b89\u88c5\u524d\u5e8f\u5de5\u4f5c\uff08\u6b64\u5904\u6839\u636e\u9700\u5b89\u88c5\u8f6f\u4ef6\u7684\u6307\u5f15\u8fdb\u884c\uff09</li> </ol> <pre><code># enter the source code folder\ncd valgrind-3.19.0\n# NOTE: This is not a general procedure\n# Please check the installation guide for your package\n./autogen.sh\n</code></pre> <ol> <li>\u901a\u8fc7<code>--prefix</code>\u5c06\u5b89\u88c5\u5730\u5740\u6307\u5b9a\u4e3a\u865a\u62df\u73af\u5883\u6240\u5728\u5730\u5740</li> </ol> <pre><code># configure with given installation path\n./configure --prefix=/new_data/jxzhu/envs/test_env/\n</code></pre> <ol> <li>\u7f16\u8bd1\u53ca\u5b89\u88c5</li> </ol> <pre><code># make in parallel\nmake -j20\n# install software\nmake install\n</code></pre> <p>\u5feb\u901f\u6d4b\u8bd5</p> <pre><code>(base) [jxzhu@login01:] /data/jxzhu/software/valgrind-3.19.0 $ which valgrind\n/usr/bin/which: no valgrind in (...)\n(base) [jxzhu@login01:] /data/jxzhu/software/valgrind-3.19.0 $ conda activate /new_data/jxzhu/envs/test_env/\n(test_env) [jxzhu@login01:] /data/jxzhu/software/valgrind-3.19.0 $ which valgrind\n/new_data/jxzhu/envs/test_env/bin/valgrind\n</code></pre>"},{"location":"wiki/software_installation/softwares/","title":"Installation Guide for Codes and Libraries","text":""},{"location":"wiki/software_installation/softwares/#first-of-all-load-the-environments","title":"First of all! Load the environments!","text":"<p>Before you install anything, especially when you need to compile codes, make sure the type of compiler and the version of compiler you have. Usually, in your personal computer, you can use compiler command directly, for instance, <code>gcc</code>, <code>gfortran</code>, <code>ifort</code>,<code>mpic++</code>. In remote cluster(High Performance Cluster), the compiler is managed by <code>module</code>. You cannnot use it unless you load it in advance. Therefore, make sure which compiler you have in <code>module</code>, and use command such as <code>module load gcc/4.9.4</code> to load required compilers.</p>"},{"location":"wiki/software_installation/softwares/#general-protocal-for-installation","title":"General Protocal for Installation:","text":"<ol> <li>Compile the Code</li> <li>Quick test the code at server node</li> <li>Write module files to code (we recommend to manage codes by module)</li> <li>Test the code in the client node</li> <li>write example lsf file in <code>/share/base/scripts</code></li> </ol>"},{"location":"wiki/software_installation/softwares/#where-to-install","title":"Where to Install?","text":"<p>Install in the <code>/share/</code> directory. <code>/share/</code> directory is the one synchronized to all the nodes by nfs. </p> <ol> <li>Libraries: <code>/share/apps/lib/&lt;library name&gt;/&lt;version&gt;</code></li> <li>Codes, Pacakges, Softwares: <code>/share/apps/&lt;packages name&gt;/&lt;version&gt;</code></li> </ol>"},{"location":"wiki/software_installation/softwares/#standard-in-writing-module-file","title":"Standard in Writing Module file","text":"<ol> <li>module name: <code>&lt;package name&gt;/&lt;version&gt;</code>, like <code>cp2k/6.1</code></li> </ol>"},{"location":"wiki/software_installation/softwares/#standard-in-writing-lsf-file","title":"Standard in Writing lsf file","text":"<ol> <li>export necessary environmental variable</li> <li>load prerequisite module</li> </ol>"},{"location":"wiki/software_installation/softwares/#anaconda-installation-guide","title":"Anaconda Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction","title":"Short Introduction","text":"<p>The open-source Anaconda Distribution is the easiest way to perform Python/R data science and machine learning on Linux, Windows, and Mac OS X. Choose the one suitable for you usage. If you'd like to use Anaconda in Cluster, ask cluster administrator if Anaconda have been installed, which avoid storage waste in your cluster's storage.</p> <p>Tip</p> <p>A minimum version of Conda is install in cluster51 by Yunpei Liu. Use it by module command</p>"},{"location":"wiki/software_installation/softwares/#installation-guide","title":"Installation Guide","text":"<ul> <li>Go to this website, choose the right version for you. Personally, I recommend command line Installer for Linux and Mac OS System, while the Graphical Installer for Windows System</li> <li>Follow the instruction in this page</li> </ul>"},{"location":"wiki/software_installation/softwares/#quip-installation-guide","title":"QUIP Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_1","title":"Short Introduction","text":"<p>The <code>QUIP</code> package is a collection of software tools to carry out molecular dynamics simulations. It implements a variety of interatomic potentials and tight binding quantum mechanics, and is also able to call external packages, and serve as plugins to other software such as LAMMPS, CP2K and also the python framework ASE. Various hybrid combinations are also supported in the style of QM/MM, with a particular focus on materials systems such as metals and semiconductors.</p> <p>Tip</p> <p>The tested compiler version:  and  for your information."},{"location":"wiki/software_installation/softwares/#use-quip-and-quippy-in-cluster-51","title":"Use QUIP and quippy in cluster 51","text":"<p>If you need use QUIP/GAP in cluster 51, please used command: </p> <pre><code>module load gcc/6.3.0 mpi/openmpi/3.0.0\nmodule load QUIP/GAP\n</code></pre> <p>If you want to use quippy:</p> <pre><code>module load miniconda/3\nsource activate /share/apps/QUIP/quippy-py3/\n</code></pre>"},{"location":"wiki/software_installation/softwares/#install-guide","title":"Install Guide","text":"<ul> <li>Git clone from repository</li> </ul> <pre><code>git clone --recursive https://github.com/libAtoms/QUIP.git\n</code></pre> <ul> <li>Go to the package root and export variable</li> </ul> <pre><code>export QUIP_ARCH=linux_x86_64_gfortran\n</code></pre> <ul> <li>Make configuration</li> </ul> <pre><code>make config\n#if everything fine\nmake\n</code></pre>"},{"location":"wiki/software_installation/softwares/#packages-and-extra-interfaces-of-quip","title":"Packages and Extra Interfaces of QUIP","text":""},{"location":"wiki/software_installation/softwares/#add-gap-packages","title":"Add GAP Packages","text":"<ul> <li>Download GAP file from here, then you obtain a tar file named <code>GAP.tar</code>, unzip it</li> </ul> <pre><code>tar -xvf GAP.tar\n</code></pre> <ul> <li>You will obtain a directory named <code>GAP/</code>, copy this directory into QUIP root/src.</li> </ul> <pre><code>cp -r GAP &lt;QUIP root&gt;/src/\n</code></pre> <ul> <li>Reconfig your make by choose <code>install GAP</code> as <code>y</code> </li> </ul> <pre><code>#recompile this code again\nmake\n</code></pre>"},{"location":"wiki/software_installation/softwares/#build-quippy-a-quip-python-interface","title":"Build QUIPPY, A QUIP Python Interface","text":"<ul> <li>Export another environmental variable</li> </ul> <pre><code>#install for your self\nexport QUIPPY_INSTALL_OPTS=--user\n#choose the location for installation of quippy\nexport QUIPPY_INSTALL_OPTS=--prefix=&lt;directory&gt;\n</code></pre> <ul> <li>Go to <code>&lt;QUIP root&gt;/src/f90wrap</code>, and install f90wrap by:</li> </ul> <pre><code>pip install .\n</code></pre> <ul> <li>Back to <code>&lt;QUIP root&gt;</code></li> </ul> <pre><code>make install-quippy\n</code></pre> <ul> <li>Test whether installed successfully.</li> </ul> <pre><code>make test\n</code></pre>"},{"location":"wiki/software_installation/softwares/#trouble-shooting","title":"Trouble Shooting","text":""},{"location":"wiki/software_installation/softwares/#importerror-dynamic-module-does-not-define-module-export-function","title":"ImportError: dynamic module does not define module export function","text":"<pre><code>Example:\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/share/apps/QUIP/quippy-py3/lib/python3.8/site-packages/quippy-https_github.com_libAtoms_QUIP.git_ec1ed34_dirty-py3.8-linux-x86_64.egg/quippy/__init__.py\", line 2, in &lt;module&gt;\n    import _quippy\nImportError: dynamic module does not define module export function (PyInit__quippy)\n</code></pre> <p>Solution: add /build/${QUIP_ARCH} into your Python PATH"},{"location":"wiki/software_installation/softwares/#vasp","title":"VASP","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_2","title":"Short Introduction","text":"<p>(TODO)</p>"},{"location":"wiki/software_installation/softwares/#install-guide_1","title":"Install Guide","text":"<ol> <li> <p>Get the VASP source code and pseudopotentials.</p> </li> <li> <p>Load environment <pre><code>module load intel\n</code></pre></p> </li> <li> <p>Choose <code>makefile.include</code> according to the platform and make <pre><code>cd vasp.5.4.4\nmake std\nmake gam\n</code></pre></p> </li> <li> <p>If everything is right, you will find <code>vasp_std</code> in <code>vasp.5.4.4/build/std</code> and you can run it with <code>mpirun -np 24 vasp_std</code>.</p> </li> </ol>"},{"location":"wiki/software_installation/softwares/#plugins","title":"Plugins","text":""},{"location":"wiki/software_installation/softwares/#wannier90","title":"Wannier90","text":"<ol> <li> <p>Download Wannier90 from http://www.wannier.org/download/ . Notice: currently VASP only support Wannier90-1.2</p> </li> <li> <p>Modify compile file for Wannier90  <code>make.sys.intel</code>. Here we use the MKL. <pre><code>#LIBDIR = /opt/intel/mkl721/lib/32\n#LIBS = -L$(LIBDIR) -lmkl_lapack -lmkl_ia32 -lguide -lpthread\nLIBDIR = $(MKLROOT)/lib/intel64\nLIBS = -L$(LIBDIR) -mkl -lpthread\n</code></pre></p> </li> <li> <p>Compile and test <pre><code>cp ./config/make.inc.ifort make.inc\nmake \nmake lib # compile to get the libary: libwannier.a \nmake tests # test whether the compilation is success\n</code></pre></p> </li> <li> <p>Copy the <code>libwannier.a</code> libary file to VASP libary path and modify VASP <code>makefile.include</code>.</p> </li> </ol> <pre><code>#Precompiler options\nCPP_OPTIONS= -DHOST=\\\"LinuxIFC\\\"\\\n             -DMPI -DMPI_BLOCK=8000 \\\n             -Duse_collective \\\n             -DscaLAPACK \\\n             -DCACHE_SIZE=4000 \\\n             -Davoidalloc \\\n             -Duse_bse_te \\\n             -Dtbdyn \\\n             -Duse_shmem \\\n             -DVASP2WANNIER90   ## modify this line for Wannier90\n\nLLIBS += ../../libwannier.a  ## change here to the location of libwannier.a\n</code></pre>"},{"location":"wiki/software_installation/softwares/#compilation-optimization","title":"Compilation optimization","text":"<p>If you use <code>Intel Xeon Silver/Gold/Platium</code> CPU, using the following compilation parameters will get a 2\u2716 speedup! (Already test on 205 server) <pre><code>OFLAG      = -O3 -xCORE-AVX512\n</code></pre></p>"},{"location":"wiki/software_installation/softwares/#todo-in-the-future","title":"TODO in the future","text":"<ol> <li>Install vasp_gpu version</li> <li>Benchmark different libary (FFTW/MKL)</li> <li>other plugins: VASP-neb, vasp-beef</li> <li>vasp6</li> </ol>"},{"location":"wiki/software_installation/softwares/#lammps-installation-guide","title":"LAMMPS Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_3","title":"Short Introduction","text":"<p>LAMMPS is a classical molecular dynamics code with a focus on materials modeling. It's an acronym for Large-scale Atomic/Molecular Massively Parallel Simulator.</p> <p>Tip</p> <p>I have installed one in cluster51, in directory /share/apps/lammps-7Aug19/. The compiler version:  and  for your information."},{"location":"wiki/software_installation/softwares/#install-guide_2","title":"Install Guide","text":"<ul> <li>Git clone or download package from website</li> </ul> <pre><code># command for git\ngit clone -b stable https://github.com/lammps/lammps.git mylammps\n</code></pre> <ul> <li>We assume you the package path is  <pre><code>cd &lt;lammps-root&gt;/src\n#choose one of the following or both\n# build a serial LAMMPS executable\nmake serial \n# build a parallel LAMMPS executable with MPI\nmake mpi        \n</code></pre> <ul> <li>You will see the executable binary in <code>src/lmp_serial</code> or <code>src/lmp_mpi</code></li> </ul>"},{"location":"wiki/software_installation/softwares/#packages-and-extra-interfaces-of-lammps","title":"Packages and Extra Interfaces of LAMMPS","text":"<p>Tip</p> <p>Contact Cluster Administrator if you need any uninstalled packages</p>"},{"location":"wiki/software_installation/softwares/#general-for-installing-package","title":"General for Installing Package","text":"<ul> <li>To install package of LAMMPS, just type <code>make yes-&lt;package name&gt;</code> for example, <code>make yes-user-intel</code></li> </ul>"},{"location":"wiki/software_installation/softwares/#building-user-atc-package","title":"Building USER-ATC Package","text":"<ul> <li>Before you install this package by <code>make yes-user-atc</code>, you should install <code>lib-atc</code> which is a library for atc package</li> <li>Go to the directory <code>&lt;LAMMPS root&gt;/lib/atc</code>, you can follow the instruction in the <code>README</code>. Remember to load module <code>gcc</code> and <code>open mpi</code></li> </ul> <pre><code>cd &lt;LAMMPS root&gt;/lib/atc\n</code></pre> <ul> <li><code>lib-atc</code> need library <code>lapack</code> and <code>blas</code> installed. Check whether this library installed or not by command:</li> </ul> <pre><code>#check for lapack library\nldconfig -p | grep lapack\n#check for blas library\nldconfig -p | grep blas\n</code></pre> <ul> <li>If <code>lapack</code> and <code>blas</code> are installed. Change the value of  <code>EXTRAMAKE</code> variable to <code>Makefile.lammps.installed</code> in the file <code>Makefile.mpi</code>.</li> </ul> <pre><code>EXTRAMAKE= Makefile.lammps.installed\n</code></pre> <ul> <li>Make library by following command</li> </ul> <pre><code>make -f Makefile.mpi\n</code></pre> <ul> <li>Make sure you have <code>libatc.a</code> and <code>Makefile.lammps</code> in your current directory</li> <li>Back to directory <code>&lt;LAMMPS root&gt;/src/</code> and type <code>make mpi</code> to compile mpi version of LAMMPS</li> </ul>"},{"location":"wiki/software_installation/softwares/#building-inteface-with-n2p2","title":"Building Inteface with n2p2","text":"<ul> <li>make sure you have shared library <code>libnnpif-shared</code> in your <code>&lt;path to n2p2&gt;/lib/</code></li> <li>export the following in your environmental variable(optional)</li> </ul> <pre><code>#export this if you use shared library, skip if you are using static library\nexport LD_LIBRARY_PATH=&lt;path to n2p2&gt;/lib:${LD_LIBRARY_PATH}\n</code></pre> <ul> <li>Go to LAMMPS root</li> </ul> <pre><code>cd &lt;LAMMPS root&gt;/\nln -s &lt;path to n2p2&gt; lib/nnp\ncp -r &lt;path to n2p2&gt;/src/interface/LAMMPS/src/USER-NNP &lt;LAMMPS root&gt;/src\ncd &lt;LAMMPS root&gt;/src\nmake yes-user-nnp\nmake mpi\n</code></pre>"},{"location":"wiki/software_installation/softwares/#building-with-plumed","title":"Building with Plumed","text":"<ul> <li>Before you install, make sure the Plumed has installed</li> <li>To directory <code>&lt;LAMMPS root&gt;/src/</code> </li> </ul> <pre><code>make lib-plumed args=\"-p &lt;path to plumed directory&gt;\"\nmake yes-user-plumed\nmake mpi\n</code></pre>"},{"location":"wiki/software_installation/softwares/#deepmd-installation-guide","title":"DeePMD Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_4","title":"Short Introduction","text":"<p>DeePMD-kit is a package written in Python/C++, designed to minimize the effort required to build deep learning based model of interatomic potential energy and force field and to perform molecular dynamics (MD). This brings new hopes to addressing the accuracy-versus-efficiency dilemma in molecular simulations. Applications of DeePMD-kit span from finite molecules to extended systems and from metallic systems to chemically bonded systems. Ref. Paper</p>"},{"location":"wiki/software_installation/softwares/#install-guide_3","title":"Install Guide","text":"<ul> <li>Here, we display the most easiest way to install DeePMD Code.</li> <li>Make sure you have <code>GPU</code> install in your computer. Usually, you can check with the drive of <code>GPU</code></li> <li>Install the <code>anaconda3</code> from website. After you installed anaconda3, you can use <code>conda</code> command.</li> <li>Install DeePMD with cpu or gpu version. Installation by this way will install lammps as well.</li> </ul> <pre><code>#install of cpu version\nconda install deepmd-kit=*=*cpu lammps-dp=*=*cpu -c deepmodeling\n#install of gpu version\nconda install deepmd-kit=*=*gpu lammps-dp=*=*gpu -c deepmodeling\n</code></pre> <ul> <li>That's all for installation. Check the install package use command:</li> </ul> <pre><code>conda list | grep deep\n</code></pre> <ul> <li>You will find four packages related with DeePMD code. You can now directly use command <code>dp</code> , <code>lmp</code>.</li> <li>To test DeePMD Code. Download DeePMD code from github by:</li> </ul> <pre><code>git clone https://github.com/deepmodeling/deepmd-kit.git\n</code></pre> <ul> <li>Go to the directory <code>examples/water/train/</code></li> <li>Test training by</li> </ul> <pre><code>dp train water_se_a.json\n</code></pre>"},{"location":"wiki/software_installation/softwares/#install-guide-of-deepmd","title":"Install Guide of DeePMD","text":"<p>\u5feb\u901f\u5b89\u88c5</p>"},{"location":"wiki/software_installation/softwares/#n2p2-installation-guide","title":"n2p2 Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_5","title":"Short Introduction","text":"<p>n2p2 is a machine learning code to training a machine learning potential. It original paper is from J. Behler and M. Parrinello, Phys. Rev. Lett. 98, 146401 (2007)</p>"},{"location":"wiki/software_installation/softwares/#install-guide_4","title":"Install Guide","text":"<ul> <li>Before Installation, make sure you have installed the Eigen Library and the GSL Library.</li> <li>Make sure you have <code>gcc</code> compiler (including <code>gfortran</code>), I haven't successfully compiled by <code>intel</code> compiler. Make sure you have open MPI(i. e. for <code>mpic++</code> command).</li> <li>Download the n2p2 code from github: https://github.com/CompPhysVienna/n2p2. For example, using the following command.</li> </ul> <pre><code>git clone https://github.com/CompPhysVienna/n2p2.git\n</code></pre> <ul> <li>You can see a directory named <code>n2p2</code>, now go into that by:</li> </ul> <pre><code>cd n2p2/src\n</code></pre> <ul> <li>Modify the configure file <code>makefile.gnu</code> </li> </ul> <pre><code>#modify this file, I just pick out the part you need to modify\n# Enter here paths to GSL or EIGEN if they are not in your standard include\n# path. DO NOT completely remove the entry, leave at least \"./\".\nPROJECT_GSL=&lt;path to gsllib&gt;/gsl/include/ # substitute &lt;path&gt; with real path\nPROJECT_EIGEN=&lt;path to eigen&gt;/eigen-eigen-323c052e1731 # substitute &lt;path&gt; with real path\n\n ###############################################################################\n # COMPILERS AND FLAGS\n ###############################################################################\nPROJECT_CFLAGS=-O3 -march=native -std=c++11 -fopenmp -L&lt;pato to gsllib&gt;gsl/lib\nPROJECT_LDFLAGS_BLAS=-lblas -lgslcblas\n</code></pre> <ul> <li>Save and quit this file, use the following command to compile code:</li> </ul> <pre><code>#choose one of the following command\nmake MODE=shared # compile a binary with shared library\nmake MODE=static # compile a binary with static library, I use this one\n</code></pre> <ul> <li>After you compiled successfully, you will have all the excutable binary at <code>n2p2/bin/</code> directory</li> <li>Add <code>n2p2/bin/</code> to your <code>PATH</code> environmental variable, you can easily use this. The most important binary is <code>nnp-train</code>, this is used for training.</li> <li>Add n2p2 library to your <code>LD_LIBRARY_PATH</code> in <code>.bashrc</code></li> </ul> <pre><code>export LD_LIBRARY_PATH=&lt;Path to n2p2&gt;/lib/:$LD_LIBRARY_PATH\n</code></pre>"},{"location":"wiki/software_installation/softwares/#plumed-installation-guide","title":"Plumed Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_6","title":"Short Introduction","text":"<p>PLUMED is an open-source, community-developed library that provides a wide range of different methods, which include:</p> <ul> <li>enhanced-sampling algorithms</li> <li>free-energy methods</li> <li>tools to analyze the vast amounts of data produced by molecular dynamics (MD) simulations.</li> </ul> <p>These techniques can be used in combination with a large toolbox of collective variables that describe complex processes in physics, chemistry, material science, and biology.</p> <p>Tip</p> <p>I have installed one in cluster51. Use module load plumed/2.6.0 to use this library. The compiler version:   for your information"},{"location":"wiki/software_installation/softwares/#install-guide_5","title":"Install Guide","text":"<ul> <li>Download package from here.</li> <li>Basic Configure</li> </ul> <pre><code>./configure --prefix=&lt;path you want to install&gt; LDFLAGS=-L'/share/apps/lib/fftw/3.3.8/lib' CPPFLAGS=-I'/share/apps/lib/fftw/3.3.8/lib '\n</code></pre> <ul> <li>Compile</li> </ul> <pre><code>make -j 32\nmake install\n</code></pre>"},{"location":"wiki/software_installation/softwares/#eigen-library-installation-guide","title":"Eigen Library Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_7","title":"Short Introduction","text":"<p>Eigen is a C++ template library for linear algebra: matrices, vectors, numerical solvers, and related algorithms.</p>"},{"location":"wiki/software_installation/softwares/#install-guide_6","title":"Install Guide","text":"<ul> <li>Download the package from wiki:http://eigen.tuxfamily.org/index.php?title=Main_Page#Overview. For me, I choose the Eigen 3.3.7 released version.</li> </ul> <pre><code>wget http://bitbucket.org/eigen/eigen/get/3.3.7.tar.bz2\n</code></pre> <ul> <li>Unpack this tar file by </li> </ul> <pre><code>tar -zxvf 3.3.7.tar.gz\n</code></pre> <ul> <li>You will have <code>eigen-eigen-*</code> directory in your computer</li> <li>These are all steps you need to install <code>eigen library</code></li> </ul>"},{"location":"wiki/software_installation/softwares/#gsl-library-installation-guide","title":"GSL Library Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_8","title":"Short Introduction","text":"<p>The GNU Scientific Library (GSL) is a numerical library for C and C++ programmers. It is a free open source library under the GNU General Public License. </p> <p>This guide is from: website tutorial</p> <p>Tip</p> <p>I have installed one in cluster51, in directory /share/apps/lib/gsl-2.6. The compiler version:  for your information"},{"location":"wiki/software_installation/softwares/#install-guide_7","title":"Install Guide","text":"<ul> <li>Download the latest version of gsl library.   For reference: ftp://ftp.gnu.org/gnu/gsl/</li> </ul> <pre><code>wget ftp://ftp.gnu.org/gnu/gsl/gsl-latest.tar.gz\n</code></pre> <ul> <li>Place the file in whatever directory you want to install and unpack the file with the following command:</li> </ul> <pre><code>tar -zxvf gsl-latest.tar.gz\n</code></pre> <ul> <li>This will create a directory called gsl-*.* in your home directory. Change to this directory.</li> </ul> <pre><code>cd gsl-*.*\n</code></pre> <ul> <li>The next step is to configure the installation and tell the system where to install the files. Create a directory to install your gsl package, say <code>&lt;Path to libgsl&gt;/gsl</code> with the following command</li> </ul> <pre><code>mkdir &lt;Path to libgsl&gt;/gsl\n</code></pre> <ul> <li>Now configure the installation and tell it to use your new directory. This step may take a few minutes.</li> </ul> <pre><code>./configure --prefix=&lt;Path to libgsl&gt;/gsl\n</code></pre> <ul> <li>If there are no errors, compile the library. This step will take several minutes.</li> </ul> <pre><code>make\n</code></pre> <ul> <li>Now it is necessary to check and test the library before actually installing it. This step will take some time.</li> </ul> <pre><code>make check\n</code></pre> <ul> <li>If there are no errors, go ahead and install the library with:</li> </ul> <pre><code>make install\n</code></pre> <ul> <li>Now we can write a test program to see if the library works. Create the following program and name it example.c</li> </ul> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;gsl/gsl_sf_bessel.h&gt;\n\nint\nmain (void)\n{\n    double x = 15.0;\n    double y = gsl_sf_bessel_J0 (x);\n    printf (\"J0(%g) = %.18e/n\", x, y);\n    return 0;\n}\n</code></pre> <ul> <li>Compile and link the program with the following commands (but use the correct path for your username):</li> </ul> <pre><code>gcc -Wall -I&lt;Path to libgsl&gt;/gsl/include -c example.c\ngcc -L&lt;Path to libgsl&gt;/gsl/lib example.o -lgsl -lgslcblas -lm\n</code></pre> <ul> <li>Now run your program!</li> </ul> <pre><code>./a.out\n</code></pre> <ul> <li>If it is succesfully installed, it will print a  number in your screen.</li> <li>add libray path to LD_LIBRARY_PATH in <code>.bashrc</code></li> </ul> <pre><code>export LD_LIBRARY_PATH=&lt;path to libgsl&gt;/lib:$LD_LIBRARY_PATH\n</code></pre>"},{"location":"wiki/software_installation/softwares/#libxc-library-installation-guide","title":"Libxc Library Installation Guide","text":"<ul> <li>Download the latest stable version of libxc from official website:</li> </ul> <pre><code>wget http://www.tddft.org/programs/libxc/down.php?file=4.3.4/libxc-4.3.4.tar.gz\n</code></pre>"},{"location":"wiki/software_installation/softwares/#fftw-library-installation-guide","title":"FFTW Library Installation Guide","text":""},{"location":"wiki/software_installation/softwares/#short-introduction_9","title":"Short Introduction","text":"<p>FFTW is a C subroutine library for computing the discrete Fourier transform (DFT) in one or more dimensions, of arbitrary input size, and of both real and complex data (as well as of even/odd data, i.e. the discrete cosine/sine transforms or DCT/DST).</p> <p>Tip</p> <p>I have installed one in cluster51, in directory /share/apps/lib/fftw/3.3.8. Use module load fftw/3.3.8 to use this library. The compiler version:  for your information"},{"location":"wiki/software_installation/softwares/#install-guide_8","title":"Install Guide","text":"<ul> <li>Download the release version from official website using wget</li> </ul> <pre><code>wget http://www.fftw.org/fftw-3.3.8.tar.gz\n</code></pre> <ul> <li>Unzi the package</li> </ul> <pre><code>tar -xvf fftw-3.3.8.tar.gz\n</code></pre> <ul> <li>Go to the directory <code>fftw-3.3.8</code></li> </ul> <pre><code>./configure --prefix=&lt;path to you want to install&gt;    \\\n            --enable-shared  \\\n            --enable-threads \\\n            --enable-sse2    \\\n            --enable-avx     \n</code></pre> <ul> <li>If configure is finished</li> </ul> <pre><code>make\n#check if you install finished\nmake check\n#install to the final directory which you have set in --prefix\nmake install\n</code></pre>"},{"location":"wiki/software_installation/softwares/#cp2k-installation-guide","title":"CP2K Installation Guide","text":"<ul> <li>Download the release version from official website using wget like</li> </ul> <pre><code>wget https://github.com/cp2k/cp2k/releases/download/v6.1.0/cp2k-6.1.tar.bz2\n</code></pre> <ul> <li>Unzip the cp2k package</li> </ul> <pre><code>tar -xvf cp2k-6.1.tar.bz2\n</code></pre> <ul> <li>Go into directory cp2k-6.1/tools/toolchains/</li> <li>Stop here! you should check you compiler version, if you are in the High Performance Cluster, Please load the module for compiler and MPI/Open MPI</li> <li>Note: for gcc version, gcc &lt;= 7.4.0</li> <li>Execute the following script to see the help message</li> </ul> <pre><code>./install_cp2k_toolchain.sh -h\n</code></pre> <ul> <li>Choose which package you want to install before cp2k.</li> </ul> <p>Some packages are essential for cp2k, please check this in the official web site</p> <ul> <li>the minimum required is <code>with-openblas=install</code>, if you want to compile successfully.</li> </ul>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/","title":"DeepMD-kit\u5feb\u901f\u5b89\u88c5","text":"<p>\u4e3a\u51cf\u5c11\u540e\u7eed\u5b89\u88c5\u7684\u56f0\u96be\uff0c\u8bf7\u4f18\u5148\u53c2\u8003\u6700\u4f73\u5b9e\u8df5\u3002\u672c\u6587\u4ecb\u7ecd\u7684\u65b9\u6cd5\u6210\u578b\u65f6\uff0cDP\u5c1a\u672a\u5b9e\u73b0\u5bf9Lammps\u7684\u89e3\u8026\uff0c\u4f46\u4ecd\u7136\u53ef\u7528\u3002</p> <p>\u672c\u90e8\u5206\u4e3b\u4f53\u5199\u4e8e2021\u5e74\uff0c\u622a\u81f3\u76ee\u524d\uff082022.08\uff09\u4ecd\u9002\u7528\uff0c\u5e76\u4e14\u968f\u7248\u672c\u5347\u7ea7\u4ecd\u5728\u66f4\u65b0\u3002</p> <p>\u6559\u7a0b\u4e2d\u4f7f\u7528\u7684\u5c1a\u4e14\u662fCUDA 10.1\uff0c\u4f46\u5bf9CUDA 11.x\u4e5f\u9002\u7528\u3002</p> <p>\u80cc\u666f\uff1a\u4ee5 Zeus \u96c6\u7fa4\u4e3a\u4f8b\uff0c\u5728\u670d\u52a1\u5668\u901a\u8fc7\u6e90\u4ee3\u7801\u7f16\u8bd1\u5b89\u88c5DeepMD-kit\u548c\u5305\u542b\u5b8c\u6574\u63a5\u53e3\u7684LAMMPS\u3002\u867d\u7136\u5b98\u65b9\u5df2\u7ecf\u63d0\u4f9b\u4e86\u901a\u8fc7 Conda \u4e00\u952e\u5b89\u88c5\u7684\u65b9\u6cd5\uff0c\u4f46\u7531\u4e8e\u6b64\u6cd5\u6240\u5b89\u88c5\u7684\u5404\u4e2a\u7ec4\u4ef6\u5747\u4e3a\u9884\u7f16\u8bd1\u7248\u672c\uff0c\u56e0\u800c\u65e0\u6cd5\u505a\u66f4\u591a\u62d3\u5c55\u548c\u6539\u52a8\uff0c\u4e14\u901a\u8fc7 Conda \u5b89\u88c5\u7684 Protobuf \u5b58\u5728\u7248\u672c\u51b2\u7a81\uff0c\u65e0\u6cd5\u8fdb\u4e00\u6b65\u7f16\u8bd1\u5176\u4ed6\u63a5\u53e3\u3002\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u79cd\u65b9\u6cd5\uff0c\u901a\u8fc7 Conda \u5b89\u88c5\u901a\u5e38\u4e0d\u9700\u8981\u8f83\u5927\u6539\u52a8\u7684TensorFlow C++ Interface\uff0c\u5176\u4f59\u90e8\u5206\u4ecd\u624b\u52a8\u7f16\u8bd1\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#_1","title":"\u521d\u59cb\u73af\u5883\u8bf4\u660e","text":"<p>\u4ee5\u4e0b\u8fc7\u7a0b\u4ee5 Zeus \u96c6\u7fa4\u4e3a\u4f8b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ca\u7248\u672c\u4e3aCentOS 7\uff0c\u7ba1\u7406\u8282\u70b9\u8054\u7f51\uff0c\u91c7\u7528module\u4f5c\u4e3a\u73af\u5883\u7ba1\u7406\u3002</p> <p>\u4ee5\u4e0b\u662f\u9884\u5148\u914d\u7f6e\u597d\u7684\u73af\u5883\uff0c\u5bf9\u4e8e\u5176\u4ed6\u96c6\u7fa4\uff0c\u53ef\u4ee5\u6b64\u8981\u6c42\u51c6\u5907\u73af\u5883\uff0c\u5176\u4e2d Intel MPI \u53ef\u4ee5\u7528 MPICH \u4ee3\u66ff\uff0c\u5176\u4f59\u7ec4\u4ef6\u8bf7\u81ea\u884c\u5b89\u88c5\u3002\u6ce8\u610fCUDA 10.1\u5bf9Nvidia\u9a71\u52a8\u7248\u672c\u6709\u8981\u6c42\uff0c\u9700\u8981\u9884\u5148\u68c0\u67e5\u597d\uff08\u53ef\u7528<code>nvidia-smi</code>\u5feb\u901f\u67e5\u770b\uff09\u3002</p> <ul> <li>\u901a\u8fc7yum\u5b89\u88c5</li> <li>Git &gt;= 1.8.2</li> <li>\u901a\u8fc7module\u52a0\u8f7d</li> <li>CUDA 10.1</li> <li>Miniconda 3</li> <li>GCC &gt;= 7.4.0</li> <li>Intel MPI 2017 \uff08\u6682\u672a\u5bf9\u5176\u4ed6\u7248\u672c\u8fdb\u884c\u6d4b\u8bd5\uff09</li> </ul> <p>\u7248\u672c\u53f7\u4ec5\u4f9b\u53c2\u8003\uff0c\u5b9e\u9645\u5b89\u88c5\u53ef\u80fd\u4f1a\u4e0d\u4e00\u6837\uff0c\u53c2\u8003\u6267\u884c\u5373\u53ef\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#_2","title":"\u521b\u5efa\u65b0\u7684\u73af\u5883","text":"<p>\u9996\u5148\u51c6\u5907\u5fc5\u8981\u7684\u4f9d\u8d56\u3002</p> <p>\u68c0\u67e5\u53ef\u7528\u7684\u6a21\u5757\uff0c\u5e76\u52a0\u8f7d\u5fc5\u8981\u7684\u6a21\u5757\uff1a</p> <pre><code>module avail\nmodule add cuda/10.1\nmodule add gcc/7.4.0\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u5bfc\u5165\u7684\u662fGCC 7.4.0\u7248\u672c\uff0c\u5982\u679c\u91c7\u7528\u4f4e\u4e8e4.9.4\u7684\u7248\u672c\uff08\u4e0d\u5bfc\u5165GCC\uff09\u5219dp_ipi\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u3002</p> <p>\u7136\u540e\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u6b65\u9aa4\u8bf7\u53c2\u8003Anaconda \u4f7f\u7528\u6307\u5357\u3002</p> <p>\u5047\u8bbe\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u540d\u79f0\u662f <code>deepmd</code>\uff0c\u5219\u8bf7\u5c06\u6b65\u9aa4\u6700\u540e\u7684 <code>&lt;your env name&gt;</code> \u66ff\u6362\u4e3a <code>deepmd</code>\u3002\u82e5\u91c7\u7528\u8be5\u6b65\u9aa4\u7684\u8bbe\u7f6e\uff0c\u5219\u865a\u62df\u73af\u5883\u5c06\u88ab\u521b\u5efa\u5728<code>/data/user/conda/env/deepmd</code>\u4e0b\uff08\u5047\u8bbe\u7528\u6237\u540d\u4e3a<code>user</code>\uff09\u3002</p> <p>\u6ce8\u610f\u8bf7\u52a1\u5fc5\u4e3a\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u5b89\u88c5\u6240\u9700\u7684Python\u73af\u5883\u3002\u901a\u5e38\u4e0d\u6307\u5b9aPython\u7248\u672c\u53f7\u7684\u60c5\u51b5\u4e0b\uff08\u4f8b\u5982\u6587\u4e2d\u7684\u6b65\u9aa4<code>conda create -n &lt;your env name&gt; python</code>\uff09\u4f1a\u5b89\u88c5conda\u63a8\u8350\u7684\u6700\u65b0\u7248\u672c\uff0c\u5982\u9700\u8981\u66ff\u4ee3\u8bf7\u5bf9\u5e94\u6307\u5b9a\uff0c\u5982<code>conda create -n deepmd python=3.8</code>\u3002</p> <p>\u7531\u4e8eZeus\u7684GPU\u8282\u70b9\u4e0d\u80fd\u8054\u7f51\uff0c\u6545\u9700\u8981\u5c06\u6240\u9700\u7684\u9a71\u52a8\u7a0b\u5e8f\u5e93<code>libcuda.so</code>\u4ee5<code>libcuda.so.1</code>\u7684\u540d\u79f0\u624b\u52a8\u94fe\u63a5\u5230\u67d0\u4e2a\u5177\u6709\u6743\u9650\u7684\u8def\u5f84<code>/some/local/path</code>\u5e76\u5206\u522b\u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002</p> <pre><code>ln -s /share/cuda/10.0/lib64/stubs/libcuda.so /some/local/path/libcuda.so.1\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/share/cuda/10.0/lib64/stubs:/some/local/path\n</code></pre> <p>\u63d0\u793a</p> <p>\u82e5\u5728Zeus \u96c6\u7fa4\u4e0a\u5b89\u88c5\uff0c\u7ba1\u7406\u5458\u5df2\u4e8b\u5148\u628a<code>libcuda.so.1</code> \u94fe\u63a5\u5728<code>/share/cuda/10.0/lib64/stubs/</code>\u4e0b\uff0c\u6545\u65e0\u9700\u989d\u5916\u521b\u5efa\u8f6f\u94fe\u63a5\uff0c\u540c\u7406<code>/some/local/path</code>\u4e5f\u65e0\u9700\u52a0\u5165\u73af\u5883\u53d8\u91cf\uff0c\u4f46\u4ecd\u9700\u8981\u9a71\u52a8\u7a0b\u5e8f\u5e93\u7684\u7b26\u53f7\u94fe\u63a5<code>libcuda.so</code>\u3002\u6ce8\u610f\u8fd9\u4e00\u6b65\u9aa4\u6267\u884c\u540e\uff0c\u5b9e\u9645\u8fd0\u884c\u65f6\u9700\u8981\u4ece\u73af\u5883\u53d8\u91cf\u4e2d\u79fb\u9664</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#tensorflowc","title":"\u5b89\u88c5Tensorflow\u7684C++ \u63a5\u53e3","text":"<p>\u4ee5\u4e0b\u5b89\u88c5\uff0c\u5047\u8bbe\u8f6f\u4ef6\u5305\u4e0b\u8f7d\u8def\u5f84\u5747\u4e3a<code>/some/workspace</code>\uff0c \u4ee5TensorFlow 2.3.0\u7248\u672c\u3001DeePMD-kit 1.3.3 \u7248\u672c\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\uff0c\u5176\u4ed6\u7248\u672c\u7684\u6b65\u9aa4\u8bf7\u53c2\u7167\u4fee\u6539\u3002</p> <p>\u9996\u5148\u521b\u5efa\u5e76\u8fdb\u5165\u865a\u62df\u73af\u5883\uff0c\u8fd9\u91cc\u5047\u8bbe\u547d\u540d\u4e3a<code>deepmd</code>\uff1a</p> <pre><code>conda create -n deepmd python=3.8\nconda activate deepmd\n</code></pre> <p>\u641c\u7d22\u4ed3\u5e93\uff0c\u67e5\u627e\u53ef\u7528\u7684TensorFlow\u7684C++ \u63a5\u53e3\u7248\u672c\u3002</p> <pre><code>conda search libtensorflow_cc -c https://conda.deepmodeling.com\n</code></pre> <p>\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>Loading channels: done\n# Name                       Version           Build  Channel\nlibtensorflow_cc              1.14.0  cpu_h9a2eada_0\nlibtensorflow_cc              1.14.0  gpu_he292aa2_0\nlibtensorflow_cc               2.0.0  cpu_h9a2eada_0\nlibtensorflow_cc               2.0.0  gpu_he292aa2_0\nlibtensorflow_cc               2.1.0  cpu_cudaNone_0\nlibtensorflow_cc               2.1.0  gpu_cuda10.0_0\nlibtensorflow_cc               2.1.0  gpu_cuda10.1_0\nlibtensorflow_cc               2.1.0   gpu_cuda9.2_0\nlibtensorflow_cc               2.3.0  cpu_cudaNone_0\nlibtensorflow_cc               2.3.0  gpu_cuda10.1_0\nlibtensorflow_cc               2.4.1  gpu_cuda11.0_0\nlibtensorflow_cc               2.4.1  gpu_cuda11.1_0\nlibtensorflow_cc               2.5.0  cpu_cudaNone_0\nlibtensorflow_cc               2.5.0  gpu_cuda10.1_0\nlibtensorflow_cc               2.5.0  gpu_cuda11.3_0\nlibtensorflow_cc               2.7.0  cpu_h6ddf1b9_0\nlibtensorflow_cc               2.7.0 cuda101h50fd26c_0\nlibtensorflow_cc               2.7.0 cuda113h3372e5c_0\nlibtensorflow_cc               2.7.0 cuda113hbf71e95_1\nlibtensorflow_cc               2.9.0  cpu_h681ccd4_0\nlibtensorflow_cc               2.9.0 cuda102h929c028_0\nlibtensorflow_cc               2.9.0 cuda116h4bf587c_0\n</code></pre> <p>\u8fd9\u91cc\u6240\u5e0c\u671b\u5b89\u88c5\u7684\u7248\u672c\u662f2.3.0\u7684GPU\u7248\u672c\uff0cCUDA\u7248\u672c\u4e3a10.1\uff0c\u56e0\u6b64\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a</p> <pre><code>conda install libtensorflow_cc=2.3.0=gpu_cuda10.1_0 -c https://conda.deepmodeling.org\n</code></pre> <p>\u82e5\u6240\u5b89\u88c5\u7684\u73af\u5883\u6ca1\u6709\u5b9e\u9645\u7684GPU\u9a71\u52a8\uff08\u6bd4\u5982\u96c6\u7fa4\u7684\u767b\u5f55\u8282\u70b9\uff09\u6216\u9700\u8981\u7528\u5230Conda\u5b89\u88c5CudaToolkit\uff0c\u53ef\u80fd\u9700\u8981\u53c2\u7167\u6b64\u5904\u8bf4\u660e\u5f3a\u5236\u6307\u5b9aGPU\u73af\u5883\u3002\u6bd4\u5982\uff1a</p> <pre><code>CONDA_OVERRIDE_CUDA=\"11.3\" conda install libtensorflow_cc=2.7.0=cuda113hbf71e95_1 -c https://conda.deepmodeling.com\n</code></pre> <p>\u8bf7\u6ce8\u610f<code>CONDA_OVERRIDE_CUDA</code>\u7684\u503c\u9700\u8981\u4e0eGPU\u652f\u6301\u4ee5\u53ca\u5e0c\u671b\u7528\u5230\u7684CUDA\u7248\u672c\u76f8\u5339\u914d\u3002</p> <p>\u63d0\u793a</p> <p>\u6ce8\u610fA100\u4ec5\u652f\u6301TF 2.4.0\u4ee5\u4e0a\u3001CUDA11.2\u4ee5\u4e0a\uff0c\u5b89\u88c5\u65f6\u8bf7\u5bf9\u5e94\u9009\u62e9\u3002</p> <p>\u63d0\u793a</p> <p>\u4e2a\u522b\u7248\u672c\u5728\u540e\u7eed\u7f16\u8bd1\u65f6\u53ef\u80fd\u4f1a\u63d0\u793a\u9700\u8981<code>libiomp5.so</code>\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u786e\u5b9a\u662f\u5426\u9700\u8981\u63d0\u524d\u8f7d\u5165Intel\u73af\u5883\uff08\u89c1\u4e0b\u6587Lammps\u7f16\u8bd1\u90e8\u5206\uff09\u6216\u8005<code>conda install intel-openmp</code>\u3002</p> <p>\u63d0\u793a</p> <p><code>conda</code>\u547d\u4ee4\u53ef\u80fd\u901f\u5ea6\u8f83\u6162\uff0c\u4e5f\u53ef\u4ee5\u8003\u8651\u5207\u6362\u4e3amamba\uff0c\u540e\u8005\u53ef\u5927\u5e45\u52a0\u901fConda\u7684\u6027\u80fd\uff0c\u4e14\u5b8c\u5168\u517c\u5bb9\u3002\u53ea\u9700\u53c2\u7167\u524d\u8ff0\u94fe\u63a5\u5b89\u88c5\u540e\u5c06<code>conda</code>\u66ff\u6362\u4e3a<code>mamba</code>\u5373\u53ef</p> <p>\u82e5\u6210\u529f\u5b89\u88c5\uff0c\u5219\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>export tensorflow_root=/data/user/conda/env/deepmd\n</code></pre> <p>\u5373\u865a\u62df\u73af\u5883\u521b\u5efa\u7684\u8def\u5f84\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#deepmd-kitpython","title":"\u5b89\u88c5DeePMD-kit\u7684Python\u63a5\u53e3","text":"<p>\u4ee5\u9632\u4e07\u4e00\u53ef\u4ee5\u5347\u7ea7\u4e0bpip\u7684\u7248\u672c\uff1a</p> <pre><code>pip install --upgrade pip\n</code></pre> <p>\u63a5\u4e0b\u6765\u5b89\u88c5Tensorflow\u7684Python\u63a5\u53e3</p> <pre><code>pip install tensorflow==2.3.0\n</code></pre> <p>\u82e5\u63d0\u793a\u5df2\u5b89\u88c5\uff0c\u8bf7\u4f7f\u7528<code>--upgrade</code>\u9009\u9879\u8fdb\u884c\u8986\u76d6\u5b89\u88c5\u3002\u82e5\u63d0\u793a\u6743\u9650\u4e0d\u8db3\uff0c\u8bf7\u4f7f\u7528<code>--user</code>\u9009\u9879\u5728\u5f53\u524d\u8d26\u53f7\u4e0b\u5b89\u88c5\u3002</p> <p>\u7136\u540e\u4e0b\u8f7dDeePMD-kit\u7684\u6e90\u4ee3\u7801\uff08\u6ce8\u610f\u628av1.3.3\u66ff\u6362\u4e3a\u9700\u8981\u5b89\u88c5\u7684\u7248\u672c\uff0c\u5982<code>v2.0.3</code>\u7b49\uff09</p> <pre><code>cd /some/workspace\ngit clone --recursive https://github.com/deepmodeling/deepmd-kit.git deepmd-kit -b v1.3.3\n</code></pre> <p>\u5728\u8fd0\u884cgit clone\u65f6\u8bb0\u5f97\u8981<code>--recursive</code>\uff0c\u8fd9\u6837\u624d\u53ef\u4ee5\u5c06\u5168\u90e8\u6587\u4ef6\u6b63\u786e\u4e0b\u8f7d\u4e0b\u6765\uff0c\u5426\u5219\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4f1a\u62a5\u9519\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u4e0d\u614e\u6f0f\u4e86<code>--recursive</code>\uff0c \u53ef\u4ee5\u91c7\u53d6\u4ee5\u4e0b\u7684\u8865\u6551\u65b9\u6cd5\uff1a <pre><code>git submodule update --init --recursive\n</code></pre></p> <p>\u82e5\u96c6\u7fa4\u4e0a Cmake 3\u6ca1\u6709\u5b89\u88c5\uff0c\u53ef\u4ee5\u7528pip\u8fdb\u884c\u5b89\u88c5\uff1a</p> <pre><code>pip install cmake\n</code></pre> <p>\u4fee\u6539\u73af\u5883\u53d8\u91cf\u4ee5\u4f7f\u5f97cmake\u6b63\u786e\u6307\u5b9a\u7f16\u8bd1\u5668\uff1a</p> <pre><code>export CC=`which gcc`\nexport CXX=`which g++`\nexport FC=`which gfortran`\n</code></pre> <p>\u82e5\u8981\u542f\u7528CUDA\u7f16\u8bd1\uff0c\u8bf7\u5bfc\u5165\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>export DP_VARIANT=cuda\n</code></pre> <p>\u968f\u540e\u901a\u8fc7pip\u5b89\u88c5DeePMD-kit\uff1a</p> <pre><code>cd deepmd-kit\npip install .\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#deepmd-kitc","title":"\u5b89\u88c5DeePMD-kit\u7684C++ \u63a5\u53e3","text":"<p>\u5ef6\u7eed\u4e0a\u9762\u7684\u6b65\u9aa4\uff0c\u4e0b\u9762\u5f00\u59cb\u7f16\u8bd1DeePMD-kit C++\u63a5\u53e3\uff1a</p> <pre><code>deepmd_source_dir=`pwd`\ncd $deepmd_source_dir/source\nmkdir build \ncd build\n</code></pre> <p>\u5047\u8bbeDeePMD-kit C++ \u63a5\u53e3\u5b89\u88c5\u5728<code>/some/workspace/deepmd_root</code>\u4e0b\uff0c\u5b9a\u4e49\u5b89\u88c5\u8def\u5f84<code>deepmd_root</code>\uff1a</p> <pre><code>export deepmd_root=/some/workspace/deepmd_root\n</code></pre> <p>\u5728build\u76ee\u5f55\u4e0b\u8fd0\u884c\uff1a</p> <pre><code>cmake -DLAMMPS_VERSION_NUMBER=&lt;value&gt; -DTENSORFLOW_ROOT=$tensorflow_root -DCMAKE_INSTALL_PREFIX=$deepmd_root ..\n</code></pre> <p>\u8bf7\u6839\u636e\u81ea\u5df1\u5373\u5c06\u5b89\u88c5\u7684Lammps\u7248\u672c\u6307\u5b9a<code>-DLAMMPS_VERSION_NUMBER</code>\u7684\u503c\uff0c\u76ee\u524d\u6700\u65b0\u7248\u672c\u7684DeePMD-kit\u9ed8\u8ba4\u4e3a<code>20210929</code>\uff0c\u5982\u9700\u5b89\u88c5<code>Lammps 29Oct2020</code>\uff0c\u8bf7\u8bbe\u5b9a\u4e3a<code>20201029</code>\u3002</p> <p>\u82e5\u901a\u8fc7yum\u540c\u65f6\u5b89\u88c5\u4e86Cmake 2\u548cCmake 3\uff0c\u8bf7\u5c06\u4ee5\u4e0a\u7684<code>cmake</code>\u5207\u6362\u4e3a<code>cmake3</code>\u3002</p> <p>\u6700\u540e\u7f16\u8bd1\u5e76\u5b89\u88c5\uff1a</p> <pre><code>make\nmake install\n</code></pre> <p>\u82e5\u65e0\u62a5\u9519\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6267\u884c\u68c0\u67e5\u662f\u5426\u6709\u6b63\u786e\u8f93\u51fa\uff1a</p> <pre><code>$ ls $deepmd_root/bin\ndp_ipi\n$ ls $deepmd_root/lib\nlibdeepmd_ipi.so  libdeepmd_op.so  libdeepmd.so\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#lammpsdeepmd-kit","title":"\u5b89\u88c5LAMMPS\u7684DeePMD-kit\u6a21\u5757","text":"<p>\u63a5\u4e0b\u6765\u5b89\u88c5</p> <pre><code>cd $deepmd_source_dir/source/build\nmake lammps\n</code></pre> <p>\u6b64\u65f6\u5728<code>$deepmd_source_dir/source/build</code>\u4e0b\u4f1a\u51fa\u73b0<code>USER-DEEPMD</code>\u7684LAMMPS\u62d3\u5c55\u5305\u3002</p> <p>\u4e0b\u8f7dLAMMPS\u5b89\u88c5\u5305\uff0c\u5e76\u628a\u63a5\u53e3\u4ee3\u7801\u590d\u5236\u5230<code>src</code>\u76ee\u5f55\u4e0b\uff1a</p> <pre><code>cd /some/workspace\n# Download Lammps latest release\nwget -c https://lammps.sandia.gov/tars/lammps-stable.tar.gz\ntar xf lammps-stable.tar.gz\ncd lammps-*/src/\ncp -r $deepmd_source_dir/source/build/USER-DEEPMD .\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#make","title":"Make\u547d\u4ee4\u5b89\u88c5","text":"<p>\u9009\u62e9\u9700\u8981\u7f16\u8bd1\u7684\u5305\uff08\u82e5\u9700\u8981\u5b89\u88c5\u5176\u4ed6\u5305\uff0c\u8bf7\u53c2\u8003Lammps\u5b98\u65b9\u6587\u6863\uff09\uff1a</p> <pre><code>make yes-user-deepmd\nmake yes-kspace\n</code></pre> <p>\u5982\u679c\u6ca1\u6709<code>make yes-kspace</code> \u4f1a\u56e0\u7f3a\u5c11<code>pppm.h</code>\u62a5\u9519\u3002</p> <p>\u8fd9\u91cc\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6279\u91cf\u5b89\u88c5\u5176\u4ed6\u5305\uff1a</p> <pre><code>make yes-all                        # install all packages\nmake no-lib                         # uninstall packages that require extra libraries\nmake no-ext                         # uninstall packages that require external libraries\n</code></pre> <p>\u6ce8\u610f\u5982Plumed\u3001SMD\u3001COLVARS\u7b49\u7b49\u9700\u8981\u63d0\u524d\u914d\u7f6e\u6216\u9884\u5148\u7f16\u8bd1\u7684\u63d2\u4ef6\u5982\u9700\u5b89\u88c5\u8bf7\u53c2\u8003Lammps\u5b98\u65b9\u6587\u6863\uff0c\u540c\u65f6\u8bf8\u5982 Intel\u3001GPU\u7b49\u52a0\u901f\u5305\u5982\u679c\u4e0d\u9700\u8981\u7f16\u8bd1\u53ef\u80fd\u9700\u8981\u989d\u5916\u624b\u52a8\u53d6\u6d88\u5b89\u88c5\u3002</p> <p>\u76ee\u524d\u5b98\u65b9\u6587\u6863\u6539\u52a8\u8f83\u5927\uff0c\u4e14\u672a\u63d0\u4f9b\u5386\u53f2\u7248\u672c\uff0c\u56e0\u800c\u4ec5\u9002\u7528\u4e8e\u5b98\u65b9\u6700\u65b0Release\u7248\u672c\uff08\u76ee\u524d\u4ec5\u9002\u7528\u4e8eLammps 29Sep2021\u4ee5\u540e\u7684\u7248\u672c\uff0c\u4f46\u53ef\u80fd\u968f\u7740\u540e\u7eed\u66f4\u65b0\u9002\u7528\u9762\u8fdb\u4e00\u6b65\u7f29\u7a84\u3002\uff09\uff0c\u4f7f\u7528\u65e7\u7248\u8bf7\u6ce8\u610f\u7504\u522b\u3002</p> <p>\u52a0\u8f7dMPI\u73af\u5883\uff0c\u5e76\u91c7\u7528MPI\u65b9\u5f0f\u7f16\u8bd1Lammps\u53ef\u6267\u884c\u6587\u4ef6\uff1a</p> <pre><code>module load intel/17.5.239 mpi/intel/2017.5.239\nmake mpi -j4\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6b64\u5904\u4f7f\u7528\u7684GCC\u7248\u672c\u5e94\u4e0e\u4e4b\u524d\u7f16\u8bd1Tensorflow C++\u63a5\u53e3\u548cDeePMD-kit C++\u63a5\u53e3\u4e00\u81f4\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u62a5\u9519\uff1a<code>@GLIBCXX_3.4.XX</code>\u3002\u5982\u679c\u5728\u524d\u9762\u7684\u5b89\u88c5\u4e2d\u5df2\u7ecf\u52a0\u8f7d\u4e86GCC 7.4.0\uff0c\u8bf7\u5728\u8fd9\u91cc\u4e5f\u4fdd\u6301\u76f8\u5e94\u73af\u5883\u7684\u52a0\u8f7d\u3002</p> <p>\u7ecf\u8fc7\u4ee5\u4e0a\u8fc7\u7a0b\uff0cLammps\u53ef\u6267\u884c\u6587\u4ef6<code>lmp_mpi</code>\u5df2\u7ecf\u7f16\u8bd1\u5b8c\u6210\uff0c\u7528\u6237\u53ef\u4ee5\u6267\u884c\u8be5\u7a0b\u5e8f\u8c03\u7528\u8bad\u7ec3\u7684\u52bf\u51fd\u6570\u8fdb\u884cMD\u6a21\u62df\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#cmake","title":"Cmake\u5b89\u88c5","text":"<p>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528Cmake\u8fdb\u884c\u7f16\u8bd1\uff0c\u66f4\u52a0\u5e72\u51c0\u3001\u5feb\u6377\u3002</p> <p>\u5982\u9700\u8981\u5b89\u88c5Plumed\uff0c\u8bf7\u9996\u5148\u5229\u7528Conda\u5b89\u88c5GSL\u73af\u5883\uff1a</p> <pre><code>conda install gsl\n</code></pre> <p>\u7136\u540e\u8bf7\u7f16\u8f91<code>lammps-stable/cmake/CMakeLists.txt</code>\uff0c\u627e\u5230<code>set(STANDARD_PACKAGES</code>\u8fd9\u4e00\u884c\uff0c\u5e76\u5728\u672b\u5c3e\u62ec\u53f7\u5185\u589e\u52a0\u4e00\u9879\uff1a<code>USER-DEEPMD</code>\uff1a</p> <pre><code>set(STANDARD_PACKAGES\n  ...  \n  USER-DEEPMD)\n</code></pre> <p>\u7136\u540e\u5728<code>lammps-stable</code>\u76ee\u5f55\u4e0b\uff0c\u65b0\u5efa<code>build</code>\u76ee\u5f55\uff1a</p> <pre><code>cd lammps-stable\nmkdir build\ncd build\n</code></pre> <p>\u8fdb\u884c\u914d\u7f6e\uff1a</p> <pre><code>cmake -C ../cmake/presets/most.cmake -C ../cmake/presets/nolib.cmake \\\n-D BUILD_MPI=yes -D BUILD_OMP=yes -D LAMMPS_MACHINE=mpi \\\n-D WITH_JPEG=no -D WITH_PNG=no -D WITH_FFMPEG=no \\\n-D PKG_PLUMED=yes -D PKG_COLVARS=yes -D PKG_USER-DEEPMD=ON \\\n-D CMAKE_INSTALL_PREFIX=/data/user/conda/env/deepmd \\\n-D CMAKE_CXX_FLAGS=\"-std=c++14 -DHIGH_PREC -DLAMMPS_VERSION_NUMBER=20220623 -I${deepmd_root}/include -I${tensorflow_root}/include -L${deepmd_root}/lib -L${tensorflow_root}/lib -Wl,--no-as-needed -ldeepmd_cc -ltensorflow_cc -ltensorflow_framework -Wl,-rpath=${deepmd_root}/lib -Wl,-rpath=${tensorflow_root}/lib\" \\\n../cmake\n</code></pre> <p>\u6ce8\u610f<code>CMAKE_INSTALL_PREFIX</code>\u6307\u793a\u7684\u662f\u5b89\u88c5\u8def\u5f84\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u3002</p> <p>\u6ce8\u610f</p> <p>\u8fd9\u91cc\u989d\u5916\u5173\u95ed\u4e86\u56fe\u5f62\u8f93\u51fa\u6a21\u5757\uff08JPEG\u3001PNG\u3001FFMPEG\uff09\uff0c\u56e0\u4e3aConda\u81ea\u5e26\u7684\u56fe\u5f62\u5e93\u4f1a\u4e0e\u7cfb\u7edf\u6709\u51b2\u7a81\uff0c\u6682\u65f6\u6ca1\u6709\u89e3\u51b3\uff0c\u4e14\u4f7f\u7528<code>make</code>\u9ed8\u8ba4\u4e5f\u4e0d\u4f1a\u5b89\u88c5\u3002</p> <p>\u6ce8\u610f</p> <p>\u7531\u4e8e\u672a\u77e5\u539f\u56e0\uff0c\u6709\u65f6\u5019CMake\u4f1a\u627e\u4e0d\u5230Conda\u5b89\u88c5\u7684GSL\u3002\u4f46\u82e5\u63d0\u524d\u7f16\u8bd1\u597dPlumed\u5e76\u91c7\u7528Runtime\u65b9\u5f0f\u8f7d\u5165\uff0c\u53ef\u4e0d\u9700\u8981GSL\uff1a<code>-D PLUMED_MODE=runtime</code></p> <p>\u7136\u540e\u8fdb\u884c\u7f16\u8bd1\uff1a</p> <pre><code>make -j 16\nmake install\n</code></pre> <p>\u7ecf\u8fc7\u4ee5\u4e0a\u8fc7\u7a0b\uff0cLammps\u53ef\u6267\u884c\u6587\u4ef6<code>lmp_mpi</code>\u5df2\u7ecf\u7f16\u8bd1\u5b8c\u6210\uff0c\u7528\u6237\u53ef\u4ee5\u6267\u884c\u8be5\u7a0b\u5e8f\u8c03\u7528\u8bad\u7ec3\u7684\u52bf\u51fd\u6570\u8fdb\u884cMD\u6a21\u62df\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_191/#dp-cp2k","title":"DP-CP2K \u5b89\u88c5\u6307\u5f15","text":"<p>\u9996\u5148clone\u5bf9\u5e94\u7684\u5b89\u88c5\u5305\uff1a</p> <pre><code>git clone https://github.com/Cloudac7/cp2k.git -b deepmd_latest --recursive --depth=1\n</code></pre> <p>\u7136\u540e\u8fd0\u884c\u76f8\u5e94\u7684Toolchain\u811a\u672c\uff1a</p> <pre><code>cd tools/toolchain/\n./install_cp2k_toolchain.sh --enable-cuda=no --with-deepmd=$deepmd_root --with-tfcc=$tensorflow_root --deepmd-mode=cuda --mpi-mode=no --with-libint=no --with-libxc=no --with-libxsmm=no\n</code></pre> <p>\u6839\u636e\u811a\u672c\u8fd0\u884c\u7ed3\u5c3e\u7684\u63d0\u793a\u590d\u5236arch\u6587\u4ef6\u5e76source\u6240\u9700\u7684\u73af\u5883\u53d8\u91cf\u3002\u6700\u540e\u56de\u5230\u4e3b\u76ee\u5f55\u8fdb\u884c\u7f16\u8bd1\uff1a</p> <pre><code>make -j 4 ARCH=local VERSION=\"ssmp sdbg\"\n</code></pre> <p>\u7f16\u8bd1\u6b63\u786e\u5b8c\u6210\u540e\uff0c\u53ef\u6267\u884c\u6587\u4ef6\u751f\u6210\u5728<code>exe/</code>\u4e0b\uff0c\u5373<code>cp2k.sopt</code>\u3002</p> <p>\u6ce8\u610f\u76ee\u524dDP-CP2K\u6682\u672a\u652f\u6301MPI\uff0c\u56e0\u800c\u8bf7\u5355\u72ec\u7f16\u8bd1\u6b64Serial\u7248\u672c\u3002\u4e14CP2K\u7531\u4e8eIO\u95ee\u9898\uff0c\u6027\u80fd\u76f8\u6bd4Lammps\u4f4e50%\u4ee5\u4e0a\uff0c\u5982\u975e\u521a\u9700\u8fd8\u662f\u5efa\u8bae\u4f7f\u7528Lammps\u8fdb\u884cMD\u6a21\u62df\uff0c\u540e\u8005\u53ef\u63d0\u4f9b\u66f4\u591a\u7279\u6027\u548c\u52a0\u901f\u7684\u652f\u6301\u3002</p> <p>\u540c\u65f6\u76ee\u524d\u5f00\u53d1\u8005\u9047\u5230\u4e00\u4e9b\u56f0\u96be\uff0c\u6545\u63d0\u4ea4\u7684PR\u5c1a\u672a\u66f4\u65b0\u4e14\u7531\u4e8e\u6c89\u9ed8\u8fc7\u4e45\u5df2\u88ab\u5b98\u65b9\u5173\u95ed\u3002\u5982\u8bfb\u8005\u6709\u5728CP2K\u5b9e\u73b0\u5171\u4eab\u72b6\u6001\u7684\u5f00\u53d1\u7ecf\u9a8c\uff0c\u8bf7\u8054\u7cfb\u4f5c\u8005\uff0c\u8c22\u8c22\u3002</p> <p>Now there is some difficulty in implemetion of shared state in CP2K run to decrease IO in each MD step. However, the developer has not find out a proper way as a solution, making the PR silent. If you could provide any experience, please contact me. Thanks!</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/","title":"DeepMD-kit\u5b89\u88c5\uff1a\u65e7\u7248","text":"<p>\u672c\u90e8\u5206\u5199\u4e8e2020\u5e74\uff0c\u9002\u7528\u4e8eDeePMD-kit 1.x \u548c TensorFlow 1.14\u3002\u5bf9\u76ee\u524d\u8f83\u65b0\u7684\u7248\u672c\u53ef\u80fd\u4e0d\u9002\u7528\uff0c\u8bf7\u79fb\u6b65\u5b89\u88c5\u6700\u4f73\u5b9e\u8df5\u548c\u5feb\u901f\u5b89\u88c5\u6559\u7a0b</p> <p>\u80cc\u666f\uff1a\u4ee5 Zeus \u96c6\u7fa4\u4e3a\u4f8b\uff0c\u5728\u670d\u52a1\u5668\u5b89\u88c5DeepMD-kit\u548c\u5305\u542b\u5b8c\u6574\u63a5\u53e3\u7684LAMMPS\u3002</p> <p>\u53c2\u8003\uff1a</p> <p>DeepMD-kit</p> <p>TensorFlow</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#_1","title":"\u521d\u59cb\u73af\u5883\u8bf4\u660e","text":"<p>\u4ee5\u4e0b\u8fc7\u7a0b\u4ee5 Zeus \u96c6\u7fa4\u4e3a\u4f8b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ca\u7248\u672c\u4e3aCentOS 7\uff0c\u91c7\u7528module\u4f5c\u4e3a\u73af\u5883\u7ba1\u7406\u3002</p> <ul> <li>\u901a\u8fc7yum\u5b89\u88c5\uff1a</li> <li>Cmake 3.7</li> <li>GCC 4.8.5</li> <li>Git 1.8.2</li> <li>\u901a\u8fc7module\u52a0\u8f7d</li> <li>CUDA 10.0</li> <li>Miniconda3 (Python 3.7)</li> <li>GCC 4.9.4</li> <li>Intel MPI 2017</li> </ul>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#_2","title":"\u521b\u5efa\u65b0\u7684\u73af\u5883","text":"<p>\u9996\u5148\u51c6\u5907\u5fc5\u8981\u7684\u4f9d\u8d56\u3002</p> <p>\u68c0\u67e5\u53ef\u7528\u7684\u6a21\u5757\uff0c\u5e76\u52a0\u8f7d\u5fc5\u8981\u7684\u6a21\u5757\uff1a</p> <pre><code>module avail\nmodule add cuda/10.0\nmodule add gcc/4.9.4\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u5bfc\u5165\u7684\u662fgcc 4.9.4\u7248\u672c\uff0c\u5982\u679c\u91c7\u7528\u66f4\u4f4e\u7684\u7248\u672c\uff08\u4e0d\u5bfc\u5165gcc\uff09\u5219dp_ipi\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u3002</p> <p>\u7136\u540e\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u6b65\u9aa4\u8bf7\u53c2\u8003Anaconda \u4f7f\u7528\u6307\u5357\u3002</p> <p>\u5047\u8bbe\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u540d\u79f0\u662f <code>deepmd</code>\uff0c\u5219\u8bf7\u5c06\u6b65\u9aa4\u6700\u540e\u7684 <code>&lt;your env name&gt;</code> \u66ff\u6362\u4e3a <code>deepmd</code>\u3002\u82e5\u91c7\u7528\u8be5\u6b65\u9aa4\u7684\u8bbe\u7f6e\uff0c\u5219\u865a\u62df\u73af\u5883\u5c06\u88ab\u521b\u5efa\u5728<code>/data/user/conda/env/deepmd</code>\u4e0b\uff08\u5047\u8bbe\u7528\u6237\u540d\u4e3a<code>user</code>\uff09\u3002</p> <p>\u7531\u4e8eGPU\u8282\u70b9\u4e0d\u80fd\u8054\u7f51\uff0c\u6545\u6211\u4eec\u9700\u8981\u5c06\u6240\u9700\u7684\u9a71\u52a8\u7a0b\u5e8f\u5e93<code>libcuda.so</code>\u548c<code>libcuda.so.1</code>\u624b\u52a8\u94fe\u63a5\u5230\u67d0\u4e2a\u8def\u5f84<code>/some/local/path</code>\u5e76\u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002</p> <pre><code>ln -s /share/cuda/10.0/lib64/stubs/libcuda.so /some/local/path/libcuda.so.1\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/share/cuda/10.0/lib64/stubs:/some/local/path\n</code></pre> <p>\u63d0\u793a</p> <p>\u82e5\u5728 Zeus \u96c6\u7fa4\u4e0a\u5b89\u88c5\uff0c\u7ba1\u7406\u5458\u5df2\u4e8b\u5148\u628a<code>libcuda.so.1</code> \u94fe\u63a5\u5728<code>/share/cuda/10.0/lib64/stubs/</code>\u4e0b\uff0c\u6545\u65e0\u9700\u989d\u5916\u521b\u5efa\u8f6f\u94fe\u63a5\uff0c\u540c\u7406<code>/some/local/path</code>\u4e5f\u65e0\u9700\u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#tensorflowc","title":"\u5b89\u88c5Tensorflow\u7684C++ \u63a5\u53e3","text":"<p>\u4ee5\u4e0b\u5b89\u88c5\uff0c\u5047\u8bbe\u8f6f\u4ef6\u5305\u4e0b\u8f7d\u8def\u5f84\u5747\u4e3a<code>/some/workspace</code>\uff0c \u4ee5TensorFlow 1.14.0\u7248\u672c\u3001DeePMD-kit 1.2.0 \u7248\u672c\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\uff0c\u5176\u4ed6\u7248\u672c\u7684\u6b65\u9aa4\u8bf7\u53c2\u7167\u4fee\u6539\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#bazel","title":"\u4e0b\u8f7d\u5bf9\u5e94\u7684bazel\u5b89\u88c5\u5305","text":"<pre><code>cd /some/workspace\nwget https://github.com/bazelbuild/bazel/releases/download/0.24.0/bazel-0.24.0-installer-linux-x86_64.sh\nchmod +x bazel-0.24.0-installer-linux-x86_64.sh\n./bazel-0.24.0-installer-linux-x86_64.sh --user\nexport PATH=\"$HOME/bin:$PATH\"\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6ce8\u610fbazel\u7684\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u5408\u7406\u7684bazel\u7248\u672c\u8bbe\u7f6e\u8bf7\u53c2\u9605Tensorflow\u5b98\u65b9\u6587\u6863\u4e2d\u7684\u8bf4\u660e\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#tensorflow","title":"\u4e0b\u8f7dTensorFlow\u6e90\u4ee3\u7801","text":"<pre><code>cd /some/workspace \ngit clone https://github.com/tensorflow/tensorflow tensorflow -b v1.14.0 --depth=1\ncd tensorflow\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#tensorflow-c-interface","title":"\u7f16\u8bd1TensorFlow C++ Interface","text":"<p>\u5728<code>tensorflow</code>\u6587\u4ef6\u5939\u4e0b\u8fd0\u884c<code>configure</code>\uff0c\u8bbe\u7f6e\u7f16\u8bd1\u53c2\u6570\u3002</p> <pre><code>./configure\nPlease specify the location of python. [Default is xxx]:\n\nFound possible Python library paths:\n  /xxx/xxx/xxx\nPlease input the desired Python library path to use.  Default is [xxx]\n\nDo you wish to build TensorFlow with XLA JIT support? [Y/n]:\nXLA JIT support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with OpenCL SYCL support? [y/N]:\nNo OpenCL SYCL support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with ROCm support? [y/N]:\nNo ROCm support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with CUDA support? [y/N]: y\nCUDA support will be enabled for TensorFlow.\n\nDo you wish to build TensorFlow with TensorRT support? [y/N]:\nNo TensorRT support will be enabled for TensorFlow.\n\nFound CUDA 10.0 in:\n    /share/cuda/10.0/lib64\n    /share/cuda/10.0/include\nFound cuDNN 7 in:\n    /share/cuda/10.0/lib64\n    /share/cuda/10.0/include\n\nPlease specify a list of comma-separated CUDA compute capabilities you want to build with.\nYou can find the compute capability of your device at: https://developer.nvidia.com/cuda-gpus.\nPlease note that each additional compute capability significantly increases your build time and binary size, and that TensorFlow only supports compute capabilities &gt;= 3.5 [Default is: 3.5,7.0]:\n\nDo you want to use clang as CUDA compiler? [y/N]:\nnvcc will be used as CUDA compiler.\n\nPlease specify which gcc should be used by nvcc as the host compiler. [Default is /share/apps/gcc/4.9.4/bin/gcc]:\n\nDo you wish to build TensorFlow with MPI support? [y/N]:\nNo MPI support will be enabled for TensorFlow.\n\nPlease specify optimization flags to use during compilation when bazel option \"--config=opt\" is specified [Default is -march=native -Wno-sign-compare]:\n\nWould you like to interactively configure ./WORKSPACE for Android builds? [y/N]:\nNot configuring the WORKSPACE for Android builds.\n\nPreconfigured Bazel build configs. You can use any of the below by adding \"--config=&lt;&gt;\" to your build command. See .bazelrc for more details.\n    --config=mkl             # Build with MKL support.\n    --config=monolithic      # Config for mostly static monolithic build.\n    --config=gdr             # Build with GDR support.\n    --config=verbs           # Build with libverbs support.\n    --config=ngraph          # Build with Intel nGraph support.\n    --config=numa            # Build with NUMA support.\n    --config=dynamic_kernels    # (Experimental) Build kernels into separate shared objects.\n    --config=v2              # Build TensorFlow 2.x instead of 1.x.\nPreconfigured Bazel build configs to DISABLE default on features:\n    --config=noaws           # Disable AWS S3 filesystem support.\n    --config=nogcp           # Disable GCP support.\n    --config=nohdfs          # Disable HDFS support.\n    --config=noignite        # Disable Apache Ignite support.\n    --config=nokafka         # Disable Apache Kafka support.\n    --config=nonccl          # Disable NVIDIA NCCL support.\nConfiguration finished\n</code></pre> <p>\u6ce8\u610f</p> <p>\u82e5\u91c7\u7528\u524d\u6587\u5bfc\u5165\u7684GCC 4.9.4\u7248\u672c\uff0c\u8bf7\u6839\u636e<code>which gcc</code>\u7684\u8f93\u51fa\u5224\u65adGCC\u7684\u5b89\u88c5\u8def\u5f84\u3002\u4f46\u4e00\u822c\u60c5\u51b5\u4e0b\u5b89\u88c5\u7a0b\u5e8f\u53ef\u4ee5\u76f4\u63a5\u68c0\u6d4b\u5230\u6b63\u786e\u8def\u5f84\u3002</p> <p>\u968f\u540e\u8fdb\u884c\u7f16\u8bd1\uff0c\u7531\u4e8e\u65f6\u95f4\u8f83\u957f\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528screen\u6216\u8005tmux\u5c06\u8fdb\u7a0b\u653e\u7f6e\u5728\u540e\u53f0\u3002</p> <pre><code>bazel build -c opt --verbose_failures //tensorflow:libtensorflow_cc.so\n</code></pre> <p>\u8bf4\u660e</p> <p>\u5b89\u88c5\u9ad8\u7248\u672cTensorflow\uff08\u59822.1.0\uff09\u65f6\uff0c\u82e5\u63d0\u793a\u6ca1\u6709<code>git -c</code>\u7684\u547d\u4ee4\uff0c\u8bf7\u5347\u7ea7git\u5230\u6700\u65b0\u7248\u3002\u7528\u6237\u53ef\u80fd\u9700\u8981\u5728\u672c\u5730\u8fdb\u884c\u7f16\u8bd1\u5e76\u52a0\u5165\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u63d0\u793a</p> <p>\u4e00\u822c\u60c5\u51b5\u4e0b\uff0cbazel\u9ed8\u8ba4\u5728<code>~/.cache/bazel</code>\u4e0b\u8fdb\u884c\u7f16\u8bd1\u3002\u7531\u4e8e\u7f16\u8bd1\u6240\u9700\u786c\u76d8\u7a7a\u95f4\u8f83\u5927\uff0c\u5982\u6709\u9700\u8981\uff0c\u8bf7\u5728\u8fd0\u884cbazel\u524d\u91c7\u7528\u73af\u5883\u53d8\u91cf\u6307\u5b9a\u7f16\u8bd1\u7528\u4e34\u65f6\u6587\u4ef6\u5939\uff0c\u4ee5<code>/data/user/.bazel</code>\u4e3a\u4f8b\uff1a<pre><code>export TEST_TMPDIR=/data/user/.bazel</code></pre></p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#_3","title":"\u6574\u5408\u8fd0\u884c\u5e93\u4e0e\u5934\u6587\u4ef6","text":"<p>\u5047\u8bbeTensorflow C++ \u63a5\u53e3\u5b89\u88c5\u5728<code>/some/workspace/tensorflow_root</code>\u4e0b\uff0c\u5219\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>export tensorflow_root=/some/workspace/tensorflow_root\n</code></pre> <p>\u521b\u5efa\u4e0a\u8ff0\u6587\u4ef6\u5939\u5e76\u4ece\u7f16\u8bd1\u7ed3\u679c\u4e2d\u62bd\u53d6\u8fd0\u884c\u5e93\u548c\u5934\u6587\u4ef6\u3002</p> <pre><code>mkdir -p $tensorflow_root\n\nmkdir $tensorflow_root/lib\ncp -d bazel-bin/tensorflow/libtensorflow_cc.so* $tensorflow_root/lib/\ncp -d bazel-bin/tensorflow/libtensorflow_framework.so* $tensorflow_root/lib/\ncp -d $tensorflow_root/lib/libtensorflow_framework.so.1 $tensorflow_root/lib/libtensorflow_framework.so\n\nmkdir -p $tensorflow_root/include/tensorflow\ncp -r bazel-genfiles/* $tensorflow_root/include/\ncp -r tensorflow/cc $tensorflow_root/include/tensorflow\ncp -r tensorflow/core $tensorflow_root/include/tensorflow\ncp -r third_party $tensorflow_root/include\ncp -r bazel-tensorflow/external/eigen_archive/Eigen/ $tensorflow_root/include\ncp -r bazel-tensorflow/external/eigen_archive/unsupported/ $tensorflow_root/include\nrsync -avzh --include '*/' --include '*.h' --include '*.inc' --exclude '*' bazel-tensorflow/external/protobuf_archive/src/ $tensorflow_root/include/\nrsync -avzh --include '*/' --include '*.h' --include '*.inc' --exclude '*' bazel-tensorflow/external/com_google_absl/absl/ $tensorflow_root/include/absl\n</code></pre> <p>\u6e05\u7406\u76ee\u6807\u76ee\u5f55\u4e0b\u8d58\u4f59\u7684\u6e90\u4ee3\u7801\u6587\u4ef6\uff0c\u4fdd\u7559\u7f16\u8bd1\u597d\u7684\u63a5\u53e3\u3002</p> <pre><code>cd $tensorflow_root/include\nfind . -name \"*.cc\" -type f -delete\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#deepmd-kitpython","title":"\u5b89\u88c5DeePMD-kit\u7684Python\u63a5\u53e3","text":"<p>\u9996\u5148\u5b89\u88c5Tensorflow\u7684Python\u63a5\u53e3</p> <pre><code>pip install tensorflow-gpu==1.14.0\n</code></pre> <p>\u82e5\u63d0\u793a\u5df2\u5b89\u88c5\uff0c\u8bf7\u4f7f\u7528<code>--upgrade</code>\u9009\u9879\u8fdb\u884c\u8986\u76d6\u5b89\u88c5\u3002\u82e5\u63d0\u793a\u6743\u9650\u4e0d\u8db3\uff0c\u8bf7\u4f7f\u7528<code>--user</code>\u9009\u9879\u5728\u5f53\u524d\u8d26\u53f7\u4e0b\u5b89\u88c5\u3002</p> <p>\u7136\u540e\u4e0b\u8f7dDeePMD-kit\u7684\u6e90\u4ee3\u7801\u3002</p> <pre><code>cd /some/workspace\ngit clone --recursive https://github.com/deepmodeling/deepmd-kit.git deepmd-kit\n</code></pre> <p>\u5728\u8fd0\u884cgit clone\u65f6\u8bb0\u5f97\u8981<code>--recursive</code>\uff0c\u8fd9\u6837\u624d\u53ef\u4ee5\u5c06\u5168\u90e8\u6587\u4ef6\u6b63\u786e\u4e0b\u8f7d\u4e0b\u6765\uff0c\u5426\u5219\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4f1a\u62a5\u9519\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u4e0d\u614e\u6f0f\u4e86<code>--recursive</code>\uff0c \u53ef\u4ee5\u91c7\u53d6\u4ee5\u4e0b\u7684\u8865\u6551\u65b9\u6cd5\uff1a</p> <pre><code>git submodule update --init --recursive\n</code></pre> <p>\" %}</p> <p>\u968f\u540e\u901a\u8fc7pip\u5b89\u88c5DeePMD-kit\uff1a</p> <pre><code>cd deepmd-kit\npip install .\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#deepmd-kitc","title":"\u5b89\u88c5DeePMD-kit\u7684C++ \u63a5\u53e3","text":"<p>\u5ef6\u7eed\u4e0a\u9762\u7684\u6b65\u9aa4\uff0c\u4e0b\u9762\u5f00\u59cb\u7f16\u8bd1DeePMD-kit C++\u63a5\u53e3\uff1a</p> <pre><code>deepmd_source_dir=`pwd`\ncd $deepmd_source_dir/source\nmkdir build \ncd build\n</code></pre> <p>\u5047\u8bbeDeePMD-kit C++ \u63a5\u53e3\u5b89\u88c5\u5728<code>/some/workspace/deepmd_root</code>\u4e0b\uff0c\u5b9a\u4e49\u5b89\u88c5\u8def\u5f84<code>deepmd_root</code>\uff1a</p> <pre><code>export deepmd_root=/some/workspace/deepmd_root\n</code></pre> <p>\u4fee\u6539\u73af\u5883\u53d8\u91cf\u4ee5\u4f7f\u5f97cmake\u6b63\u786e\u6307\u5b9a\u7f16\u8bd1\u5668\uff1a</p> <pre><code>export CC=`which gcc`\nexport CXX=`which g++`\n</code></pre> <p>\u5728build\u76ee\u5f55\u4e0b\u8fd0\u884c\uff1a</p> <pre><code>cmake -DTENSORFLOW_ROOT=$tensorflow_root -DCMAKE_INSTALL_PREFIX=$deepmd_root ..\n</code></pre> <p>\u82e5\u901a\u8fc7yum\u540c\u65f6\u5b89\u88c5\u4e86Cmake 2\u548cCmake 3\uff0c\u8bf7\u5c06\u4ee5\u4e0a\u7684<code>cmake</code>\u5207\u6362\u4e3a<code>cmake3</code>\u3002</p> <p>\u6700\u540e\u7f16\u8bd1\u5e76\u5b89\u88c5\uff1a</p> <pre><code>make\nmake install\n</code></pre> <p>\u82e5\u65e0\u62a5\u9519\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6267\u884c\u68c0\u67e5\u662f\u5426\u6709\u6b63\u786e\u8f93\u51fa\uff1a</p> <pre><code>$ ls $deepmd_root/bin\ndp_ipi\n$ ls $deepmd_root/lib\nlibdeepmd_ipi.so  libdeepmd_op.so  libdeepmd.so\n</code></pre> <p>\u56e0\u4e3aGCC\u7248\u672c\u5dee\u522b\uff0c\u53ef\u80fd\u6ca1\u6709<code>$deepmd_root/bin/dp_ipi</code>\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_51/#lammpsdeepmd-kit","title":"\u5b89\u88c5LAMMPS\u7684DeePMD-kit\u6a21\u5757","text":"<p>\u63a5\u4e0b\u6765\u5b89\u88c5</p> <pre><code>cd $deepmd_source_dir/source/build\nmake lammps\n</code></pre> <p>\u6b64\u65f6\u5728<code>$deepmd_source_dir/source/build</code>\u4e0b\u4f1a\u51fa\u73b0<code>USER-DEEPMD</code>\u7684LAMMPS\u62d3\u5c55\u5305\u3002</p> <p>\u4e0b\u8f7dLAMMPS\u5b89\u88c5\u5305\uff0c\u6309\u7167\u5e38\u89c4\u65b9\u6cd5\u7f16\u8bd1LAMMPS\uff1a</p> <pre><code>cd /some/workspace\n# Download Lammps latest release\nwget -c https://lammps.sandia.gov/tars/lammps-stable.tar.gz\ntar xf lammps-stable.tar.gz\ncd lammps-*/src/\ncp -r $deepmd_source_dir/source/build/USER-DEEPMD .\n</code></pre> <p>\u9009\u62e9\u9700\u8981\u7f16\u8bd1\u7684\u5305\uff08\u82e5\u9700\u8981\u5b89\u88c5\u5176\u4ed6\u5305\uff0c\u8bf7\u53c2\u8003Lammps\u5b98\u65b9\u6587\u6863\uff09\uff1a</p> <pre><code>make yes-user-deepmd\nmake yes-kspace\n</code></pre> <p>\u5982\u679c\u6ca1\u6709<code>make yes-kspace</code> \u4f1a\u56e0\u7f3a\u5c11<code>pppm.h</code>\u62a5\u9519\u3002</p> <p>\u52a0\u8f7dMPI\u73af\u5883\uff0c\u5e76\u91c7\u7528MPI\u65b9\u5f0f\u7f16\u8bd1Lammps\u53ef\u6267\u884c\u6587\u4ef6\uff1a</p> <pre><code>module load intel/17u5 mpi/intel/17u5\nmake mpi -j4\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6b64\u5904\u4f7f\u7528\u7684GCC\u7248\u672c\u5e94\u4e0e\u4e4b\u524d\u7f16\u8bd1Tensorflow C++\u63a5\u53e3\u548cDeePMD-kit C++\u63a5\u53e3\u4e00\u81f4\uff0c\u5426\u5219\u53ef\u80fd\u4f1a\u62a5\u9519\uff1a<code>@GLIBCXX_3.4.XX</code>\u3002\u5982\u679c\u5728\u524d\u9762\u7684\u5b89\u88c5\u4e2d\u5df2\u7ecf\u52a0\u8f7d\u4e86GCC 4.9.4\uff0c\u8bf7\u5728\u8fd9\u91cc\u4e5f\u4fdd\u6301\u76f8\u5e94\u73af\u5883\u7684\u52a0\u8f7d\u3002</p> <p>\u7ecf\u8fc7\u4ee5\u4e0a\u8fc7\u7a0b\uff0cLammps\u53ef\u6267\u884c\u6587\u4ef6<code>lmp_mpi</code>\u5df2\u7ecf\u7f16\u8bd1\u5b8c\u6210\uff0c\u7528\u6237\u53ef\u4ee5\u6267\u884c\u8be5\u7a0b\u5e8f\u8c03\u7528\u8bad\u7ec3\u7684\u52bf\u51fd\u6570\u8fdb\u884cMD\u6a21\u62df\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_ikkem/","title":"DeePMD-kit\u5b89\u88c5\u5b9e\u6218\uff1a\u5609\u5e9a\u8d85\u7b97","text":"<p>\u5609\u5e9a\u8d85\u7b97\u4e2d\u5fc3\u6ca1\u6709\u7edf\u4e00\u5b89\u88c5DeepMD-kit\u8f6f\u4ef6\uff0c\u7528\u6237\u4f7f\u7528\u524d\u9700\u8981\u81ea\u884c\u7f16\u8bd1\u3002\u672c\u6587\u53c2\u8003\u6700\u4f73\u5b9e\u8df5\uff0c\u57fa\u4e8e\u5609\u5e9a\u8d85\u7b97\u9884\u88c5\u7684\u6a21\u5757\u8fdb\u884c\u3002\u6b64\u5904\u4ee5DeepMD-kit v2.2.0\u7248\u672c\u4e3a\u4f8b\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_ikkem/#_1","title":"\u521d\u6b21\u5b89\u88c5","text":"<ol> <li> <p>\u521b\u5efa\u865a\u62df\u73af\u5883\uff08\u6b64\u5904\u4ee5<code>deepmd</code>\u4e3a\u4f8b\uff09</p> <pre><code>module load anaconda/2020.3\nconda create -n deepmd python=3.9\n</code></pre> </li> <li> <p>\uff08\u53ef\u9009\uff09\u865a\u62df\u73af\u5883\u6fc0\u6d3b/\u9000\u51fa\u7684\u914d\u7f6e\uff0c\u4e5f\u53ef\u5c06<code>activate.sh</code>\u4e2d\u4ee3\u7801\u6bcf\u6b21\u624b\u52a8\u8bbe\u7f6e</p> <pre><code># replace your own username here!\nmkdir -p $CONDA_PREFIX/etc/conda/activate.d\ntouch $CONDA_PREFIX/etc/conda/activate.d/activate.sh\nmkdir -p $CONDA_PREFIX/etc/conda/deactivate.d\ntouch $CONDA_PREFIX/etc/conda/deactivate.d/deactivate.sh\nconda env config vars set LD_LIBRARY_PATH=$tensorflow_root/lib:$deepmd_root/lib:$CONDA_PREFIX/lib:$LD_LIBRARY_PATH\n</code></pre> <ul> <li><code>$CONDA_PREFIX/etc/conda/activate.d/activate.sh</code></li> </ul> <pre><code>module load intel/2018.3\nmodule load gcc/9.2\nmodule load cmake/3.21\nmodule load cuda/11.3\nmodule load lammps/2022.6.23\n\nexport CC=`which gcc`\nexport CXX=`which g++`\nexport FC=`which gfortran`\n\n# replace CONDA_PREFIX and deepmd_source_dir!!!\nexport deepmd_source_dir=/public/home/username/apps/deepmd-2.2.0\nexport tensorflow_root=$deepmd_source_dir/_skbuild/tensorflow_root\nexport deepmd_root=$deepmd_source_dir/_skbuild/deepmd_root\nexport LAMMPS_PLUGIN_PATH=$deepmd_root/lib/deepmd_lmp\n</code></pre> <ul> <li><code>$CONDA_PREFIX/etc/conda/deactivate.d/deactivate.sh</code></li> </ul> <pre><code>module unload intel/2018.3\nmodule unload gcc/9.2\nmodule unload cmake/3.21\nmodule unload cuda/11.3\nmodule unload lammps/2022.6.23\n\nunset deepmd_source_dir\nunset tensorflow_root\nunset deepmd_root\nunset LAMMPS_PLUGIN_PATH\n</code></pre> <p>\u8bbe\u7f6e\u597d\u540e\uff0c\u91cd\u542f\u865a\u62df\u73af\u5883\u3002\u6b64\u540e\u6bcf\u6b21\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u65f6\uff0c\u4f1a\u81ea\u52a8\u52a0\u8f7d\u76f8\u5e94\u7684\u6a21\u5757\u3002 3. \u8bad\u7ec3\u4ee3\u7801\u5b89\u88c5</p> <p><pre><code>pip install tensorflow==2.7 --upgrade\npip install scikit-build ninja\npip install protobuf==3.20\ncd $deepmd_source_dir\nexport DP_VARIANT=cuda\npip install .\n</code></pre> 4. (\u53ef\u9009)\u7b2c\u4e09\u65b9\u63a5\u53e3\u5b89\u88c5</p> <pre><code>mkdir -p $tensorflow_root/lib \ncd $tensorflow_root\nln -s $CONDA_PREFIX/lib/python3.9/site-packages/tensorflow/include .\ncd lib\nln -s $CONDA_PREFIX/lib/python3.9/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so libtensorflow_cc.so\nln -s $CONDA_PREFIX/lib/python3.9/site-packages/tensorflow/libtensorflow_framework.so.2 .\nln -s libtensorflow_framework.so.2 libtensorflow_framework.so\n\nmkdir -p $deepmd_source_dir/source/build\nmkdir -p $deepmd_root\ncd $deepmd_source_dir/source/build\ncmake -DLAMMPS_SOURCE_ROOT=/public/software/lammps/lammps-2022.6.23-intel -DUSE_TF_PYTHON_LIBS=TRUE -DUSE_CUDA_TOOLKIT=TRUE -DTENSORFLOW_ROOT=$tensorflow_root -DCMAKE_INSTALL_PREFIX=$deepmd_root ..\nmake -j20\nmake install\n</code></pre> </li> </ol>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_ikkem/#_2","title":"\u4ee3\u7801\u66f4\u65b0","text":"<ol> <li> <p>Python\u4ee3\u7801</p> <pre><code>cd $deepmd_source_dir\nexport DP_VARIANT=cuda\npip install .\n</code></pre> </li> <li> <p>C++\u4ee3\u7801</p> <pre><code>cd $deepmd_source_dir/source/build\nmake -j20\nmake install\n</code></pre> </li> </ol>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/","title":"DeepMD-kit\u5b89\u88c5\u6700\u4f73\u5b9e\u8df5","text":"<p>\u80cc\u666f\uff1a\u4ee5 Zeus \u96c6\u7fa4\u4e3a\u4f8b\uff0c\u5728\u670d\u52a1\u5668\u901a\u8fc7\u6e90\u4ee3\u7801\u7f16\u8bd1\u5b89\u88c5DeepMD-kit\u548c\u5305\u542b\u5b8c\u6574\u63a5\u53e3\u7684LAMMPS\u3002\u867d\u7136\u5b98\u65b9\u5df2\u7ecf\u63d0\u4f9b\u4e86\u901a\u8fc7 Conda \u4e00\u952e\u5b89\u88c5\u7684\u65b9\u6cd5\uff0c\u4f46\u7531\u4e8e\u6b64\u6cd5\u6240\u5b89\u88c5\u7684\u5404\u4e2a\u7ec4\u4ef6\u5747\u4e3a\u9884\u7f16\u8bd1\u7248\u672c\uff0c\u56e0\u800c\u9488\u5bf9\u8bfe\u9898\u5b9e\u9645\u60c5\u51b5\u65e0\u6cd5\u505a\u66f4\u591a\u62d3\u5c55\u548c\u6539\u52a8\uff0c\u4e14\u901a\u8fc7 Conda \u5b89\u88c5\u7684 Protobuf \u5b58\u5728\u7248\u672c\u51b2\u7a81\uff0c\u65e0\u6cd5\u8fdb\u4e00\u6b65\u7f16\u8bd1\u5176\u4ed6\u63a5\u53e3\u3002\u8fd9\u91cc\u4ecb\u7ecd\u4e00\u79cd\u65b9\u6cd5\uff0c\u901a\u8fc7 Conda \u5b89\u88c5\u901a\u5e38\u4e0d\u9700\u8981\u6539\u52a8\u7684TensorFlow C++ Interface\uff0c\u5176\u4f59\u90e8\u5206\u4ecd\u624b\u52a8\u7f16\u8bd1\u3002\u7531\u4e8e\u76ee\u524d\u65b0\u7248Lammps\u5df2\u7ecf\u63d0\u4f9bPlugin\u652f\u6301\uff0cDeePMD\u4ea6\u652f\u6301\u901a\u8fc7Plugin\u8c03\u7528\uff0c\u6545\u53ef\u4ee4\u7ec4\u4ef6\u4e4b\u95f4\u76f8\u4e92\u89e3\u8026\u3001\u51cf\u5c11\u540e\u7eed\u5b89\u88c5\u7684\u5de5\u5e8f\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#_1","title":"\u521d\u59cb\u73af\u5883\u8bf4\u660e","text":"<p>\u4ee5\u4e0b\u8fc7\u7a0b\u4ee5 Zeus \u96c6\u7fa4\u4e3a\u4f8b\uff0c\u64cd\u4f5c\u7cfb\u7edf\u53ca\u7248\u672c\u4e3aCentOS 7\uff0c\u7ba1\u7406\u8282\u70b9\u8054\u7f51\uff0c\u91c7\u7528module\u4f5c\u4e3a\u73af\u5883\u7ba1\u7406\u3002</p> <p>\u4ee5\u4e0b\u662f\u9884\u5148\u914d\u7f6e\u597d\u7684\u73af\u5883\uff0c\u5bf9\u4e8e\u5176\u4ed6\u96c6\u7fa4\uff0c\u53ef\u4ee5\u6b64\u8981\u6c42\u51c6\u5907\u73af\u5883\uff0c\u5176\u4e2d Intel MPI \u53ef\u4ee5\u7528 MPICH \u4ee3\u66ff\uff0c\u5176\u4f59\u7ec4\u4ef6\u8bf7\u81ea\u884c\u5b89\u88c5\u3002\u6ce8\u610fCUDA 11.3\u5bf9Nvidia\u9a71\u52a8\u7248\u672c\u6709\u8981\u6c42\uff0c\u9700\u8981\u9884\u5148\u68c0\u67e5\u597d\uff08\u53ef\u7528<code>nvidia-smi</code>\u5feb\u901f\u67e5\u770b\uff09\u3002</p> <ul> <li>\u901a\u8fc7yum\u5b89\u88c5</li> <li>Git &gt;= 1.8.2</li> <li>\u901a\u8fc7module\u52a0\u8f7d</li> <li>CUDA 11.3</li> <li>Miniconda 3</li> <li>GCC &gt;= 7.4.0</li> <li>Intel MPI 2017 \uff08\u6682\u672a\u5bf9\u5176\u4ed6\u7248\u672c\u8fdb\u884c\u6d4b\u8bd5\uff09</li> </ul> <p>\u7248\u672c\u53f7\u4ec5\u4f9b\u53c2\u8003\uff0c\u5b9e\u9645\u5b89\u88c5\u56e0\u4eba\u800c\u5f02\uff0c\u53c2\u8003\u6267\u884c\u5373\u53ef\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#deepmd-kit_1","title":"DeePMD-kit \u5e38\u7528\u7ec4\u4ef6\u5173\u7cfb","text":"<pre><code>flowchart TB\n  tfcpp(TensorFlow C++ Interface) -.-&gt; tfpy(TensorFlow Python Interface)\n  tfpy --&gt; dppy(DeePMD Python Interface)\n  dpcpp(DeePMD C++ Interface) -.-&gt; dppy\n  tfcpp --&gt; dpcpp\n  dpcpp --&gt; lmp(DeePMD Lammps API)\n  tfcpp --&gt; lmp</code></pre> <p>\u5982\u56fe\u6240\u793a\u5c55\u793a\u4e86DeePMD-kit\u5404\u4e2a\u5e38\u7528\u7ec4\u4ef6\u4e4b\u95f4\u7684\u8054\u7cfb\uff0c\u9700\u8981\u58f0\u660e\u7684\u662f\uff0c\u56fe\u793a\u5e76\u975e\u5bf9\u4ee3\u7801\u7684\u4e25\u8c28\u89e3\u6790\uff0c\u4ec5\u4ec5\u662f\u5bf9\u7ec4\u7ec7\u7ed3\u6784\u7684\u76f4\u89c2\u8868\u73b0\u3002</p> <p>\u52bf\u51fd\u6570\u8bad\u7ec3\u8fc7\u7a0b\u901a\u5e38\u4f9d\u8d56\u4e8eDeePMD Python Interface\uff0c\u8fd9\u4e00\u90e8\u5206\u5728\u7528 Pip \u5b89\u88c5\u65f6\u5373\u4f9d\u8d56\u4e8eTensorFlow\u7684Python Interface\uff0c\u56e0\u6b64\u5728\u56fe\u4e2d\u7528\u5b9e\u7ebf\u7bad\u5934\u8868\u793a\u3002\u800c\u7528Pip\u5b89\u88c5\u7684TensorFlow Wheel\u5df2\u7ecf\u9884\u5148\u7f16\u8bd1\u4e86\u5e95\u5c42\u6240\u9700\u7684Tensorflow C++ Interface\uff0c\u8fd9\u4e00\u9690\u542b\u7684\u4f9d\u8d56\u7528\u865a\u7ebf\u7bad\u5934\u8868\u793a\u3002\u7c7b\u4f3c\u5730\uff0cDeePMD-kit\u5728Pip\u5b89\u88c5\u65f6\u4e5f\u4f1a\u8c03\u7528CMake\u6765\u7f16\u8bd1\u4e00\u90e8\u5206\u6240\u9700\u7684C++\u5e93\uff0c\u56e0\u800c\u4e5f\u5b58\u5728\u7c7b\u4f3c\u7684\u5173\u7cfb\u3002</p> <p>\u5f53\u7528\u8bad\u7ec3\u597d\u7684\u52bf\u51fd\u6570\u6765\u8fdb\u884cMD\u6a21\u62df\u65f6\uff0c\u5219\u9700\u8981\u8fd0\u884cLammps\u7b49\u5206\u5b50\u52a8\u529b\u5b66\u8f6f\u4ef6\u8c03\u7528DeePMD-kit\u63a5\u53e3\u3002\u4ee5Lammps\u4e3a\u4f8b\uff0c\u73b0\u6709\u7684\u4e24\u79cd\u65b9\u5f0f\u5206\u522b\u662f\uff1a   - \u5728Lammps\u5b89\u88c5\u65f6\u5373\u989d\u5916\u7f16\u8bd1DeePMD API\uff08\u5373<code>USER-DEEPMD</code>\uff09   - \u7f16\u8bd1DeePMD Plugin\uff0c\u7531\u652f\u6301Plugin\u7684Lammps\u7248\u672c\u8c03\u7528</p> <p>\u8fd9\u4e24\u79cd\u65b9\u5f0f\u5728\u7f16\u8bd1\u65f6\u5747\u9700\u8981\u8c03\u7528DeePMD-kit\u548cTensorFlow\u7684C++ Interface\uff0c\u6545\u5728\u56fe\u4e2d\u4e5f\u7528\u5b9e\u7ebf\u8868\u793a\u3002\u800cTensorFlow C++ Interface\u5b9e\u9645\u4e0a\u53ef\u7531\u6e90\u4ee3\u7801\u7ed3\u5408\u5fc5\u8981\u7684\u5e95\u5c42\u4f9d\u8d56\uff08\u5982GCC\u3001CUDA\u7b49\uff09\u72ec\u7acb\u7f16\u8bd1\uff0cDeePMD-kit C++ Interface\u53ea\u9700\u5728TensorFlow C++ Interface\u57fa\u7840\u4e0a\u8fdb\u884c\u7f16\u8bd1\uff08\u56fe\u4e2d\u5b9e\u7ebf\u7bad\u5934\uff09\u3002</p> <p>\u56e0\u800c\u5728\u5b9e\u9645\u5904\u7406\u5b89\u88c5\u5173\u7cfb\u65f6\uff0c\u6211\u4eec\u4e5f\u53ef\u4ee5\u91c7\u7528\u76f8\u5bf9\u72ec\u7acb\u7684\u7f16\u8bd1\u65b9\u5f0f\u6765\u6700\u5927\u5316\u89e3\u8026\u7ec4\u4ef6\u3002\u4e0b\u6587\u7684\u601d\u8def\u5c06\u6309\u4ee5\u4e0b\u6b65\u9aa4\u5c55\u5f00\uff1a</p> <ol> <li>\u5efa\u7acb\u72ec\u7acb\u7684Conda\u73af\u5883\uff0c\u7528 Pip \u5b89\u88c5 TensorFlow \u548c DeePMD-kit\uff0c\u63d0\u4f9b\u52bf\u51fd\u6570\u8bad\u7ec3\u529f\u80fd\uff1b</li> <li>\u7ed3\u5408\u5fc5\u8981\u7684\u7ec4\u4ef6\u3001\u73af\u5883\u7b49\u7f16\u8bd1Lammps\uff0c\u63d0\u4f9b\u7ecf\u5178\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u529f\u80fd\uff1b</li> <li>\u7f16\u8bd1 DeePMD C++ Interface\uff0c\u5728\u6b64\u57fa\u7840\u4e0a\u7f16\u8bd1 DeePMD-kit Lammps Plugin\u4f9bLammps\u8c03\u7528\uff0c\u63d0\u4f9b DeePMD \u6a21\u62df\u529f\u80fd\uff1b</li> <li>\u7f16\u8bd1 DeePMD CP2K API \u548c\u5bf9\u5e94\u7684CP2K\u7248\u672c\uff08No free lunch.\uff09</li> </ol>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#deepmd-kit-python-interface","title":"\u5b89\u88c5DeePMD-kit Python Interface","text":""},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#_2","title":"\u521b\u5efa\u65b0\u7684\u73af\u5883","text":"<p>\u9996\u5148\u51c6\u5907\u5fc5\u8981\u7684\u4f9d\u8d56\u3002</p> <p>\u68c0\u67e5\u53ef\u7528\u7684\u6a21\u5757\uff0c\u5e76\u52a0\u8f7d\u5fc5\u8981\u7684\u6a21\u5757\uff1a</p> <pre><code>module avail\nmodule add cuda/11.3\nmodule add gcc/7.4.0\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u5bfc\u5165\u7684\u662fGCC 7.4.0\u7248\u672c\uff0c\u5982\u679c\u91c7\u7528\u4f4e\u4e8e4.9.4\u7684\u7248\u672c\uff08\u4e0d\u5bfc\u5165GCC\uff09\u5219dp_ipi\u4e0d\u4f1a\u88ab\u7f16\u8bd1\u3002</p> <p>\u7136\u540e\u521b\u5efa\u865a\u62df\u73af\u5883\uff0c\u6b65\u9aa4\u8bf7\u53c2\u8003Anaconda \u4f7f\u7528\u6307\u5357\u3002</p> <p>\u5047\u8bbe\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u540d\u79f0\u662f <code>deepmd</code>\uff0c\u5219\u8bf7\u5c06\u6b65\u9aa4\u6700\u540e\u7684 <code>&lt;your env name&gt;</code> \u66ff\u6362\u4e3a <code>deepmd</code>\u3002\u82e5\u91c7\u7528\u8be5\u6b65\u9aa4\u7684\u8bbe\u7f6e\uff0c\u5219\u865a\u62df\u73af\u5883\u5c06\u88ab\u521b\u5efa\u5728<code>/data/user/conda/env/deepmd</code>\u4e0b\uff08\u5047\u8bbe\u7528\u6237\u540d\u4e3a<code>user</code>\uff09\u3002</p> <pre><code>conda create -n deepmd python=3.9\nconda activate deepmd\n</code></pre> <p>\u6ce8\u610f\u8bf7\u52a1\u5fc5\u4e3a\u521b\u5efa\u7684\u865a\u62df\u73af\u5883\u5b89\u88c5\u6240\u9700\u7684Python\u73af\u5883\u3002\u901a\u5e38\u4e0d\u6307\u5b9aPython\u7248\u672c\u53f7\u7684\u60c5\u51b5\u4e0b\uff08\u4f8b\u5982\u6587\u4e2d\u7684\u6b65\u9aa4<code>conda create -n &lt;your env name&gt; python</code>\uff09\u4f1a\u5b89\u88c5Conda\u63a8\u8350\u7684\u6700\u65b0\u7248\u672c\uff0c\u5982\u9700\u8981\u66ff\u4ee3\u8bf7\u5bf9\u5e94\u6307\u5b9a\uff0c\u5982<code>conda create -n deepmd python=3.10</code>\u3002</p> <p>\u5bf9\u4e8e\u65e0\u6cd5\u8054\u7f51\u7684\u8282\u70b9\uff0c\u5728\u7f16\u8bd1\u65f6\u9700\u8981\u5c06\u6240\u9700\u7684\u9a71\u52a8\u7a0b\u5e8f\u5e93\u7684\u7b26\u53f7\u5e93<code>libcuda.so</code>\u4ee5<code>libcuda.so.1</code>\u7684\u540d\u79f0\u624b\u52a8\u94fe\u63a5\u5230\u67d0\u4e2a\u5177\u6709\u6743\u9650\u7684\u8def\u5f84<code>/some/local/path</code>\u5e76\u5206\u522b\u52a0\u5165\u73af\u5883\u53d8\u91cf\uff0c\u4ee5\u901a\u8fc7\u7f16\u8bd1\u6d41\u7a0b\uff1a</p> <pre><code>ln -s /data/share/apps/cuda/11.3/lib64/stubs/libcuda.so /some/local/path/libcuda.so.1\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/share/apps/cuda/11.3/lib64/stubs:/some/local/path\n</code></pre> <p>\u63d0\u793a</p> <p>\u82e5\u5728Zeus \u96c6\u7fa4\u4e0a\u5b89\u88c5\uff0c\u7ba1\u7406\u5458\u5df2\u4e8b\u5148\u628a<code>libcuda.so.1</code> \u94fe\u63a5\u5728<code>/data/share/apps/cuda/11.3/lib64/stubs/</code>\u4e0b\uff0c\u6545\u65e0\u9700\u989d\u5916\u521b\u5efa\u8f6f\u94fe\u63a5\uff0c\u540c\u7406<code>/some/local/path</code>\u4e5f\u65e0\u9700\u52a0\u5165\u73af\u5883\u53d8\u91cf\uff0c\u4f46\u4ecd\u9700\u8981\u9a71\u52a8\u7a0b\u5e8f\u5e93\u7684\u7b26\u53f7\u94fe\u63a5<code>libcuda.so</code>\u3002\u6ce8\u610f\u8fd9\u4e00\u6b65\u9aa4\u6267\u884c\u540e\uff0c\u5b9e\u9645\u8fd0\u884c\u65f6\u9700\u8981\u4ece\u73af\u5883\u53d8\u91cf\u4e2d\u79fb\u9664</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#deepmd-kitpython","title":"\u5b89\u88c5DeePMD-kit\u7684Python\u63a5\u53e3","text":"<p>\u4ee5\u9632\u4e07\u4e00\u53ef\u4ee5\u5347\u7ea7\u4e0bpip\u7684\u7248\u672c\uff1a</p> <pre><code>pip install --upgrade pip\n</code></pre> <p>\u63a5\u4e0b\u6765\u5b89\u88c5Tensorflow\u7684Python\u63a5\u53e3</p> <pre><code>pip install tensorflow\n</code></pre> <p>\u82e5\u63d0\u793a\u5df2\u5b89\u88c5\uff0c\u8bf7\u4f7f\u7528<code>--upgrade</code>\u9009\u9879\u8fdb\u884c\u8986\u76d6\u5b89\u88c5\u3002\u82e5\u63d0\u793a\u6743\u9650\u4e0d\u8db3\uff0c\u8bf7\u4f7f\u7528<code>--user</code>\u9009\u9879\u5728\u5f53\u524d\u8d26\u53f7\u4e0b\u5b89\u88c5\u3002</p> <p>\u7136\u540e\u4e0b\u8f7dDeePMD-kit\u7684\u6e90\u4ee3\u7801\uff08\u6ce8\u610f\u628a<code>v2.1.5</code>\u66ff\u6362\u4e3a\u9700\u8981\u5b89\u88c5\u7684\u7248\u672c\uff0c\u5982<code>v2.0.3</code>\u7b49\uff09</p> <pre><code>cd /some/workspace\ngit clone --recursive https://github.com/deepmodeling/deepmd-kit.git deepmd-kit -b v2.1.5\n</code></pre> <p>\u5728\u8fd0\u884cgit clone\u65f6\u8bb0\u5f97\u8981<code>--recursive</code>\uff0c\u8fd9\u6837\u624d\u53ef\u4ee5\u5c06\u5168\u90e8\u6587\u4ef6\u6b63\u786e\u4e0b\u8f7d\u4e0b\u6765\uff0c\u5426\u5219\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u4f1a\u62a5\u9519\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u4e0d\u614e\u6f0f\u4e86<code>--recursive</code>\uff0c \u53ef\u4ee5\u91c7\u53d6\u4ee5\u4e0b\u7684\u8865\u6551\u65b9\u6cd5\uff1a <pre><code>git submodule update --init --recursive\n</code></pre></p> <p>\u82e5\u96c6\u7fa4\u4e0a CMake 3\u6ca1\u6709\u5b89\u88c5\uff0c\u53ef\u4ee5\u7528pip\u8fdb\u884c\u5b89\u88c5\uff1a</p> <pre><code>pip install cmake\n</code></pre> <p>\u4fee\u6539\u73af\u5883\u53d8\u91cf\u4ee5\u4f7f\u5f97cmake\u6b63\u786e\u6307\u5b9a\u7f16\u8bd1\u5668\uff1a</p> <pre><code>export CC=`which gcc`\nexport CXX=`which g++`\nexport FC=`which gfortran`\n</code></pre> <p>\u82e5\u8981\u542f\u7528CUDA\u7f16\u8bd1\uff0c\u8bf7\u5bfc\u5165\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>export DP_VARIANT=cuda\n</code></pre> <p>\u968f\u540e\u901a\u8fc7pip\u5b89\u88c5DeePMD-kit\uff1a</p> <pre><code>cd deepmd-kit\npip install .\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#lammps-installation","title":"\u5b89\u88c5Lammps","text":"<p>\u6ce8\u610f\u8fd9\u4e00\u90e8\u5206\u53ef\u4ee5\u4eceDeePMD\u5b89\u88c5\u4e2d\u89e3\u8026\u51fa\u6765\uff0c\u56e0\u800c\u517c\u987e\u5bf9Lammps\u7684\u4e0d\u540c\u9700\u6c42\uff0c\u800c\u4e0d\u5fc5\u4e3aDeePMD\u4e13\u95e8\u7f16\u8bd1\u4e00\u4e2aLammps\u53ef\u6267\u884c\u6587\u4ef6\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#_3","title":"\u73af\u5883\u51c6\u5907","text":"<p>\u9996\u5148\u52a0\u8f7d\u6240\u9700\u7684\u73af\u5883\uff0c\u5305\u62ecCMake\u3001Intel MPI\u7b49\u3002\u82e5\u4e0d\u9700\u8981\u7f16\u8bd1Lammps\u539f\u751f\u7684GPU\u52a0\u901f\uff0c\u53ef\u4e0d\u9700\u8981\u52a0\u8f7dCUDA\u73af\u5883\u3002\u6ce8\u610f\u9700\u8981\u628aIntel MPI\u63d0\u4f9b\u7684\u5934\u6587\u4ef6\uff08<code>mpi.h</code>\u7b49\uff09\u6240\u5728\u8def\u5f84\u52a0\u5165<code>C_INCLUDE_PATH</code>\u4e2d\u3002</p> <p>\u4ecd\u4ee5Zeus\u4e3a\u4f8b\uff0c\u5982\u4e0b\u6240\u793a\u3002\u6ce8\u610f\u8fd9\u91cc\u4f7f\u7528\u7684\u662f\u5168\u5c40\u7684CMake\uff0c\u5982\u679c\u4e0e\u4e0a\u4e00\u90e8\u5206\u91c7\u7528\u540c\u4e00\u4e2a\u73af\u5883\uff0c\u53ef\u4e0d\u9700\u91cd\u590d\u52a0\u8f7d\u3002</p> <pre><code>module load cmake/3.20\nmodule load intel/17.5.239 mpi/intel/2017.5.239 gcc/7.4.0\n# if not included\nexport C_INCLUDE_PATH=&lt;intel_installation_dir&gt;/impi/2017.4.239/include64:$C_INCLUDE_PATH\n</code></pre> <p>\u82e5\u9700\u8981\u7f16\u8bd1\u5bf9\u5e94\u7684Lammps\u7ec4\u4ef6\uff08\u5982Plumed\u3001NetCDF\u7b49\uff09\uff0c\u8bf7\u5bf9\u5e94\u52a0\u8f7d\u6240\u9700\u7684\u73af\u5883\uff1a</p> <pre><code>module load netcdf/4.9.0_intel17\nmodule load plumed\n</code></pre> <p>\u5982\u9700\u7f16\u8bd1Lammps\u539f\u751f\u7684GPU\u52a0\u901f\uff0c\u53ef\u52a0\u8f7dCUDA\u73af\u5883\uff0c\u6ce8\u610f\u8fd9\u4f1a\u4f7f\u5f97\u7f16\u8bd1\u5f97\u5230\u7684Lammps\u65e0\u6cd5\u5728\u4e0d\u5305\u62ecGPU\u7684\u8282\u70b9\u4e0a\u8fd0\u884c\u3002</p> <pre><code># gpu acceleration support\nmodule load cuda/11.3\n</code></pre> <p>Warning</p> <p>\u82e5\u7f16\u8bd1Lammps\u539f\u751f\u7684GPU\u52a0\u901f\uff0c\u8bf7\u6ce8\u610f\u539f\u751f\u9ed8\u8ba4\u91c7\u7528\u534a\u7cbe\u5ea6\u3002Lammps\u5728\u5f00\u542fGPU\u52a0\u901f\u65f6\u901f\u5ea6\u53ef\u6709\u8f83\u5927\u63d0\u5347\uff0c\u4f46\u7cbe\u5ea6\u95ee\u9898\u5df2\u77e5\u53ef\u80fd\u5bfc\u81f4DeePMD\u52bf\u51fd\u6570\u6a21\u62df\u8bef\u5dee\u4e0a\u5347\uff08\u4f53\u73b0\u4e3aModel Deviation\u76f8\u6bd4\u4e0d\u5f00\u542fGPU\u52a0\u901f\u663e\u8457\u4e0a\u5347\uff09\uff0c\u8bf7\u9488\u5bf9\u4f53\u7cfb\u505a\u6d4b\u8bd5\u786e\u8ba4\u8bef\u5dee\u662f\u5426\u7b26\u5408\u9884\u671f\u3002DeePMD\u63a5\u53e3\u5b98\u65b9\u672a\u63d0\u4f9bLammps\u7684GPU\u52a0\u901f\u652f\u6301\uff0c\u4e14\u9ed8\u8ba4\u7f16\u8bd1\u7684\u662f\u53cc\u7cbe\u5ea6\u7248\u672c\uff0c\u8bf7\u52a1\u5fc5\u6ce8\u610f\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#_4","title":"\u914d\u7f6e\u7f16\u8bd1","text":"<p>\u521b\u5efa\u6587\u4ef6\u5939</p> <pre><code>cd &lt;lammps_source_code&gt;\nmkdir build\ncd build\n</code></pre> <p>\u8fdb\u884c\u7f16\u8bd1</p> <pre><code>cmake  -DCMAKE_C_COMPILER=gcc -DCMAKE_CXX_COMPILER=g++ \\\n-DCMAKE_Fortran_COMPILER=gfortran \\\n-D BUILD_MPI=yes -D BUILD_OMP=yes -D LAMMPS_MACHINE=mpi \\\n-D BUILD_SHARED_LIBS=yes \\\n-D CMAKE_INSTALL_PREFIX=&lt;lammps_installation_dir&gt; \\\n-D CMAKE_INSTALL_LIBDIR=lib \\\n-D CMAKE_INSTALL_FULL_LIBDIR=&lt;lammps_installation_dir&gt;/lib \\\n-C ../cmake/presets/most.cmake -C ../cmake/presets/nolib.cmake ../cmake\n</code></pre> <p><code>CMAKE_INSTALL_PREFIX</code> \u53ef\u4ee5\u6839\u636e\u5b89\u88c5\u5b9e\u9645\u8def\u5f84\u4fee\u6539\uff0c\u4f46\u8fd9\u4e00\u65b9\u6cd5\u5f97\u5230\u7684\u662f\u5171\u4eab\u5e93\uff08 <code>*.so</code> \uff09\uff0c\u6240\u4ee5\u5305\u62ecLammps\u6e90\u4ee3\u7801\u5728\u5185\u90fd\u4e0d\u8981\u79fb\u52a8\u3002</p> <p>\u82e5\u5f00\u542f\u5bf9\u5e94\u63d2\u4ef6\uff0c\u8bf7\u6ce8\u610f\u5728 <code>../cmake</code> \u524d\u63d2\u5165\u5bf9\u5e94\u9009\u9879\uff0c\u5982\uff1a</p> <pre><code>-D PKG_PLUMED=yes -D PLUMED_MODE=shared \\\n-D PKG_H5MD=yes -D PKG_NETCDF=yes \\\n-D NETCDF_INCLUDE_DIR=&lt;netcdf_installation_dir&gt;/include \n</code></pre> <p>\u82e5\u5e0c\u671b\u5f00\u542fGPU\u52a0\u901f\uff0c\u8bf7\u589e\u52a0\u9009\u9879\uff1a</p> <pre><code>-D PKG_GPU=on -D GPU_API=cuda\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#_5","title":"\u5f00\u59cb\u7f16\u8bd1","text":"<p>\u8fd0\u884c</p> <pre><code>make\nmake install\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#deepmd-kit-lammps-plugin","title":"\u7f16\u8bd1DeePMD-kit Lammps Plugin","text":""},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#_6","title":"\u65b9\u6cd5\u4e00\uff1a\u9759\u6001\u7f16\u8bd1","text":""},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#tensorflowc","title":"\u5b89\u88c5Tensorflow\u7684C++ \u63a5\u53e3","text":"<p>\u4ee5\u4e0b\u5b89\u88c5\uff0c\u5047\u8bbe\u8f6f\u4ef6\u5305\u4e0b\u8f7d\u8def\u5f84\u5747\u4e3a <code>/some/workspace</code>\uff0c \u4ee5 TensorFlow 2.7.0\u7248\u672c\u3001DeePMD-kit 2.1.5 \u7248\u672c\u4e3a\u4f8b\u8fdb\u884c\u8bf4\u660e\uff0c\u5176\u4ed6\u7248\u672c\u7684\u6b65\u9aa4\u8bf7\u53c2\u7167\u4fee\u6539\u3002\u6ce8\u610f\u4e3a\u4fdd\u8bc1\u6a21\u578b\u517c\u5bb9\u6027\uff0c\u7248\u672c\u53f7\u6700\u597d\u4e0e Python Interface\u5bf9\u5e94\u3002</p> <p>\u672c\u6b65\u9aa4\u9700\u8981\u4f7f\u7528 Conda\uff0c\u56e0\u6b64\u5728\u524d\u6587\u57fa\u7840\u4e0a\u8fdb\u884c\u3002</p> <p>\u641c\u7d22\u4ed3\u5e93\uff0c\u67e5\u627e\u53ef\u7528\u7684 TensorFlow \u7684 C++ \u63a5\u53e3\u7248\u672c\u3002</p> <pre><code>conda search libtensorflow_cc -c https://conda.deepmodeling.com\n</code></pre> <p>\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>Loading channels: done\n# Name                       Version           Build  Channel\nlibtensorflow_cc              1.14.0  cpu_h9a2eada_0\nlibtensorflow_cc              1.14.0  gpu_he292aa2_0\nlibtensorflow_cc               2.0.0  cpu_h9a2eada_0\nlibtensorflow_cc               2.0.0  gpu_he292aa2_0\nlibtensorflow_cc               2.1.0  cpu_cudaNone_0\nlibtensorflow_cc               2.1.0  gpu_cuda10.0_0\nlibtensorflow_cc               2.1.0  gpu_cuda10.1_0\nlibtensorflow_cc               2.1.0   gpu_cuda9.2_0\nlibtensorflow_cc               2.3.0  cpu_cudaNone_0\nlibtensorflow_cc               2.3.0  gpu_cuda10.1_0\nlibtensorflow_cc               2.4.1  gpu_cuda11.0_0\nlibtensorflow_cc               2.4.1  gpu_cuda11.1_0\nlibtensorflow_cc               2.5.0  cpu_cudaNone_0\nlibtensorflow_cc               2.5.0  gpu_cuda10.1_0\nlibtensorflow_cc               2.5.0  gpu_cuda11.3_0\nlibtensorflow_cc               2.7.0  cpu_h6ddf1b9_0\nlibtensorflow_cc               2.7.0 cuda101h50fd26c_0\nlibtensorflow_cc               2.7.0 cuda113h3372e5c_0\nlibtensorflow_cc               2.7.0 cuda113hbf71e95_1\nlibtensorflow_cc               2.9.0  cpu_h681ccd4_0\nlibtensorflow_cc               2.9.0 cuda102h929c028_0\nlibtensorflow_cc               2.9.0 cuda116h4bf587c_0\n</code></pre> <p>\u8fd9\u91cc\u6240\u5e0c\u671b\u5b89\u88c5\u7684\u7248\u672c\u662f2.7.0\u7684GPU\u7248\u672c\uff0cCUDA\u7248\u672c\u4e3a11.3\uff0c\u56e0\u6b64\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5\uff1a</p> <pre><code>conda install libtensorflow_cc=2.7.0=cuda113hbf71e95_1 -c https://conda.deepmodeling.com\n</code></pre> <p>\u82e5\u6240\u5b89\u88c5\u7684\u73af\u5883\u6ca1\u6709\u5b9e\u9645\u7684GPU\u9a71\u52a8\uff08\u6bd4\u5982\u96c6\u7fa4\u7684\u767b\u5f55\u8282\u70b9\uff09\u6216\u9700\u8981\u7528\u5230Conda\u5b89\u88c5CudaToolkit\uff0c\u53ef\u80fd\u9700\u8981\u53c2\u7167\u6b64\u5904\u8bf4\u660e\u5f3a\u5236\u6307\u5b9aGPU\u73af\u5883\u3002\u6bd4\u5982\uff1a</p> <pre><code>CONDA_OVERRIDE_CUDA=\"11.3\" conda install libtensorflow_cc=2.7.0=cuda113hbf71e95_1 -c https://conda.deepmodeling.com\n</code></pre> <p>\u8bf7\u6ce8\u610f <code>CONDA_OVERRIDE_CUDA</code> \u7684\u503c\u9700\u8981\u4e0eGPU\u652f\u6301\u4ee5\u53ca\u5e0c\u671b\u7528\u5230\u7684CUDA\u7248\u672c\u76f8\u5339\u914d\u3002</p> <p>\u63d0\u793a</p> <p>\u6ce8\u610fA100\u4ec5\u652f\u6301TF 2.4.0\u4ee5\u4e0a\u3001CUDA11.2\u4ee5\u4e0a\uff0c\u5b89\u88c5\u65f6\u8bf7\u5bf9\u5e94\u9009\u62e9\u3002</p> <p>\u63d0\u793a</p> <p>\u4e2a\u522b\u7248\u672c\u5728\u540e\u7eed\u7f16\u8bd1\u65f6\u53ef\u80fd\u4f1a\u63d0\u793a\u9700\u8981<code>libiomp5.so</code>\uff0c\u8bf7\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u786e\u5b9a\u662f\u5426\u9700\u8981\u8f7d\u5165Intel\u73af\u5883\u6216\u8005<code>conda install intel-openmp</code>\u3002</p> <p>\u63d0\u793a</p> <p><code>conda</code>\u547d\u4ee4\u53ef\u80fd\u901f\u5ea6\u8f83\u6162\uff0c\u4e5f\u53ef\u4ee5\u8003\u8651\u5207\u6362\u4e3amamba\uff0c\u540e\u8005\u53ef\u5927\u5e45\u52a0\u901fConda\u7684\u6027\u80fd\uff0c\u4e14\u5b8c\u5168\u517c\u5bb9\u3002\u53ea\u9700\u53c2\u7167\u524d\u8ff0\u94fe\u63a5\u5b89\u88c5\u540e\u5c06<code>conda</code>\u66ff\u6362\u4e3a<code>mamba</code>\u5373\u53ef</p> <p>\u82e5\u6210\u529f\u5b89\u88c5\uff0c\u5219\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>export tensorflow_root=/data/user/conda/env/deepmd\n</code></pre> <p>\u5373\u865a\u62df\u73af\u5883\u521b\u5efa\u7684\u8def\u5f84\u3002\u540e\u6587\u5c06\u4f7f\u7528 <code>$tensorflow_root</code> \u6765\u6307\u5b9a\u8be5\u8def\u5f84\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#deepmd-kitc","title":"\u5b89\u88c5DeePMD-kit\u7684C++ \u63a5\u53e3","text":"<p>\u4e0b\u9762\u5f00\u59cb\u7f16\u8bd1DeePMD-kit C++\u63a5\u53e3\uff1a</p> <pre><code>deepmd_source_dir=`pwd`\ncd $deepmd_source_dir/source\nmkdir build \ncd build\n</code></pre> <p>\u5047\u8bbeDeePMD-kit C++ \u63a5\u53e3\u5b89\u88c5\u5728 <code>/some/workspace/deepmd_root</code> \u4e0b\uff0c\u5b9a\u4e49\u5b89\u88c5\u8def\u5f84 <code>deepmd_root</code>\uff1a</p> <pre><code>export deepmd_root=/some/workspace/deepmd_root\n</code></pre> <p>\u5728build\u76ee\u5f55\u4e0b\u8fd0\u884c\uff1a</p> <pre><code>cmake -DLAMMPS_SOURCE_ROOT=&lt;lammps_source_code&gt; \\\n-DTENSORFLOW_ROOT=$tensorflow_root -DCMAKE_INSTALL_PREFIX=$deepmd_root \\\n-DUSE_CUDA_TOOLKIT=TRUE ..\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u7684 <code>&lt;lammps_source_code&gt;</code> \u5bf9\u5e94\u524d\u6587\u4e2dLammps\u7684\u6e90\u7801\u8def\u5f84\u3002</p> <p>\u6700\u540e\u7f16\u8bd1\u5e76\u5b89\u88c5\uff1a</p> <pre><code>make\nmake install\n</code></pre> <p>\u82e5\u65e0\u62a5\u9519\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u6267\u884c\u68c0\u67e5\u662f\u5426\u6709\u6b63\u786e\u8f93\u51fa\uff1a</p> <pre><code>$ ls $deepmd_root/lib\ndeepmd_lmp/           libdeepmd_cc_low.so   libdeepmd_gromacs.so  libdeepmd_ipi.so      libdeepmd_lmp.so      libdeepmd_op.so\ndeepmd_lmp_low/       libdeepmd_cc.so       libdeepmd_ipi_low.so  libdeepmd_lmp_low.so  libdeepmd_op_cuda.so  libdeepmd.so\n</code></pre> <p>\u6ce8\u610f\u5e94\u5f53\u5305\u542b<code>deepmd_lmp/</code>\u548c<code>libdeepmd_lmp.so</code>\uff0c\u540e\u4e24\u8005\u5373\u4e3aLammps\u63d2\u4ef6\u7684\u4f4d\u7f6e\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#tensorflow-python","title":"\u65b9\u6cd5\u4e8c\uff1a\u91c7\u7528TensorFlow Python \u7248\u672c\u7684\u5e93","text":"<p>\u4ece DeePMD-kit v2.2 \u8d77\uff0c<code>cmake</code> \u652f\u6301\u8bbe\u7f6e <code>-DUSE_TF_PYTHON_LIBS=TRUE</code>\u7684\u65b9\u5f0f\uff0c\u4ece\u800c\u514d\u53bb\u4e86\u5b89\u88c5 <code>libtensorflow_cc</code> \u7684\u9ebb\u70e6\u3002</p> <pre><code>cmake -DLAMMPS_SOURCE_ROOT=&lt;lammps_source_code&gt; \\\n-DUSE_TF_PYTHON_LIBS=TRUE -DUSE_CUDA_TOOLKIT=TRUE \\\n-DCMAKE_INSTALL_PREFIX=$deepmd_root ..\n</code></pre> <p>Tip</p> <p>\u8bf7\u6ce8\u610f\uff0c\u8fd9\u79cd\u65b9\u6cd5\u91c7\u7528Python Wheel\u63d0\u4f9b\u7684 <code>libtensorflow_framework.so.2</code> \u548c <code>_pywrap_tensorflow_internal.so</code> \uff08\u4f5c\u4e3a <code>libtensorflow_cc.so</code>\u7684\u66ff\u4ee3\uff09\u8fdb\u884c\u7f16\u8bd1\u3002 \u540e\u8005\u4f9d\u8d56 Python \u5e93 <code>libpython3.*.so.*</code>\uff08\u56e0\u7248\u672c\u4e0d\u540c\u800c\u5f02\uff09\uff0c\u8bf7\u6ce8\u610f\u57fa\u4e8e\u4e0a\u8ff0\u5e93\u7684\u7f16\u8bd1\u5e94\u4fdd\u8bc1\u540e\u8005\u8def\u5f84\u4e5f\u5728 <code>LD_LIBRARY_PATH</code> \u4e2d\u3002</p> <p>\u4e3a\u4f7f\u5f97\u7f16\u8bd1\u597d\u7684\u5e93\u6587\u4ef6\u53ef\u4ee5\u66f4\u5bb9\u6613\u627e\u5230\u4e0a\u8ff0\u4f9d\u8d56\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff0c\u5efa\u7acb\u4e00\u4e2a\u4f2a <code>tensorflow_root</code> \u76ee\u5f55\uff0c\u5047\u8bbe\u8be5\u8def\u5f84\u4f4d\u4e8e <code>/some/workspace/tensorflow_root</code> \u4e0b\uff0c\u540c\u65f6\u5047\u8bbe Conda \u73af\u5883\u4ecd\u4f4d\u4e8e <code>/data/user/conda/env/deepmd</code> \u4e0b\uff1a</p> <pre><code>export tensorflow_root=/some/workspace/tensorflow_root\nmkdir -p $tensorflow_root/lib \ncd $tensorflow\nln -s /data/user/conda/env/deepmd/lib/python3.10/site-packages/tensorflow/include .\ncd lib\nln -s /data/user/conda/env/deepmd/lib/python3.10/site-packages/tensorflow/python/_pywrap_tensorflow_internal.so libtensorflow_cc.so\nln -s /data/user/conda/env/deepmd/lib/python3.10/site-packages/tensorflow/libtensorflow_framework.so.2 .\nln -s libtensorflow_framework.so.2 libtensorflow_framework.so\n</code></pre> <p>\u4e8e\u662f\uff0c\u6211\u4eec\u4fbf\u6784\u5efa\u4e86\u4e00\u4e2a\u4f2a <code>tensorflow_root</code> \u76ee\u5f55\u3002\u6ce8\u610f\u540e\u6587\u7684 <code>$tensorflow_root</code> \u6b64\u65f6\u5e94\u6307\u5411\u8be5\u8def\u5f84\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#_7","title":"\u8c03\u7528\u65b9\u6cd5","text":"<p>\u4f7f\u7528\u524d\u8bf7\u52a0\u8f7d\u597d\u73af\u5883\u53d8\u91cf\u3002\u6ce8\u610f\u82e5\u672a\u5b9a\u4e49 <code>$deepmd_root</code>\u3001<code>$tensorflow_root</code>\uff0c\u8bf7\u8865\u5168\u4e3a\u5b8c\u6574\u8def\u5f84\u3002\u8fd9\u91cc\u7684 <code>/data/user/conda/env/deepmd</code> \u4ecd\u662f Conda \u73af\u5883\u7684\u8def\u5f84\uff0c\u8bf7\u76f8\u5e94\u66ff\u6362\u3002</p> <pre><code>export LD_LIBRARY_PATH=$tensorflow_root/lib:$deepmd_root/lib:/data/user/conda/env/deepmd/lib:$LD_LIBRARY_PATH\nexport LAMMPS_PLUGIN_PATH=$deepmd_root/lib/deepmd_lmp\n</code></pre> <p>Lammps\u4fbf\u4f1a\u81ea\u52a8\u5bfb\u627e\u63d2\u4ef6\u5e76\u52a0\u8f7d\uff0c\u4ece\u800c\u53ef\u4ee5\u5b9e\u73b0DeePMD\u7684\u652f\u6301\u3002</p> <pre><code>pair_style      deepmd ../graph.pb\npair_coeff      * *\n</code></pre> <p>\u82e5\u65e0\u6cd5\u81ea\u52a8\u627e\u5230\uff0c\u4e5f\u53ef\u4ee5\u624b\u52a8\u5728 \u8f93\u5165\u6587\u4ef6 \u4e2d\u52a0\u8f7d\uff0c\u5199\u5728 <code>pair_style</code> \u4e0a\u4e00\u884c\u5373\u53ef\uff0c\u6ce8\u610f <code>$deepmd_root</code>\u3001<code>$tensorflow_root</code> \u987b\u66ff\u6362\u4e3a\u5b8c\u6574\u8def\u5f84\u3002</p> <pre><code>plugin load     $deepmd_root/lib/libdeepmd_lmp.so\npair_style      deepmd ../graph.pb\npair_coeff      * *\n</code></pre> <p>\u8fd0\u884c\u547d\u4ee4\u4ecd\u7136\u662f <code>lmp_mpi -i &lt;input_file&gt;</code>\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_new/#dp-cp2k","title":"DP-CP2K \u5b89\u88c5\u6307\u5f15","text":"<p>\u9996\u5148clone\u5bf9\u5e94\u7684\u5b89\u88c5\u5305\uff1a</p> <pre><code>git clone https://github.com/cp2k/cp2k.git --recursive --depth=1\n</code></pre> <p>\u7136\u540e\u8fd0\u884c\u76f8\u5e94\u7684Toolchain\u811a\u672c\uff1a</p> <pre><code>module unload mpi/intel/2017.5.239 # (1)!\nmodule load mpi/openmpi/4.1.6-gcc # (2)!\ncd tools/toolchain/\n./install_cp2k_toolchain.sh --with-gcc=system --mpi-mode=openmpi --with-deepmd=$deepmd_root\n</code></pre> <ol> <li>\u65b0\u7248CP2K\u4f1a\u81ea\u52a8\u68c0\u6d4b Intel MPI \u4e14\u65e0\u89c6\u5f3a\u5236\u4f7f\u7528\u5176\u4ed6\u73af\u5883\u5982 OpenMPI \u7684\u8bbe\u5b9a\uff0c\u65e7\u7248 Intel MPI\u4e0d\u88ab\u517c\u5bb9</li> <li>\u7531\u4e8e <code>--with-openmpi=install</code> \u5728 Zeus \u4e0a\u65e0\u6cd5\u6b63\u786e\u5b89\u88c5\uff0c\u8fd9\u91cc\u9884\u5148\u5b89\u88c5\u597d\u4e86 OpenMPI\u3002</li> </ol> <p>\u5982\u4e0d\u9700\u8981 MPI \u548c DFT \u76f8\u5173\u529f\u80fd\uff0c\u53ef\u4ee5\u5982\u4e0b\u8bbe\u7f6e\u4ee5\u51cf\u5c11\u6b65\u9aa4\uff08\u6ce8\u610f\u540e\u7eed\u7f16\u8bd1\u79fb\u9664\u6389 <code>psmp pdbg</code> \u9009\u9879\uff09\uff1a</p> <pre><code>cd tools/toolchain/\nmodule unload mpi/intel/2017.5.239 # (1)!\n./install_cp2k_toolchain.sh --with-deepmd=$deepmd_root --mpi-mode=no --with-libint=no --with-libxc=no --with-libxsmm=no\n</code></pre> <ol> <li>\u65b0\u7248CP2K\u4f1a\u81ea\u52a8\u68c0\u6d4b Intel MPI \u4e14\u65e0\u89c6\u5f3a\u5236\u4f7f\u7528\u5176\u4ed6\u73af\u5883\u5982 OpenMPI \u7684\u8bbe\u5b9a\uff0c\u65e7\u7248 Intel MPI\u4e0d\u88ab\u517c\u5bb9</li> </ol> <p>\u6839\u636e\u811a\u672c\u8fd0\u884c\u7ed3\u5c3e\u7684\u63d0\u793a\u590d\u5236arch\u6587\u4ef6\u5e76source\u6240\u9700\u7684\u73af\u5883\u53d8\u91cf\u3002</p> <p>\u8fd9\u91cc\u7684\u76ee\u7684\u662f\u8ba9\u7f16\u8bd1\u65f6\u53ef\u4ee5\u6b63\u786e\u94fe\u63a5 <code>libpython3.*.so.*</code>\uff0c\u56e0\u800c <code>/data/user/conda/env/deepmd/</code> \u4ecd\u65e7\u662f Conda \u73af\u5883\u8def\u5f84\u3002</p> <p>\u6700\u540e\u56de\u5230\u4e3b\u76ee\u5f55\u8fdb\u884c\u7f16\u8bd1\uff1a</p> <pre><code>make -j 4 ARCH=local VERSION=\"psmp pdbg ssmp sdbg\" # (1)!\n</code></pre> <ol> <li>\u5982\u4e0d\u9700\u8981 MPI \uff0c\u8bf7\u79fb\u9664\u6389 <code>psmp pdbg</code>\u3002</li> </ol> <p>\u7f16\u8bd1\u6b63\u786e\u5b8c\u6210\u540e\uff0c\u53ef\u6267\u884c\u6587\u4ef6\u751f\u6210\u5728 <code>exe/</code> \u4e0b\uff0c\u5373 <code>cp2k.ssmp</code> \u6216 <code>cp2k.psmp</code>\u3002</p> <p>\u5173\u4e8e DP-CP2K \u7684\u4f7f\u7528\uff0c\u8bf7\u53c2\u8003 CP2K: DeePMD\u63d2\u4ef6\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/","title":"DeePMD-kit\u5b89\u88c5\u5b9e\u6218\uff1aPC\u7bc7","text":""},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#_1","title":"\u80cc\u666f","text":"<p>\u9700\u8981\u5bf9DeePMD-kit\u7684\u6e90\u7801\u8fdb\u884c\u4e00\u4e9b\u4fee\u6539\uff0c\u9488\u5bf9\u65b0\u7684\u7269\u7406\u91cf\u6784\u5efa\u6a21\u578b\u3002\u5bf9\u4ee3\u7801\u7684\u8c03\u8bd5\u9700\u8981GPU\uff0c\u4f46\u662f\u4e0d\u9700\u8981\u5f88\u597d\u7684\u6027\u80fd\uff0c\u6240\u4ee5\u5728PC\u7aef\u8fdb\u884c\u53ef\u4ee5\u8282\u7701\u5728\u96c6\u7fa4\u4e0a\u7684\u6392\u961f\u65f6\u95f4\u3002</p> <p>\u5b89\u88c5\u7cfb\u7edf\uff1aUbuntu 20.04</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#deepmd-kit","title":"DeePMD-kit\u4ee3\u7801\u7ed3\u6784","text":"<p>\u5728\u8bb0\u5f55\u5b89\u88c5\u8fc7\u7a0b\u4e4b\u524d\u5148\u7b80\u5355\u63cf\u8ff0\u4e00\u4e0bDeePMD-kit\u7684\u4ee3\u7801\u7ed3\u6784\u3002</p> <p>DeePMD-kit\u5728\u8bad\u7ec3\u90e8\u5206\u7684\u4ee3\u7801\u662f\u5728<code>.py</code>\u6587\u4ef6\u4e2d\u8c03\u7528 TensorFlow \u5b9e\u73b0\u7684\uff08TF\u81ea\u5e26OP/\u81ea\u5b9a\u4e49OP\uff09\u3002\u4f46\u662fTF\u7684\u5e95\u5c42\u662f\u7528 C++ \u6784\u5efa\u7684\uff0c\u6240\u4ee5\u5728\u4f7f\u7528 DeePMD-kit \u65f6\u9700\u8981\u5b89\u88c5 TF/python \u63a5\u53e3\u3002</p> <p>\u8fdb\u5165\u5230\u4fee\u6539\u8fc7\u4ee3\u7801\u7684\u6587\u4ef6\u5939\uff0c\u6267\u884c\uff1a</p> <pre><code>pip install .\n</code></pre> <p>\u6b64\u65f6\u4f1a\u57fa\u4e8e\u5df2\u4fee\u6539\u7684\u4ee3\u7801\u751f\u6210\u65b0\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>\u5982\u679c\u60f3\u57fa\u4e8eDeePMD-kit\u751f\u6210\u7684\u6a21\u578b\u548clammps/CP2K\u7b49\u8f6f\u4ef6\u7684\u5bf9\u63a5\uff0c\u9700\u8981\u53e6\u5916\u5b89\u88c5C++\u63a5\u53e3\u3002\u8fd9\u90e8\u5206\u53ef\u4ee5\u53c2\u8003\u4e4b\u524d\u7684\u6559\u7a0b\uff08\u7f16\u8bd1/\u4fee\u6539\u4ee3\u7801\u540e\u91cd\u65b0\u7f16\u8bd1\uff09\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#conda","title":"conda\u5b89\u88c5","text":"<p>\u5982\u679c\u4e0d\u9700\u8981\u5bf9\u6e90\u7801\u8fdb\u884c\u4fee\u6539\uff0c\u53ef\u4ee5\u5229\u7528\u5b98\u65b9\u6559\u7a0b easy installation \u4e2d\u7684 conda \u5b89\u88c5</p> <pre><code>#(base)\nconda create -n deepmd deepmd-kit=*=*gpu libdeepmd=*=*gpu lammps-dp cudatoolkit=11.3 horovod -c https://conda.deepmodeling.org\n</code></pre> <p>\u6b64\u547d\u4ee4\u65b0\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a<code>deepmd</code>\u7684\u865a\u62df\u73af\u5883\uff0c\u5e76\u5c06deepmd-kit\u5b89\u88c5\u5728\u8fd9\u4e2a\u73af\u5883\u4e2d\u3002 Conda \u5b89\u88c5\u4f1a\u4e00\u5e76\u5b89\u88c5 CUDA Toolkit\uff0c\u56e0\u6b64\u53ea\u8981\u4fdd\u8bc1\u7535\u8111\u7684\u9a71\u52a8\u652f\u6301\u5373\u53ef\u3002\u53ef\u901a\u8fc7\u4ee5\u4e0b\u6307\u4ee4\u67e5\u770b\u9a71\u52a8\u7248\u672c\u53ca\u5176\u652f\u6301\u7684cuda\u7248\u672c\uff1a</p> <pre><code>nvidia-smi\n</code></pre> <p>\u76ee\u524d\u901a\u8fc7conda\u9ed8\u8ba4\u5b89\u88c5\u7684\u662f10.1\u7248\u672c\u7684CUDA Toolkit\uff0c\u7531\u4e8eCUDA\u5411\u4e0b\u517c\u5bb9\uff0c\u6545\u7248\u672c\u9ad8\u4e8e10.1\u5373\u53ef\u3002\u5982\u679c\u9a71\u52a8\u652f\u6301\u7684CUDA\u7248\u672c\u8fc7\u4f4e\uff0c\u53ef\u4ee5\u5728Ubuntu\u7684Software&amp;Updates/Additional Drivers\u91cc\u9009\u62e9\u65b0\u7248\u7684\u9a71\u52a8\u8fdb\u884c\u5347\u7ea7\u3002</p> <p>\u5229\u7528 Conda \u4fbf\u6377\u5b89\u88c5\u65f6\uff0cDeePMD-kit\u7684C++\u5e95\u5c42\u6587\u4ef6\u5168\u90e8\u90fd\u5df2\u7ecf\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6<code>.so</code>\uff0c\u5728\u672c\u5730\u53ea\u80fd\u67e5\u770b\u5230\u53ef\u6267\u884c\u6587\u4ef6<code>.so</code>\u548c<code>.py</code>\u6587\u4ef6\uff0c\u65e0\u6cd5\u5bf9\u5e95\u5c42\u8fdb\u884c\u4fee\u6539\u3002\u6240\u4ee5\u5982\u679c\u9700\u8981\u5bf9\u6e90\u7801\u8fdb\u884c\u4fee\u6539\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5\u7f16\u8bd1\u3002</p> <p>Conda\u5b89\u88c5\u5305\u62ec\u4e86\u9884\u7f16\u8bd1\u7684 TF/C++ \u63a5\u53e3\uff0c\u53ef\u901a\u8fc7\u5b9a\u4e49\u73af\u5883\u53d8\u91cf\u7701\u53bb\u4ee5\u524d\u6559\u7a0b\u4e2d\u63d0\u5230\u7684\u7f16\u8bd1\u7684\u6b65\u9aa4\u3002\uff08\u89c1\u4e0b\u6587\uff09</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#_2","title":"\u624b\u52a8\u7f16\u8bd1","text":"<p>\u4e0a\u4e00\u8282\u7684 Conda \u5b89\u88c5\u662f\u5728<code>deepmd</code>\u865a\u62df\u73af\u5883\u4e0b\u5b89\u88c5\u7684\uff0c\u624b\u52a8\u5b89\u88c5\u6211\u4eec\u65b0\u5efa\u4e00\u4e2a\u73af\u5883<code>dp-tf</code>\uff1a</p> <pre><code>conda info -e\n# if you have been in `deepmd`, deactivate first\nconda deactivate\n# create a new environment\nconda create -n dp-tf\n# if you want to specify the version of python in dp-tf\n#conda create -n dp-tf python=3.9\n</code></pre> <p>tip</p> <p>\u5efa\u8bae\u5728\u65b0\u5efa\u73af\u5883dp-tf \u65f6\u8bbe\u7f6epython\u7248\u672c\u548cdeepmd\u4fdd\u6301\u4e00\u81f4\uff0c\u5426\u5219\u540e\u7eed\u5b89\u88c5tensorflow\u65f6\u53ef\u80fd\u56e0\u4e3apython\u7248\u672c\u4e0d\u517c\u5bb9\u62a5\u9519No matching distribution found for tensorflow\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#_3","title":"\u4e0b\u8f7d\u6e90\u7801&amp;\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf","text":"<p>\u4e0b\u8f7d\u6e90\u7801\uff08\u6ce8\u610f\u4e00\u5b9a\u8981\u6709<code>--recursive</code>\uff0c\u5177\u4f53\u89c1[wiki](./deepmd-kit_installation_51.md\uff09</p> <pre><code>#(tf-dp)\ngit clone --recursive https://github.com/deepmodeling/DeePMD-kit.git DeePMD-kit\n</code></pre> <p>\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf</p> <pre><code>#(tf-dp)\ncd DeePMD-kit\n# set $deepmd_source_dir as the directory of the deepmd source code\ndeepmd_source_dir=$(pwd)\n# set $tensorflow_root as the directory of the TF/C++ interface\n# the dir of the environment with conda DP\ntensorflow_root=/dir/for/env/with/condaDP\n</code></pre> <p>\u53ef\u4ee5\u7528<code>conda env list</code>\u6307\u4ee4\u67e5\u770b\u73af\u5883deepmd\u7684\u5730\u5740(<code>/dir/for/env/with/condaDP</code>)</p> <p>\u5982\u679c\u62c5\u5fc3\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9700\u8981\u9000\u51fa\uff0c\u53ef\u4ee5\u4e34\u65f6\u52a0\u5230<code>~/.bashrc</code>\u6587\u4ef6\u4e2d\u5e76<code>source ~/.bashrc</code>\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#tfpython","title":"TF/Python \u63a5\u53e3","text":"<p>\u9996\u5148\u53ef\u4ee5\u66f4\u65b0\u4e00\u4e0bpip\uff0c\u5e76\u5b89\u88c5\u65b0\u7248TensorFlow\uff1a</p> <pre><code>#(tf-dp)\npip install --upgrade pip\npip install --upgrade tensorflow==2.5.0\n</code></pre> <p>tip</p> <p>\u5229\u7528conda\u4fbf\u6377\u5b89\u88c5\u53ef\u4ee5\u7701\u53bb\u540e\u9762TF/C++\u63a5\u53e3\u7684\u5b89\u88c5\uff0c\u6240\u4ee5\u8fd9\u91cc\u7684TF\u5b89\u88c5\u548cconda\u5b89\u88c5\u4e2d\u7684TF\u4fdd\u6301\u4e00\u81f4\u3002\uff08\u5177\u4f53\u7248\u672c\u5728conda\u5b89\u88c5\u8fc7DeePMD-kit\u7684\u73af\u5883(deepmd)\u4e0b\u67e5\u770b\u5df2\u5b89\u88c5\u7684tensorflow-base\u7248\u672c\u3002</p> <p>\u4f8b\u5982\uff1a <pre><code># assume you have been in dp-tf env\n#(tf-dp)\nconda deactivate\n#(base)\nconda activate deepmd\n#(deepmd)\nconda list\n&gt;&gt;&gt; tensorflow-base           2.5.0           gpu_py39h7c1560b_0    https://conda.deepmodeling.org\n#(deepmd)\nconda deactivate\n#(base)\nconda activate dp-tf\n#(tf-dp)\npip install --upgrade tensorflow==2.5.0\n</code></pre></p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#deepmd-kitpython","title":"DeePMD-kit/Python \u63a5\u53e3","text":"<pre><code>#(tf-dp)\ncd $deepmd_source_dir\nDP_VARIANT=cuda\npip install .\n</code></pre> <p>\u8fd9\u4e00\u6b65\u7684<code>pip install</code>\u5bf9<code>deepmd_source_dir</code>\u4e0b\u7684\u6587\u4ef6\u8fdb\u884c\u7f16\u8bd1\u3002</p> <p>warning</p> <p>\u73af\u5883\u53d8\u91cfDP_VARIANT\u7684\u9ed8\u8ba4\u503c\u662fcpu\uff0c\u8981\u8bb0\u5f97\u6839\u636e\u9700\u8981\u8fdb\u884c\u4fee\u6539\uff01</p> <p>info</p> <p>\u5982\u679c\u5bf9\u6e90\u7801\u8fdb\u884c\u4e86\u4fee\u6539\uff0c\u9700\u8981\u91cd\u65b0\u7f16\u8bd1\u3002</p> <p>\u8fd9\u4e00\u6b65\u4e2d\u62a5\u9519\u53ef\u80fd\u7684\u5e94\u5bf9\u63aa\u65bd\uff1a</p> <ul> <li>\u7f51\u7edc\u95ee\u98981</li> </ul> <p>\u4fee\u6539\u955c\u50cf\u6e90\uff08\u5177\u4f53\u53ef\u53c2\u8003\u4f7f\u7528\u5e2e\u52a9\uff09</p> <pre><code>pip install pip -U\npip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\n</code></pre> <ul> <li>\u7f51\u7edc\u95ee\u98982\uff08<code>...timed out...</code>\uff09</li> </ul> <p>\u591a\u8bd5\u51e0\u6b21...</p> <ul> <li>\u5347\u7ea7<code>setuptools</code></li> </ul> <pre><code>pip install --upgrade setuptools --no-build-isolation\n</code></pre> <ul> <li>\u7f3a\u5404\u79cd\u5305</li> </ul> <p>\u5982\u679c\u76f4\u63a5<code>pip install</code>\u4f1a\u53d1\u73b0\u6240\u6709\u90fd\u662f\u5df2\u5b89\u88c5\u7684\uff0c\u9700\u8981<code>pip uninstall</code>\u518d<code>pip install</code>\u3002</p> <p>\u7528<code>conda list</code>\u68c0\u67e5\u53d1\u73b0\u5e94\u8be5\u662f\u6ca1\u6709\u5b89\u88c5\u5230\u8fd9\u4e2a\u73af\u5883\u91cc\u3002</p> <p>\u5982\u679c\u6709\u62a5\u9519\u800c\u65e0\u6cd5\u76f4\u63a5\u5378\u8f7d\uff1a</p> <pre><code>It is a distuils installed project and thus we cannot accurately determine which files belongs to it which would lead to only a partial uninstall.\n</code></pre> <p>\u53ef\u4ee5\u8003\u8651\u5f3a\u5236\u8986\u76d6\u5b89\u88c5\uff1a</p> <pre><code>pip install some_package --ignore-installed\n</code></pre> <ul> <li>GCC\u7248\u672c\u95ee\u9898</li> </ul> <pre><code>    138 | #error -- unsupported GNU version! gcc versions later than 8 are not supported!\n</code></pre> <p>Ubuntu 20.04\u9ed8\u8ba4\u7684GCC\u7248\u672c\u662f9.3.0\uff08<code>gcc --version</code>\u67e5\u770b\uff09\uff0c\u9700\u8981\u5378\u8f7d\u518d\u91cd\u88c5\u4f4e\u7248\u672c\uff08\u6bd4\u59827.5\uff09</p> <pre><code>sudo apt remove gcc\nsudo apt-get install gcc-7 g++-7 -y\nsudo ln -s /usr/bin/gcc-7 /usr/bin/gcc\nsudo ln -s /usr/bin/g++-7 /usr/bin/g++\nsudo ln -s /usr/bin/gcc-7 /usr/bin/cc\nsudo ln -s /usr/bin/g++-7 /usr/bin/c++\ngcc --version\n</code></pre>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#deepmd-kitc","title":"DeePMD-kit/C++ \u63a5\u53e3","text":"<p>\u89c1\u5b98\u65b9\u6559\u7a0b\uff08\u53ef\u80fd\u9700\u8981apt-get\u5b89\u88c5cmake\uff0c\u5982\u679c\u6ca1\u6709\u8db3\u591f\u6743\u9650\u4e5f\u53ef\u4ee5\u901a\u8fc7pip\u5b89\u88c5\uff09\u3002</p>"},{"location":"wiki/software_installation/deepmd-kit/deepmd-kit_installation_pc/#lammps","title":"\u548c\u5176\u4ed6\u8ba1\u7b97\u8f6f\u4ef6\uff08\u5982lammps\uff09\u7684\u63a5\u53e3","text":"<p>\u89c1\u5b98\u65b9\u6559\u7a0b\u548c\u8fd9\u91cc\u3002</p>"},{"location":"wiki/software_usage/DP-GEN/","title":"DP-GEN\u4f7f\u7528\u5165\u95e8","text":""},{"location":"wiki/software_usage/DP-GEN/#_1","title":"\u7b80\u4ecb","text":"<p>Deep Potential Generator (DP-GEN) \u662f\u4e00\u4e2a\u5c06\u795e\u7ecf\u7f51\u7edc\u52bf\u80fd\uff08machine learning potential\uff09\u548c\u4e3b\u52a8\u5b66\u4e60\uff08active learing\uff09\u7ed3\u5408\u8d77\u6765\u7684\u5de5\u4f5c\u6d41\u3002\u8be5\u5305\u4e3b\u8981\u7531\u5f20\u6797\u5cf0\uff08\u666e\u6797\u65af\u987f\u5927\u5b66\uff09\uff0c\u738b\u6db5\uff08\u5317\u4eac\u5e94\u7528\u7269\u7406\u4e0e\u8ba1\u7b97\u6570\u5b66\u7814\u7a76\u6240\uff09\u5f00\u53d1\u3002\u5982\u6709\u95ee\u9898\uff0c\u53ef\u4ee5\u5411\u4ed6\u4eec\u8be2\u95ee\u3002</p> <p>\u63d0\u793a</p> <p>\u8003\u8651\u5230 DP-GEN \u5728\u96c6\u7fa4\u8fd0\u884c\u53ef\u80fd\u5b58\u5728\u4e00\u5b9a\u7684\u6027\u80fd\u95ee\u9898\uff0c\u63a8\u8350\u5c1d\u8bd5 ai<sup>2</sup>-kit \u8fd0\u884c\u52bf\u51fd\u6570\u8bad\u7ec3\u7684 Close Loop Learning (CLL) \u4efb\u52a1\u3002</p> <p>\u4ee5\u4e0b\u4e3a\u53c2\u8003\u4fe1\u606f\uff1a</p> <ul> <li>GitHub</li> <li>\u53c2\u8003\u6587\u732e\uff1aActive learning of uniformly accurate interatomic potentials for materials simulation</li> </ul> <p>Warning</p> <p>\u6b64\u9875\u9762\u4ec5\u9650\u63d0\u4f9b\u8d21\u732e\u8005\u5bf9\u4e8e\u8be5\u8f6f\u4ef6\u7684\u7406\u89e3\uff0c\u5982\u6709\u4efb\u4f55\u95ee\u9898\u8bf7\u8054\u7cfb\u8d21\u732e\u8005\u3002\u5efa\u8bae\u5728\u9605\u8bfb\u6b64\u7bc7\u524d\u5148\u5bf9DeePMD-kit\u6709\u4e00\u5b9a\u4e86\u89e3\u3002 \u6307\u8def\uff1aDeePMD-kit</p> <p>DP-GEN\u7684\u5de5\u4f5c\u6d41\u662f\u7531\u4ee5\u4e0b\u4e09\u6b65\u7ec4\u6210\u7684\u5faa\u73af\uff1a</p> <ul> <li>\u8bad\u7ec3\uff1aDeePMD-kit\u540c\u65f6\u8bad\u7ec3 \u591a\u6761\uff08\u4e00\u822c\u662f4\u6761\uff09\u53c2\u6570\u521d\u59cb\u5316\u4e0d\u540c\u7684\u52bf\u51fd\u6570\uff08GPU\uff09\u3002</li> <li>\u91c7\u6837\u548c\u7b5b\u9009\uff1a\u57fa\u4e8e\u8bad\u7ec3\u5f97\u5230\u7684\u52bf\u51fd\u6570\u548c\u6307\u5b9a\u7684\u521d\u59cb\u7ed3\u6784\u5229\u7528LAMMPS\u8fdb\u884cclassical MD\uff0c\u6269\u5c55\u6784\u578b\u7a7a\u95f4\u3002\u7136\u540e\u5bf9MD\u4e2d\u5f97\u5230\u7684\u6784\u578b\u4f9d\u7167\u7279\u5b9a\u6307\u6807\uff08\u5bf9\u67d0\u4e2a\u6784\u578b\u7528\u4e0d\u540c\u7684\u52bf\u51fd\u6570\u9884\u6d4b\u6240\u5f97\u7684\u539f\u5b50\u529b\u7684\u6807\u51c6\u5dee\uff09\u8fdb\u884c\u7b5b\u9009\uff08GPU\uff09\u3002</li> <li>\u6807\u8bb0\uff1a\u5c06\u7b5b\u9009\u6240\u5f97\u7684\u6784\u578b\u8fdb\u884cDFTMD\u5355\u70b9\u80fd\u8ba1\u7b97\uff0c\u5f97\u5230\u529b\u548c\u80fd\u91cf\uff0c\u52a0\u5165\u8bad\u7ec3\u96c6\u8fdb\u884c\u65b0\u4e00\u8f6e\u7684\u8bad\u7ec3\uff0851\u621652\uff09\u3002</li> </ul>"},{"location":"wiki/software_usage/DP-GEN/#_2","title":"\u8f93\u5165\u6587\u4ef6","text":"<p>\u4e3a\u4e86\u4f7fdpgen\u8fd0\u884c\u8d77\u6765\uff0c\u6211\u4eec\u9700\u8981\u51c6\u5907\u5982\u4e0b\u7684\u6587\u4ef6\uff1a</p> <ul> <li><code>param.json</code> </li> </ul> <p>\u4e09\u6b65\u8ba1\u7b97\u4e2d\u6240\u7528\u7684\u53c2\u6570\uff0c\u5177\u4f53\u6307\u795e\u7ecf\u7f51\u7edc\u8bad\u7ec3\u7684\u53c2\u6570\uff0clammps\u4e2dMD\u7684\u53c2\u6570\u548cDFTMD\u8ba1\u7b97\u5355\u70b9\u80fd\u7684\u53c2\u6570\u3002</p> <ul> <li><code>machine.json</code> </li> </ul> <p>\u5236\u5b9a\u4e0a\u8ff0\u4e09\u4e2a\u6b65\u9aa4\u5206\u522b\u5728\u54ea\u4e2a\u670d\u52a1\u5668\u8ba1\u7b97\u3002</p> <p>Tip</p> <p>\u5728 Zeus \u96c6\u7fa4\u4e0a\u914d\u7f6e <code>machine.json</code>`\uff0c\u8bf7\u53c2\u9605GPU\u4f7f\u7528\u8bf4\u660e</p> <ul> <li>\u521d\u59cb\u8bad\u7ec3\u96c6\u6570\u636e</li> </ul> <p>\u653e\u5728\u63d0\u4ea4dpgen\u6240\u5728\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u7528\u4e8e\u8bad\u7ec3\u52bf\u51fd\u6570\uff0c\u53c2\u7167DeePMD-kit\u4e2d\u65b9\u6cd5\u751f\u6210\u3002</p> <ul> <li>MD\u91c7\u6837\u7684\u521d\u59cb\u7ed3\u6784</li> </ul> <p>\u653e\u5728\u63d0\u4ea4dpgen\u6240\u5728\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u5fc5\u987b\u4f7f\u7528vasp5.x\u7684POSCAR\uff0c\u628a.xyz\u6587\u4ef6\u8f6c\u5316\u4e3aPOSCAR\u7684\u811a\u672c\u53ef\u89c1\u6587\u672b\u3002</p>"},{"location":"wiki/software_usage/DP-GEN/#_3","title":"\u8f93\u51fa\u6587\u4ef6","text":"<p>\u5728\u63d0\u4ea4dpgen\u7684\u6587\u4ef6\u5939\u4e0b\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u8f93\u51fa\u6587\u4ef6\uff0c\u7528\u4e8e\u6307\u793a\u4efb\u52a1\u8fd0\u884c\u7684\u72b6\u51b5\uff1a</p> <ul> <li><code>dpgen.log</code></li> </ul> <p>\u5305\u62ec\u4e86\u8fd0\u884c\u8f6e\u6570\uff0c\u5355\u4e2a\u4efb\u52a1\u63d0\u4ea4\u7684\u60c5\u51b5\uff0c\u91c7\u6837\u51c6\u786e\u5ea6\u7b49\u8be6\u7ec6\u7684\u4fe1\u606f\u3002</p> <ul> <li><code>record.dpgen</code></li> </ul> <p>\u7531\u591a\u884c <code>x y</code> \u7ec4\u6210\uff0c\u8bb0\u5f55\u4efb\u52a1\u8fdb\u7a0b\u3002\u5176\u4e2d<code>x</code>\u4e3a\u8fd0\u884c\u7684\u8f6e\u6570\uff08iteration\uff09\uff0c\u4ece0\u5f00\u59cb\uff1b<code>y</code>\u53d60-8\uff0c\u5176\u4e2d0-2\u6307\u4ee3\u8bad\u7ec3\uff0c3-5\u6307\u4ee3\u91c7\u6837\u548c\u7b5b\u9009\uff0c6-8\u6307\u4ee3\u6807\u8bb0\u3002</p> <p>dpgen\u901a\u8fc7\u8bfb\u53d6\u8fd9\u4e2a\u6587\u4ef6\u6765\u51b3\u5b9a\u4ece\u54ea\u91cc\u91cd\u542f\u8ba1\u7b97\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8\u4fee\u6539\u8fd9\u4e2a\u6587\u4ef6\u6765\u51b3\u5b9a\u91cd\u542f\u7684\u70b9\u3002\u4f8b\u5982\uff0c\u5728\u7b2c<code>x</code>\u8f6e\u4e2d\u6211\u4eec\u53d1\u73b0\u91c7\u6837\u7684\u51c6\u786e\u5ea6\u8fc7\u4f4e\uff0c\u9700\u8981\u589e\u52a0\u521d\u59cb\u7ed3\u6784\u7684\u6570\u91cf\u91cd\u65b0\u8dd1MD\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u628a<code>record.dpgen</code>\u6587\u4ef6\u5728<code>x 2</code>\u4e4b\u540e\u7684\u5185\u5bb9\u5220\u9664\uff0c\u91cd\u65b0\u63d0\u4ea4dpgen\u4efb\u52a1\u3002</p> <ul> <li><code>nohup.out</code> </li> </ul> <p>\u8fd9\u4e2a\u5e76\u4e0d\u662f\u5fc5\u8981\u8f93\u51fa\uff0c\u4f46\u662f\u5efa\u8bae\u4f7f\u7528nohup\u547d\u4ee4\u628adpgen\u6302\u5728\u540e\u53f0\u8fd0\u884c\u3002\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u8f93\u51fa\u7684\u4fe1\u606f\u548c<code>dpgen.log</code>\u7684\u57fa\u672c\u4e00\u81f4\u3002</p>"},{"location":"wiki/software_usage/DP-GEN/#_4","title":"\u4f8b\u5b50","text":"<p>\u63a5\u4e0b\u6765\uff0c\u628a\u94c2\u6c34\u754c\u9762\u52bf\u51fd\u6570\u8bad\u7ec3\u6240\u7528\u7684<code>param.json</code>\u5206\u89e3\u6210\u51e0\u4e2a\u90e8\u5206\u8fdb\u884c\u89e3\u91ca\uff0c\u5728\u5b9e\u9645\u4f7f\u7528\u4e2d\u9700\u8981\u628a\u51e0\u6bb5\u653e\u5728\u4e00\u8d77\u3002</p> <p>comment</p> <p>\u6587\u4ef6\u4e2d\u7684\u6ce8\u91ca\u7528_comment\u6807\u6ce8\u3002</p>"},{"location":"wiki/software_usage/DP-GEN/#paramsjson","title":"\u57fa\u672c\u53c2\u6570\u8bbe\u7f6e: <code>params.json</code>","text":"param.json<pre><code>{ \n    \"type_map\": [        \n        \"O\", \n        \"H\",\n        \"Pt\"\n    ], \n    \"mass_map\": [ \n        15.999,\n        1.0079,\n        195.08\n    ], \n    \"_comment\": \" atoms in your systems \",\n    \"init_data_prefix\": \"/data/kmr/edl/pzc/hydroxide/ml_potential/pt-oh\", \n    \"init_data_sys\": [\n        \"init/system-000\",\"init/system-001\"\n    ], \n    \"_comment\": \" path of training set \",\n    \"init_batch_size\": [\n        1,1\n    ], \n    \"sys_configs\": [\n        [\"/data/kmr/edl/pzc/hydroxide/ml_potential/pt-oh/init/configs/POSCAR_0[0-9]\"],\n        [\"/data/kmr/edl/pzc/hydroxide/ml_potential/pt-oh/init/configs/POSCAR_1[0-9]\"]\n    ], \n    \"_comment\": \" path of initial structure for sampling \",\n    \"sys_batch_size\": [\n        1,1\n    ], \n\n    ......\n}\n</code></pre> <ul> <li>\u52bf\u51fd\u6570\u8bad\u7ec3\uff08DPMD\uff09</li> </ul> param.json<pre><code>  {\n      ......\n      \"numb_models\": 4, \n      \"_comment\": \" number of NNP for model deviation \",\n      \"train_param\": \"input.json\", \n      \"_comment\": \" name of automatically generated input file for DPMD \",\n      \"default_training_param\": {\n          \"model\": {\n          \"descriptor\": {\n          \"type\": \"se_a\",\n    \"_comment\": \"could be bigger than the number of atoms of the very element\",\n          \"sel\": [68, 136, 64], \n          \"rcut_smth\": 0.50, \n          \"rcut\": 5.00, \n          \"neuron\": [25, 50, 100], \n          \"resnet_dt\": false, \n          \"axis_neuron\": 16,\n          \"seed\": 1\n          },\n          \"fitting_net\": {\n          \"n_neuron\": [240, 240, 240], \n          \"resnet_dt\": true, \n          \"seed\": 1\n          }},\n          \"learning_rate\": {\n          \"type\": \"exp\",\n          \"start_lr\": 0.005, \n          \"decay_steps\": 2000,\n          \"_comment\": \"last 20000 or 400000\", \n          \"decay_rate\": 0.95\n          },\n          \"loss\": {\n          \"start_pref_e\": 0.02, \n          \"limit_pref_e\": 1, \n          \"start_pref_f\": 1000, \n          \"limit_pref_f\": 1, \n          \"start_pref_v\": 0, \n          \"limit_pref_v\": 0\n          },\n          \"training\": {\n          \"systems\": [ ], \n          \"set_prefix\": \"set\", \n          \"stop_batch\": 400000, \n          \"batch_size\": 1, \n          \"seed\": 1,\n          \"disp_file\": \"lcurve.out\", \n          \"disp_freq\": 100, \n          \"numb_test\": 4, \n          \"save_freq\": 1000, \n          \"save_ckpt\": \"model.ckpt\", \n          \"load_ckpt\": \"model.ckpt\", \n          \"disp_training\": true, \n          \"time_training\": true, \n          \"profiling\": false, \n          \"profiling_file\": \"timeline.json\"\n          }},\n      \"_comment\": \"modify according your systems!\", \n      ......\n  }\n</code></pre> <ul> <li>\u91c7\u6837\u548c\u7b5b\u9009\uff08Lammps\uff09</li> </ul> param.json<pre><code>{  \n    \"model_devi_dt\":            0.0005,\n    \"_comment\": \"model_devi_dt: Timesteps for MD. Consistent with DFTMD!\",\n    \"model_devi_skip\":          0,\n    \"_comment\": \"model_devi_skip: the first x frames of the recorded frames\",\n    \"model_devi_f_trust_lo\":    0.075,\n    \"model_devi_f_trust_hi\":    0.10,\n    \"_comment\": \"modify according to the error distribution of system\",\n    \"model_devi_e_trust_lo\":    1e10,\n    \"model_devi_e_trust_hi\":    1e10,\n    \"model_devi_clean_traj\":    false,\n    \"model_devi_jobs\": [\n    {\"temps\": [300,400],\"sys_idx\": [0,1],\"trj_freq\": 10,\"nsteps\":  2000,\"ensemble\": \"nvt\",\"_idx\": 0},\n    {\"temps\": [300,400],\"sys_idx\": [0,1],\"trj_freq\": 10,\"nsteps\":  2000,\"ensemble\": \"nvt\",\"_idx\": 1}\n    ],\n    \"_comment\": \"sys_idx should correspond to sys_configs in the beginning\",\n    \"_comment\": \"add the _idx step by step\",\n    \"_comment\": \"modify nsteps and sys_idx based on model deviation accuracy\",\n    ......\n}\n</code></pre> <ul> <li>\u6807\u8bb0\uff08\u8ba1\u7b97\u5355\u70b9\u80fd\uff0c\u6b64\u5904\u4ee5CP2K\u4e3a\u4f8b\uff0cVASP\u7684\u8bbe\u7f6e\u53ef\u5728\u5b98\u65b9\u6587\u6863\u4e2d\u67e5\u770b\uff09</li> </ul> param.json<pre><code>{\n    ......\n    \"fp_style\":     \"cp2k\",\n    \"shuffle_poscar\":   false,\n    \"fp_task_max\":  200,\n    \"_comment\":         \"the maximum number of stcs to calc.\",\n    \"fp_task_min\":  5,\n    \"fp_pp_path\":   \".\",\n    \"fp_pp_files\":  [],\n    \"_comment\":\"the maximum number of stcs to calc.\",\n     \"_comment\": \"fp_params: modify according your systems!\",\n    \"fp_params\": {\n        \"FORCE_EVAL\":{\n            \"DFT\":{\n                \"BASIS_SET_FILE_NAME\": \"/data/kmr/BASIC_SET/BASIS_MOLOPT\",\n                \"POTENTIAL_FILE_NAME\": \"/data/kmr/BASIC_SET/GTH_POTENTIALS\",\n                \"MGRID\":{\n                    \"CUTOFF\": 400\n                },\n                \"QS\":{\n                    \"EPS_DEFAULT\": 1.0E-13\n                },\n                \"SCF\":{\n                    \"SCF_GUESS\": \"ATOMIC\",\n                    \"EPS_SCF\": 1.0E-6,\n                    \"MAX_SCF\": 500,\n                    \"ADDED_MOS\": 500,\n                    \"CHOLESKY\": \"INVERSE\",\n                    \"SMEAR\":{\"ON\"\n                        \"METHOD\": \"FERMI_DIRAC\",\n                        \"ELECTRONIC_TEMPERATURE\": 300\n                    },\n                    \"DIAGONALIZATION\":{\n                        \"ALGORITHM\": \"STANDARD\"\n                    },\n                    \"MIXING\":{\n                               \"METHOD\": \"BROYDEN_MIXING\",\n                               \"ALPHA\":   0.3,\n                               \"BETA\":    1.5,\n                               \"NBROYDEN\":  14\n                    }\n                },\n                \"XC\":{\n                        \"XC_FUNCTIONAL\":{\"_\": \"PBE\"},\n                        \"XC_GRID\":{\n                                \"XC_SMOOTH_RHO\": \"NN50\",\n                                \"XC_DERIV\": \"NN50_SMOOTH\"\n                        },\n                        \"vdW_POTENTIAL\":{\n                                \"DISPERSION_FUNCTIONAL\": \"PAIR_POTENTIAL\",\n                                \"PAIR_POTENTIAL\":{\n                                        \"TYPE\": \"DFTD3\",\n                                        \"PARAMETER_FILE_NAME\": \"/data/kmr/BASIC_SET/dftd3.dat\",\n                                        \"REFERENCE_FUNCTIONAL\": \"PBE\"\n                                }\n                        }\n                }\n           },\n            \"SUBSYS\":{\n                        \"KIND\":{\n                                \"_\": [\"O\", \"H\",\"Pt\"],\n                                \"POTENTIAL\": [\"GTH-PBE-q6\", \"GTH-PBE-q1\",\"GTH-PBE-q10\"],\n                                \"BASIS_SET\": [\"DZVP-MOLOPT-SR-GTH\", \"DZVP-MOLOPT-SR-GTH\",\"DZVP-A5-Q10-323-MOL-T1-DERIVED_SET-1\"]\n                        }\n            }\n        }\n    }\n}\n</code></pre> <p>\u8ba1\u7b97\u8bbe\u7f6e</p> <p>CP2K\u7684input\u4e2d\u90e8\u5206\u53c2\u6570\u6709\u9ed8\u8ba4\u8bbe\u7f6e\u5199\u5165\uff0c\u5177\u4f53\u53ef\u53c2\u7167cp2k.py\u3002</p> <p>\u6307\u8def\uff1acp2k.py</p> <p>\u8ba1\u7b97\u8bbe\u7f6e</p> <p>\u91d1\u5c5e\u4f53\u7cfbOT section\u9700\u8981\u624b\u52a8\u5173\u95ed\uff0c\u5177\u4f53\u89c1\u4e0a\u65b9\u7684\u8bbe\u7f6e\u3002</p>"},{"location":"wiki/software_usage/DP-GEN/#machinejson","title":"\u4efb\u52a1\u63d0\u4ea4\u8bbe\u7f6e: <code>machine.json</code>","text":"<p>\u4ece DP-GEN 0.10.0 \u7248\u672c\u5f00\u59cb\uff0c\u5b98\u65b9\u5f15\u5165\u4e86\u5bf9 DPDispatcher \u7684\u652f\u6301\uff0c\u5e76\u8ba1\u5212\u5c06 <code>machine.json</code> \u8fc1\u79fb\u5230 DPDispatcher \u4e0a\u3002 DPDispatcher \u76f8\u6bd4\u539f\u672c DP-GEN \u81ea\u5e26\u7684 Dispatcher\uff0c\u5728\u63a5\u53e3\u548c\u8bed\u6cd5\u4e0a\u6709\u8f83\u5927\u53d8\u5316\uff0c\u9700\u8981\u989d\u5916\u6307\u5b9a <code>api_version</code> \u5927\u4e8e\u6216\u7b49\u4e8e 1.0\u3002</p> <p>\u5173\u4e8e DPDispatcher \u9879\u76ee\u7684\u8bf4\u660e\uff0c\u8bf7\u53c2\u9605\u8fd9\u91cc\u3002</p> <p>DPDispatcher \u76f8\u6bd4\u65e7\u7248\uff0c\u57fa\u4e8e\u914d\u7f6e\u5b57\u5178\u800c\u975e\u6587\u4ef6Flag\u6765\u7ba1\u7406\u6240\u63d0\u4ea4\u7684\u4efb\u52a1\uff0c\u7a33\u5b9a\u6027\u66f4\u4f18\uff0c\u4e14\u5bf9\u4f5c\u4e1a\u7ba1\u7406\u7cfb\u7edf\u7684\u652f\u6301\u66f4\u52a0\u7075\u6d3b\u591a\u6837\uff0c\u5185\u7f6e\u63a5\u53e3\u53ef\u652f\u6301\u591a\u4efb\u52a1\u5e76\u884c\u63d0\u4ea4\u3002 \u4f46\u65b0\u7248\u5728\u64cd\u4f5c\u4e60\u60ef\u4e0a\u6709\u8f83\u5927\u6539\u53d8\uff0c\u9700\u8981\u9002\u5e94\u548c\u8c03\u6574\u3002</p> <p>\u4ee5 LSF \u4e3a\u4f8b\uff0c\u5bf9 <code>machine.json</code> \u7684\u5199\u6cd5\u4e3e\u4f8b\u5982\u4e0b\uff0c\u8bf7\u7559\u610f\u4ee5\u4e0b\u7684\u6ce8\u610f\u4e8b\u9879\u3002</p> <p>\u6ce8\u610f</p> <p><p><code>train</code> \u90e8\u5206\u548c<code>model_devi</code>\u90e8\u5206\u4f7f\u7528\u4e86\u5bf9\u65b0\u7248 LSF \u63d0\u4f9b\u652f\u6301\u7684\u5199\u6cd5\uff0c\u5373\u540c\u65f6\u6307\u5b9a <code>gpu_usage</code> \u548c <code>gpu_new_syntax</code> \u4e3a <code>True</code>\uff0c\u4ece\u800c\u53ef\u5728\u63d0\u4ea4\u811a\u672c\u4e2d\u4f7f\u7528\u65b0\u7248 LSF \u7684\u8bed\u6cd5\u3002</p><p><code>para_deg</code>\u8868\u793a\u5728\u540c\u4e00\u5f20\u5361\u4e0a\u540c\u65f6\u8fd0\u884c\u7684\u4efb\u52a1\u6570\uff0c\u901a\u5e38\u53ef\u4e0d\u5199\u51fa\uff0c\u6b64\u65f6\u9ed8\u8ba4\u503c\u4e3a1\u3002\u8fd9\u91cc\u7ed9\u51fa\u7684\u4f8b\u5b50\u8868\u793a\u5728\u540c\u4e00\u5f20\u5361\u4e0a\u540c\u65f6\u8fd0\u884c\u4e24\u4e2aLammps\u4efb\u52a1\u3002</p><p><code>fp</code> \u90e8\u5206\u4f7f\u7528\u7684\u662f\u9488\u5bf9CPU\u8ba1\u7b97\u4f7f\u7528\u7684\u8bed\u6cd5\u3002</p></p> <p>\u6ce8\u610f</p> <p><p>\u6ce8\u610f\u5728<code>fp</code>\u90e8\u5206\uff0c<code>mpiexec.hydra</code>\u9700\u8981\u660e\u786e\u5199\u51fa\u4ee5\u786e\u4fdd\u4efb\u52a1\u662f\u5e76\u884c\u6267\u884c\u7684\uff0c\u53ef\u53c2\u8003\u4ee5\u4e0b\u4f8b\u5b50\u4e2d\u7684\u5199\u6cd5\uff1a<code>mpiexec.hydra -genvall vasp_gam</code>\u3002\u82e5\u4f60\u4e0d\u77e5\u9053\u8fd9\u90e8\u5206\u8be5\u5982\u4f55\u4e66\u5199\uff0c\u8bf7\u53c2\u8003\u96c6\u7fa4\u4e0a\u7684\u63d0\u4ea4\u811a\u672c\u8bf4\u660e(<code>/data/share/base/scripts</code>)\u3002</p></p> <p>\u82e5\u5728191\u4e0a\u5411191\u4e0a\u63d0\u4ea4\u4efb\u52a1\uff0c\u53ef\u4ee5\u8003\u8651\u4f7f\u7528<code>LocalContext</code>\uff0c\u53ef\u4ee5\u51cf\u5c11\u6587\u4ef6\u538b\u7f29\u4f20\u8f93\u7684\u989d\u5916IO\u5f00\u9500\u3002</p> machine.json<pre><code>{\n  \"api_version\": \"1.0\",\n  \"train\": [\n    {\n      \"command\": \"dp\",\n      \"machine\": {\n        \"batch_type\": \"Slurm\",\n        \"context_type\": \"LocalContext\",\n        \"local_root\": \"./\",\n        \"remote_root\": \"/data/tom/dprun/train\",\n      },\n      \"resources\": {\n        \"number_node\": 1,\n        \"cpu_per_node\": 1,\n        \"gpu_per_node\": 1,\n        \"queue_name\": \"gpu3\",\n        \"group_size\": 1,\n        \"module_list\": [\n          \"deepmd/2.0\"\n        ]\n      }\n    }\n  ],\n  \"model_devi\":[\n    {\n      \"command\": \"lmp_mpi\",\n      \"machine\":{\n        \"batch_type\": \"Slurm\",\n        \"context_type\": \"SSHContext\",\n        \"local_root\": \"./\",\n        \"remote_root\": \"/data/jerry/dprun/md\",\n        \"remote_profile\": {\n          \"hostname\": \"198.76.54.32\",\n          \"username\": \"jerry\",\n          \"port\": 6666\n        }\n      },\n      \"resources\": {\n        \"number_node\": 1,\n        \"cpu_per_node\": 1,\n        \"gpu_per_node\": 1,\n        \"queue_name\": \"gpu2\",\n        \"group_size\": 5,\n        \"kwargs\": {\n          \"custom_gpu_line\": [\n            \"#SBATCH --gres=gpu:1g.10gb:1\"\n          ]\n        },\n        \"strategy\": {\"if_cuda_multi_devices\": false},\n        \"para_deg\": 2,\n        \"module_list\": [\n          \"deepmd/2.1\"\n        ],\n        \"source_list\": []\n      }\n    }\n  ],\n  \"fp\":[\n    {\n      \"command\": \"mpiexec.hydra -genvall cp2k.popt input.inp\",\n      \"machine\":{\n        \"batch_type\": \"Slurm\",\n        \"context_type\": \"SSHContext\",\n        \"local_root\": \"./\",\n        \"remote_root\": \"/data/jerry/dprun/fp\",\n        \"remote_profile\": {\n          \"hostname\": \"198.76.54.32\",\n          \"username\": \"jerry\",\n          \"port\": 6666\n        }\n      },\n      \"resources\": {\n        \"number_node\": 2,\n        \"cpu_per_node\": 32,\n        \"gpu_per_node\": 0,\n        \"queue_name\": \"c53-medium\",\n        \"group_size\": 10,\n        \"module_list\": [\n          \"intel/17.5.239\",\n          \"mpi/intel/2017.5.239\",\n          \"gcc/5.5.0\"\n          \"cp2k/7.1\"\n        ]\n      }\n    }\n  ]\n}\n</code></pre> <p>\u76f8\u5173\u53c2\u6570\u542b\u4e49\uff0c\u8be6\u60c5\u8bf7\u53c2\u9605\u5b98\u65b9\u6587\u6863 machine \u548c resources \u90e8\u5206\u7684\u8bf4\u660e\u3002</p> <p>\u4ee5\u4e0b\u662f\u90e8\u5206\u53c2\u6570\u542b\u4e49\uff1a</p> \u53c2\u6570 \u63cf\u8ff0 <code>machine</code> \u6307\u5b9a\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u914d\u7f6e\u4fe1\u606f\u3002 <code>batch_type</code> \u63d0\u4ea4\u4f5c\u4e1a\u7cfb\u7edf\u7684\u7c7b\u578b\uff0c\u53ef\u6307\u5b9a <code>LSF</code>, <code>Slurm</code>, <code>Shell</code> \u7b49\u3002 <code>context_type</code> \u8fde\u63a5\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u7684\u65b9\u5f0f\uff0c\u5e38\u7528\u53ef\u9009\u53c2\u6570<code>SSHContext</code>, <code>LocalContext</code>, <code>LazyLocalContext</code>\u7b49\u3002\u8be6\u89c1\u5b98\u65b9\u6587\u6863\u8bf4\u660e\u3002 <code>SSHContext</code> \u901a\u8fc7SSH\u8fde\u63a5\u5230\u8fdc\u7a0b\u4e3b\u673a\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u4ece\u4e00\u4e2a\u670d\u52a1\u5668\u63d0\u4ea4\u5230\u53e6\u4e00\u4e2a\u65f6\u53ef\u4f7f\u7528\u3002 <code>LocalContext</code> \u82e5\u9700\u8981\u5728\u5f53\u524d\u670d\u52a1\u5668\u4e0a\u63d0\u4ea4\u4efb\u52a1\uff0c\u53ef\u9009\u62e9\u6b64\u9009\u9879\uff0c\u5219\u4e0d\u5fc5\u901a\u8fc7SSH\u8fde\u63a5\u3002\u6b64\u65f6 <code>remote_profile</code> \u90e8\u5206\u53ef\u4e0d\u5199\u3002 <code>remote_root</code> \u4efb\u52a1\u5728\u76ee\u6807\u4e3b\u673a\u4e0a\u63d0\u4ea4\u7684\u7edd\u5bf9\u8def\u5f84\u3002 <code>remote_profile</code> \u8fdc\u7a0b\u4e3b\u673a\u8bbe\u7f6e\uff0c\u82e5<code>context_type</code>\u4e3a<code>LocalContext</code>, <code>LazyLocalContext</code>\u53ef\u4e0d\u5199\u3002 <code>hostname</code> \u8fdc\u7a0b\u4e3b\u673aIP\u3002 <code>username</code> \u8fdc\u7a0b\u4e3b\u673a\u7528\u6237\u540d\u3002 <code>password</code> \u8fdc\u7a0b\u4e3b\u673a\u5bc6\u7801\u3002\u82e5\u901a\u8fc7\u5bc6\u94a5\u767b\u9646\u53ef\u4e0d\u5199\u3002 <code>port</code> SSH\u8fde\u63a5\u7684\u7aef\u53e3\uff0c\u9ed8\u8ba4\u4e3a22\u3002 <code>key_filename</code> SSH\u5bc6\u94a5\u5b58\u653e\u7684\u8def\u5f84\u3002\u9ed8\u8ba4\u653e\u5728<code>~/.ssh</code>\u4e0b\uff0c\u6b64\u65f6\u53ef\u4e0d\u5199\u3002 <code>passphrase</code> \u5bc6\u94a5\u5b89\u5168\u53e3\u4ee4\uff0c\u901a\u5e38\u5728\u521b\u5efa\u5bc6\u94a5\u65f6\u8bbe\u7f6e\u3002\u82e5\u4e3a\u7a7a\u53ef\u4e0d\u5199\u3002 <code>resource</code> \u4f5c\u4e1a\u63d0\u4ea4\u76f8\u5173\u914d\u7f6e\u4fe1\u606f\u3002 <code>number_node</code> \u4f5c\u4e1a\u4f7f\u7528\u7684\u8282\u70b9\u6570\u3002 <code>cpu_per_node</code> \u6bcf\u4e2a\u8282\u70b9\u4e0a\u4f7f\u7528CPU\u6838\u6570\u3002 <code>gpu_per_node</code> \u6bcf\u4e2a\u8282\u70b9\u4e0a\u4f7f\u7528GPU\u5361\u6570\u3002 <code>kwargs</code> \u53ef\u9009\u53c2\u6570\uff0c\u4f9d\u636e\u5404\u4f5c\u4e1a\u7cfb\u7edf\u652f\u6301\u7684\u914d\u7f6e\u800c\u5b9a\u3002\u8be6\u89c1\u5b98\u65b9\u6587\u6863\u3002 <code>custom_gpu_line</code> \u81ea\u5b9a\u4e49GPU\u63d0\u4ea4\u547d\u4ee4\uff0c\u53ef\u6839\u636e\u8bed\u6cd5\u81ea\u5b9a\u4e49\u3002\u6839\u636e\u4f5c\u4e1a\u7ba1\u7406\u7cfb\u7edf\u4e0d\u540c\uff0c\u4ee5 <code>#BSUB</code> (LSF) \u6216 <code>#SBATCH</code> (Slurm) \u5f00\u5934\u3002\u6587\u4e2d\u7684\u4f8b\u5b50\u5373\u5728<code>gpu2</code>\u4e0a\u4f7f\u7528MIG\u5b9e\u4f8b\uff081g.10gb\uff09\u3002 <code>custom_flags</code> \u5176\u4ed6\u9700\u8981\u4f7f\u7528\u7684Flag\uff0c\u4f8b\u5982Walltime\u3001\u4f5c\u4e1a\u540d\u7b49\u8bbe\u7f6e\u3002 <code>queue_name</code> \u4efb\u52a1\u63d0\u4ea4\u7684\u961f\u5217\u540d\u3002 <code>group_size</code> \u6bcf\u4e2a\u4f5c\u4e1a\u7ed1\u5b9a\u7684\u4efb\u52a1\u4e2a\u6570\u3002 <code>if_cuda_multi_devices</code> \u662f\u5426\u5141\u8bb8\u4efb\u52a1\u8fd0\u884c\u5728\u591a\u5361\u4e0a\uff0c\u9ed8\u8ba4\u4e3a <code>True</code>\u3002\u5728Zeus\u4e0a\u5efa\u8bae\u5199\u6210 <code>False</code>\u3002 <code>para_deg</code> \u540c\u4e00\u5361\u4e0a\u540c\u65f6\u8fd0\u884c\u7684\u4efb\u52a1\u6570\u3002\u9ed8\u8ba4\u4e3a1\u3002 <code>module_list</code> \u9700\u8981load\u7684module\u3002\u53ef\u4e0d\u5199\u3002 <code>module_unload_list</code> \u9700\u8981unload\u7684module\u3002\u53ef\u4e0d\u5199\u3002 <code>source_list</code> \u9700\u8981source\u7684\u811a\u672c\u8def\u5f84\u3002\u53ef\u4e0d\u5199\u3002 <code>envs</code> \u9700\u8981\u5f15\u5165\u7684\u73af\u5883\u53d8\u91cf\u3002\u53ef\u4e0d\u5199\u3002 <p>\u767b\u5f55\u8bbe\u7f6e</p> <p>\u5982\u679c\u670d\u52a1\u5668\u662f\u5bc6\u7801\u767b\u5f55\uff0c\u5728username\u4e4b\u540e\u52a0\u4e0a\u5173\u952e\u8bcdpassword\u5e76\u5199\u4e0a\u5bc6\u7801\u3002\u8f93\u5165\u7684\u5185\u5bb9\u8981\u7528\u5f15\u53f7\u62ec\u8d77\uff01</p> <p>\u51c6\u5907\u597d\u6240\u6709\u7684\u8f93\u5165\u6587\u4ef6\u540e\uff0c\u5c31\u53ef\u4ee5\u7528\u4ee5\u4e0b\u6307\u4ee4\u63d0\u4ea4dpgen\u4efb\u52a1\u5566\uff01</p> <p><code>dpgen run param.json machine.json</code></p> <p>\u63d0\u4ea4\u4efb\u52a1</p> <p>\u5982\u679c\u5728191\u63d0\u4ea4\uff0c\u9700\u8981\u5728\u670d\u52a1\u5668\u4e0a\u81ea\u884c\u5b89\u88c5dpgen\u3002\u5177\u4f53\u505a\u6cd5\u89c1\u5b98\u65b9GitHub\u3002 \u4e00\u822c\u6765\u8bf4\u8fd0\u884c\u5982\u4e0b\u547d\u4ee4\u5373\u53ef\uff1a</p> <pre><code>pip install --user dpgen\n</code></pre> <p>Slurm\u83b7\u53d6\u72b6\u6001\u5f02\u5e38\u95ee\u9898\u7684\u89e3\u51b3</p> <p>\u82e5\u9047\u5230\u4ee5\u4e0b\u62a5\u9519\uff0c\u5f88\u5927\u53ef\u80fd\u662f\u56e0\u4e3aSlurm\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u4efb\u52a1\u72b6\u6001\u3002\u7531\u4e8e\u65e7\u7248\u672cDPDispatcher\u5bf9\u8fd9\u7c7b\u6ce2\u52a8\u5bfc\u81f4\u7684\u62a5\u9519\u6ca1\u6709\u5145\u5206\u8003\u8651\uff0c\u4f1a\u76f4\u63a5\u9000\u51fa\uff1a</p> <pre><code>RuntimeError: status command squeue fails to execute.job_id:13544 \nerror message:squeue: error: Invalid user for SlurmUser slurm, ignored\nsqueue: fatal: Unable to process configuration file\n</code></pre> <p>\u65b0\u7248\u8fd9\u4e00\u90e8\u5206\u5df2\u7ecf\u505a\u4e86\u8c03\u6574\uff0c\u4f46\u7531\u4e8e\u4e4b\u524d\u7684\u7248\u672c\u7a7a\u6587\u4ef6\u5939\u590d\u5236\u8fc7\u7a0b\u5b58\u5728\u4e25\u91cdbug\uff0c\u8bf7\u52a1\u5fc5\u4fdd\u8bc1DPDispatcher\u7248\u672c\u57280.5.6\u4ee5\u4e0a\u3002</p> <pre><code>pip install --upgrade --user dpdispatcher\n</code></pre> <p>\u652f\u6301</p> <p>\u76ee\u524dDP-GEN 0.11\u4ee5\u4e0a\u7248\u672c\u5df2\u7ecf\u79fb\u9664\u4e86\u65e7\u7248 <code>dispatcher</code> \u7684\u652f\u6301\uff0c\u63a8\u8350\u8fc1\u79fb\u5230 DPDispatcher \u4e0a\u3002\u4e3a\u9632\u6b62\u517c\u5bb9\u6027\u95ee\u9898\uff0c\u8fd9\u91cc\u4ecd\u4fdd\u7559\u4e86\u65e7\u7248\u7684\u8f93\u5165\uff0c\u8bf7\u6ce8\u610f\u7504\u522b\u3002</p> machine_old.json<pre><code>{\n  \"train\": [\n    {\n      \"machine\": {\n        \"machine_type\": \"slurm\",\n        \"hostname\": \"123.45.67.89\",\n        \"port\": 22,\n        \"username\": \"kmr\",\n        \"work_path\": \"/home/kmr/pt-oh/train\"\n      },\n      \"resources\": {\n        \"node_gpu\": 1,\n        \"numb_node\": 1,\n        \"task_per_node\": 1,\n        \"partition\": \"large\",\n        \"exclude_list\": [],\n        \"source_list\": [],\n        \"module_list\": [\n            \"deepmd/2.1\"\n        ],\n        \"time_limit\": \"23:0:0\"\n      },\n      \"python_path\": \"/share/apps/deepmd/2.1/bin/python\"\n    }\n  ],\n  \"model_devi\": [\n    {\n      \"machine\": {\n        \"machine_type\": \"slurm\",\n        \"hostname\": \"123.45.67.89\",\n        \"port\": 22,\n        \"username\": \"kmr\",\n        \"work_path\": \"/home/kmr/pt-oh/dpmd\"\n      },\n      \"resources\": {\n        \"node_gpu\": 1,\n        \"numb_node\": 1,\n        \"task_per_node\": 1,\n        \"partition\": \"large\",\n        \"exclude_list\": [],\n        \"source_list\": [],\n        \"module_list\": [\n            \"deepmd/2.1\"\n        ],\n        \"time_limit\": \"23:0:0\"\n      },\n      \"command\": \"lmp_mpi\",\n      \"group_size\": 80\n    }\n  ],\n  \"fp\": [\n    {\n      \"machine\": {\n        \"machine_type\": \"slurm\",\n        \"hostname\": \"123.45.67.90\",\n        \"port\": 6666,\n        \"username\": \"kmr\",\n        \"work_path\": \"/data/kmr/edl/pzc/hydroxide/ml_potential/pt-oh/labelling\"\n      },\n      \"resources\": {\n        \"cvasp\": false,\n        \"task_per_node\": 28,\n        \"numb_node\": 1,\n        \"node_cpu\": 28,\n        \"exclude_list\": [],\n        \"with_mpi\": true,\n        \"source_list\": [\n        ],\n        \"module_list\": [\n            \"intel/17.5.239\",\n            \"mpi/intel/17.5.239\",\n            \"cp2k/6.1\"\n        ],\n        \"time_limit\": \"12:00:00\",\n        \"partition\": \"medium\",\n        \"_comment\": \"that's Bel\"\n      },\n      \"command\": \"cp2k.popt input.inp\",\n      \"group_size\": 50 \n    }\n  ]\n}\n</code></pre>"},{"location":"wiki/software_usage/DP-GEN/#_5","title":"\u8bad\u7ec3\u96c6\u6536\u96c6","text":"<p>DP-GEN\u4ee3\u7801\u8fed\u4ee3\u751f\u6210\u7684\u8bad\u7ec3\u96c6\u662f\u5206\u6563\u50a8\u5b58\u7684\u3002\u53ef\u4ee5\u7528DP-GEN\u81ea\u5e26\u7684collect\u51fd\u6570\u8fdb\u884c\u6570\u636e\u6536\u96c6\u3002</p> <p>\u9996\u5148\u53ef\u4ee5\u4f7f\u7528<code>dpgen collect -h</code> \u67e5\u770b\u4f7f\u7528\u8bf4\u660e</p> <p>\u5e38\u7528\u7528\u6cd5\u662f</p> <pre><code>dpgen collect JOB_DIR OUTPUT_DIR -p param.json\n</code></pre> <p>JOB_DIR\u5c31\u662fDP-GEN\u7684\u8f93\u51fa\u76ee\u5f55\uff0c\u5305\u542b\u6709<code>iter.0000*</code>\u4e00\u7cfb\u5217\u7684\u76ee\u5f55\u3002OUTPUT_DIR\u5c31\u662f\u6536\u96c6\u7684\u6570\u636e\u51c6\u5907\u653e\u5230\u54ea\u3002param.json\u5c31\u662f\u8fd0\u884cDP-GEN\u8dd1\u7684param\u6587\u4ef6\u3002</p> <p>\u4f8b\u5982\uff1a</p> <pre><code>dpgen collect ./ ./collect -p param-ruo2.json\n</code></pre> <p>\u4ee5\u4e0a\u547d\u4ee4\u4f1a\u628a\u5f53\u524d\u6587\u4ef6\u5939\u7684DP-GEN\u6570\u636e\u6536\u96c6\u597d\u653e\u5165collect\u76ee\u5f55\u91cc\u3002</p> <pre><code>init.000  init.001  sys.000  sys.001\n</code></pre> <p><code>init.*</code>\u662f\u521d\u59cb\u8bad\u7ec3\u96c6\uff0c<code>sys.*</code>\u662f\u540e\u6765DP-GEN\u751f\u6210\u7684\u8bad\u7ec3\u96c6\uff0c\u6309\u7167param\u7684sys\u5206\u7c7b\u3002</p>"},{"location":"wiki/software_usage/DP-GEN/#bonus","title":"Bonus\uff01","text":""},{"location":"wiki/software_usage/DP-GEN/#_6","title":"\u5e38\u89c1\u62a5\u9519\u95ee\u9898\uff08\u6b22\u8fce\u8865\u5145&amp;\u4fee\u6b63\uff09","text":"<ul> <li>... expecting value ...</li> </ul> <p>\u53ef\u80fd\u662f\u6570\u7ec4\u6216\u8005\u5b57\u5178\u672b\u5c3e\u591a\u5199\u4e86\u9017\u53f7</p> <ul> <li>ERROR: lost atoms ...</li> </ul> <p>\u53ef\u80fd\u662fLammps\u7b97model_devi\u7684\u65f6\u5019\u56e0\u4e3a\u52bf\u51fd\u6570\u592a\u5dee\u5bfc\u81f4\u6709\u539f\u5b50\u91cd\u5408\u800c\u62a5\u9519\u3002\u53ef\u4ee5\u624b\u52a8\u5728\u5bf9\u5e94\u7684\u5355\u6761\u8f68\u8ff9\u7684input.lammps\u4e2d\u52a0\u5165</p> <pre><code>  thermo_modify   lost ignore flush yes\n</code></pre> <p>\u7136\u540e\u5728\u4e0a\u4e00\u7ea7\u6587\u4ef6\u5939\u4e0b\u9762\u624b\u52a8\u63d0\u4ea4\u4efb\u52a1</p> <p><pre><code>  bsub&lt;*.sub\n</code></pre> - AssertionError</p> <p>\u67d0\u4e2a\u5355\u70b9\u80fd\u8ba1\u7b97\u4e2d\u65ad\u540e\u91cd\u65b0\u5f00\u59cb\uff0c\u5bfc\u81f4cp2k\u7684output\u4e2d\u6709\u91cd\u53e0\u3002\u53ef\u4ee5\u572802.fp\u6587\u4ef6\u5939\u4e0b\u7528\u4ee5\u4e0b\u811a\u672c\u8fdb\u884c\u68c0\u67e5\uff1a <pre><code>import dpdata\nimport glob\nl = glob.glob(\"task.002*\")\nl.sort()\nstc = dpdata.LabeledSystem(l[0]+'/output',fmt='cp2k/output')\nfor i in l[1:]:\n    print(i)\n    stc += dpdata.LabeledSystem(i+'/output',fmt='cp2k/output')\n</code></pre></p> <p>\u5176\u4e2d<code>task.002.*</code>\u4ee3\u8868\u904d\u5386002system\u4e2d\u7684\u88ab\u6807\u8bb0\u7684\u7ed3\u6784\u3002\u5982\u679c\u4e0d\u540c\u7cfb\u7edf\u7684\u539f\u5b50\u6570\u76f8\u540c\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528<code>task.00*</code>\u4e00\u6b21\u6027\u68c0\u67e5\u6240\u6709\u7684\u7ed3\u6784\u3002</p> <ul> <li>\u5982\u679c\u4f60\u53d1\u73b0\u8fdb\u884c model deviation \u4ece\u4e00\u5f00\u59cb\u5c31\u975e\u5e38\u5927\uff0c\u5e76\u4e14\u6d4b\u8bd5\u96c6\u7684\u7ed3\u6784\u88ab\u6253\u4e71\uff0c\u6709\u53ef\u80fd\u662f\u5728 param \u6587\u4ef6\u4e2d\u8bbe\u7f6e\u4e86<code>\"shuffle_poscar\": true</code>\u3002\u8be5\u9009\u9879\u4f1a\u968f\u673a\u6253\u4e71\u6d4b\u8bd5\u96c6\u539f\u59cb <code>POSCAR</code> \u4e2d\u7684\u884c\uff0c\u5e76\u7528\u6253\u4e71\u540e\u7684\u7ed3\u6784\u8fdb\u884c model deviation \u6d4b\u8bd5\u3002\u8be5\u9009\u9879\u4e3b\u8981\u7528\u4e8e\u6253\u4e71\u5408\u91d1\u4f53\u7cfb\u7684\u7ed3\u6784\uff0c\u7136\u800c\u5bf9\u4e8e\u754c\u9762\u6216\u8005\u5171\u4ef7\u952e\u8fde\u63a5\u7684\u4f53\u7cfb\uff08\u5982\u534a\u5bfc\u4f53\uff09\uff0c\u968f\u673a\u6253\u4e71\u539f\u5b50\u7684\u5c06\u4f1a\u4f7f\u754c\u9762\u7ed3\u6784\u6216\u8005\u534a\u5bfc\u4f53\u7ed3\u6784\u53d8\u6210\u6df7\u4e71\u7684\u4e00\u9505\u7ca5\uff0c\u6ca1\u6709\u4efb\u4f55\u5316\u5b66\u542b\u4e49\uff0c\u56e0\u6b64\u6211\u4eec\u4e0d\u7528\u8fdb\u884cshuffle\uff08\u4e5f\u4e0d\u53ef\u4ee5\uff09\u3002\u8bf7\u5728 param \u6587\u4ef6\u4e2d\u8bbe\u7f6e: <pre><code>...\n\"shuffle_poscar\": false\n...\n</code></pre></li> </ul>"},{"location":"wiki/software_usage/DP-GEN/#script-from-xyz-to-poscar","title":"script from xyz to POSCAR","text":"<p><pre><code>from ase.io import iread, write\nimport ase.build\n\nfor j in range(2):\n    i=0\n    for atoms in iread('./traj_'+str(j)+'.xyz', format='xyz'):\n        atoms.set_cell([11.246, 11.246, 35.94,90,90,90])\n        i=i+1\n        if i%20==0:\n            atoms=ase.build.sort(atoms)\n            ase.io.write('POSCAR_'+str(j)+'_'+str(int(i/20)-1), atoms, format='vasp',vasp5=True)\n</code></pre> \u6216\u8005\u8c03\u7528<code>ase.io.vasp</code>\u91cc\u7684<code>write</code>:</p> <pre><code>def write_vasp(filename, atoms, label=None, direct=False, sort=None,\nsymbol_count=None, long_format=True, vasp5=False,\nignore_constraints=False):\n</code></pre>"},{"location":"wiki/software_usage/DeePMD-kit/","title":"DeePMD-kit 2.x \u4f7f\u7528\u5165\u95e8","text":""},{"location":"wiki/software_usage/DeePMD-kit/#_1","title":"\u7b80\u4ecb","text":"<p>DeePMD-kit\u662f\u4e00\u4e2a\u8bad\u7ec3\u795e\u7ecf\u7f51\u7edc\u52bf\u80fd(Machine Learning Potential)\u7684\u4ee3\u7801\u5305\u3002\u8be5\u5305\u4e3b\u8981\u7531\u5f20\u6797\u5cf0\uff08\u666e\u6797\u65af\u987f\u5927\u5b66\uff09\uff0c\u738b\u6db5\uff08\u5317\u4eac\u5e94\u7528\u7269\u7406\u4e0e\u8ba1\u7b97\u6570\u5b66\u7814\u7a76\u6240\uff09\u5f00\u53d1\u3002\u9ec4\u5251\u5174\u548c\u5e84\u6c38\u658c\u66fe\u7ecf\u77ed\u65f6\u95f4\u53c2\u4e0e\u5f00\u53d1\u3002\u5982\u6709\u95ee\u9898\uff0c\u53ef\u4ee5\u5411\u4ed6\u4eec\u8be2\u95ee\u3002</p> <p>Danger</p> <p>\u6211\u4eec\u5df2\u7ecf\u820d\u5f03\u4e861.x\u7248\u672c\u7684\u6559\u7a0b\u3002</p> <p>\u4ee5\u4e0b\u4e3a\u53c2\u8003\u4fe1\u606f:</p> <ul> <li>\u5b98\u7f51</li> <li>\u5b98\u65b9\u6587\u6863</li> <li>\u5b89\u88c5\u65b9\u6cd5:  Installation Guide</li> </ul> <p>Warning</p> <p>\u6b64\u9875\u9762\u4ec5\u9650\u63d0\u4f9b\u8d21\u732e\u8005\u5bf9\u4e8e\u8be5\u8f6f\u4ef6\u7684\u7406\u89e3\uff0c\u5982\u6709\u4efb\u4f55\u95ee\u9898\u8bf7\u8054\u7cfb\u8d21\u732e\u8005</p>"},{"location":"wiki/software_usage/DeePMD-kit/#_2","title":"\u7b2c\u4e00\u6b21\u5c1d\u8bd5","text":""},{"location":"wiki/software_usage/DeePMD-kit/#_3","title":"\u8fd0\u884c\u7b2c\u4e00\u6b21\u673a\u5668\u5b66\u4e60","text":"<p>\u5982\u679c\u4f60\u6b63\u5728\u4f7f\u7528 Zeus \u96c6\u7fa4\uff0c\u8bf7\u4f7f\u7528 <code>slurm</code> \u811a\u672c\u6765\u63d0\u4ea4 DeePMD-kit \u4efb\u52a1\u3002</p> <p>\u8bf7\u4ece Github \u4e0b\u8f7d DeePMD-kit \u7684\u4ee3\u7801\uff0c\u6211\u4eec\u5c06\u4f1a\u4f7f\u7528\u91cc\u9762\u7684\u6c34\u6a21\u578b\u505a\u4e3a\u4f8b\u5b50\u3002</p> <pre><code>git clone https://github.com/deepmodeling/deepmd-kit.git\n</code></pre> <p>\u9996\u5148\u8fdb\u5165\u542b\u6709\u6c34\u6a21\u578b\u7684\u4f8b\u5b50\u7684\u76ee\u5f55</p> <pre><code>cd &lt;deepmd repositoy&gt;/examples/water/se_e2_a/\n</code></pre> <p>\u4f60\u4f1a\u770b\u5230<code>input.json</code>\u6587\u4ef6\uff0c\u8fd9\u662fDeePMD-kit\u4f7f\u7528\u7684\u8f93\u5165\u6587\u4ef6\u3002\u73b0\u5728\u590d\u5236<code>/data/share/base/script/deepmd.lsf</code>\u5230\u5f53\u524d\u6587\u4ef6\u5939\uff0c\u5e76\u4e14\u4fee\u6539\u5b83\u3002</p> <pre><code>cp /data/share/base/script/deepmd.lsf ./\nvim deepmd.lsf\n</code></pre> <p>Warning</p> <p>\u5982\u679c\u8c03\u7528\u7684\u662f1.0\u7684\u7248\u672c\uff0c\u9700\u8981\u5728learning_rate\u4e0b\u52a0\u5165decay_rate\u5173\u952e\u8bcd\uff0c\u4e00\u822c\u8bbe\u4e3a0.95.</p> <p>\u4f60\u73b0\u5728\u4ec5\u9700\u8981\u4fee\u6539 <code>slurm</code> \u811a\u672c\u4e2d\u7684\u8f93\u5165\u6587\u4ef6\u540d\u79f0\u5373\u53ef\u3002\u628a\u811a\u672c\u4e2d\u7684<code>input.json</code>\u66ff\u6362\u6210<code>water_se_a.json</code>\u3002</p> <pre><code>#!/bin/bash\n\n#BSUB -q gpu\n#BSUB -W 24:00\n#BSUB -J train\n#BSUB -o %J.stdout\n#BSUB -e %J.stderr\n#BSUB -n 8\n#BSUB -R \"span[ptile=8]\"\n# ============================================\n# modify the number of cores to use\n# according to the number of GPU you select\n# for example, 8 cores for one GPU card\n# while there are 32 cores in total\n# ============================================\n\n# add modulefiles\nmodule add deepmd/2.2.7\n\n# automatic select the gpu\nsource /data/share/base/script/find_gpu.sh\n\ndp train input.json -l train.log\n</code></pre> <p>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u63d0\u4ea4\u4efb\u52a1\uff1a</p> <pre><code>#submit your job\nbsub &lt; deepmd.lsf\n#check your job by\nbjobs \n</code></pre> <p>\u5f53\u4efb\u52a1\u6267\u884c\u4e2d\uff0c\u5f53\u524d\u76ee\u5f55\u4f1a\u751f\u6210\u4ee5\u4e0b\u6587\u4ef6\uff1a</p> <ul> <li><code>train.log</code>: \u8bad\u7ec3\u7684\u8bb0\u5f55\u6587\u4ef6</li> <li><code>lcurve.out</code>: \u673a\u5668\u5b66\u4e60\u7684\u5b66\u4e60\u66f2\u7ebf</li> <li><code>model.ckpt.data-00000-of-00001</code>, <code>model.ckpt.index</code>, <code>checkpoint</code>, <code>model.ckpt.meta</code>: \u4ee5\u4e0a\u4e09\u4e2a\u4e3a\u8bad\u7ec3\u5b58\u6863\u70b9</li> </ul> <p>\u975e\u5e38\u597d\uff01\u5df2\u7ecf\u6210\u529f\u5f00\u59cb\u7b2c\u4e00\u6b21\u673a\u5668\u5b66\u4e60\u8bad\u7ec3\u4e86\uff01</p>"},{"location":"wiki/software_usage/DeePMD-kit/#_4","title":"\u6d4f\u89c8\u8f93\u51fa\u6587\u4ef6","text":"<p>\u4f7f\u7528 <code>less</code> \u547d\u4ee4\u6765\u6d4f\u89c8\u8f93\u51fa\u6587\u4ef6</p> <pre><code>less train.log\n</code></pre> <p>\u4f60\u5c06\u4f1a\u770b\u5230\u5982\u4e0b\u5185\u5bb9</p> <pre><code># DEEPMD: initialize model from scratch\n# DEEPMD: start training at lr 1.00e-03 (== 1.00e-03), final lr will be 3.51e-08\n2019-12-07 00:03:49.659876: I tensorflow/stream_executor/platform/default/dso_loader.cc:42] Successfully opened dynamic library libcublas.so.10.0\n# DEEPMD: batch     100 training time 5.95 s, testing time 0.18 s\n# DEEPMD: batch     200 training time 4.58 s, testing time 0.20 s\n# DEEPMD: batch     300 training time 4.56 s, testing time 0.14 s\n# DEEPMD: batch     400 training time 4.49 s, testing time 0.13 s\n# DEEPMD: batch     500 training time 4.60 s, testing time 0.14 s\n# DEEPMD: batch     600 training time 4.61 s, testing time 0.15 s\n# DEEPMD: batch     700 training time 4.43 s, testing time 0.18 s\n# DEEPMD: batch     800 training time 4.59 s, testing time 0.13 s\n# DEEPMD: batch     900 training time 4.41 s, testing time 0.17 s\n# DEEPMD: batch    1000 training time 4.66 s, testing time 0.11 s\n# DEEPMD: saved checkpoint model.ckpt\n# DEEPMD: batch    1100 training time 4.45 s, testing time 0.15 s\n# DEEPMD: batch    1200 training time 4.37 s, testing time 0.14 s\n</code></pre> <p>\u5728<code>batch</code>\u540e\u9762\u7684\u6570\u5b57\u8868\u660e\u7a0b\u5e8f\u5df2\u7ecf\u653e\u5165\u4e86\u591a\u5c11\u6570\u636e\u8fdb\u884c\u8bad\u7ec3\u3002\u8fd9\u4e2a\u6570\u5b57\u7684\u663e\u793a\u95f4\u9694\uff0c\u5373100\uff0c\u662f\u5728\u8f93\u5165\u6587\u4ef6\u7684<code>\"disp_freq\":  100</code> \u8bbe\u7f6e\u7684\u3002</p> <p>\u73b0\u5728\u6765\u770b\u770b\u4f60\u7684\u5b66\u4e60\u66f2\u7ebf <code>lcurve.out</code></p> <pre><code>less lcurve.out\n</code></pre> <p>\u4f60\u5c06\u4f1a\u770b\u5230\uff1a</p> <pre><code>#  step      rmse_val    rmse_trn    rmse_e_val  rmse_e_trn    rmse_f_val  rmse_f_trn         lr\n      0      1.69e+01    1.58e+01      1.52e+00    5.69e-01      5.35e-01    5.00e-01    1.0e-03\n   1000      4.74e+00    4.68e+00      3.88e-02    4.02e-01      1.50e-01    1.48e-01    1.0e-03\n   2000      5.06e+00    3.93e+00      1.86e-01    1.54e-01      1.60e-01    1.24e-01    1.0e-03\n   3000      4.73e+00    4.34e+00      9.08e-02    3.90e-01      1.49e-01    1.37e-01    1.0e-03\n   4000      4.65e+00    6.09e+00      2.24e-01    1.92e-01      1.47e-01    1.93e-01    1.0e-03\n   5000      3.84e+00    3.25e+00      5.26e-02    2.40e-02      1.25e-01    1.06e-01    9.4e-04\n   6000      4.17e+00    2.78e+00      6.35e-02    3.89e-02      1.36e-01    9.03e-02    9.4e-04\n   7000      3.24e+00    3.00e+00      5.55e-02    8.58e-03      1.05e-01    9.76e-02    9.4e-04\n   8000      2.97e+00    2.83e+00      2.97e-02    2.46e-02      9.68e-02    9.22e-02    9.4e-04\n   9000      1.01e+01    6.92e+00      1.36e-01    1.89e-01      3.28e-01    2.25e-01    9.4e-04\n  10000      3.73e+00    3.39e+00      4.38e-02    3.23e-02      1.25e-01    1.14e-01    8.9e-04\n  11000      3.51e+00    2.76e+00      1.31e-01    3.47e-01      1.17e-01    8.98e-02    8.9e-04\n  12000      2.59e+00    2.89e+00      1.35e-01    1.18e-01      8.57e-02    9.65e-02    8.9e-04\n  13000      5.65e+00    4.68e+00      3.08e-01    3.28e-01      1.88e-01    1.55e-01    8.9e-04\n</code></pre> <p>\u8fd9\u4e9b\u6570\u5b57\u5c55\u793a\u4e86\u5f53\u524d\u673a\u5668\u5b66\u4e60\u6a21\u578b\u5bf9\u4e8e\u6570\u636e\u9884\u6d4b\u7684\u8bef\u5dee\u6709\u591a\u5927\u3002 <code>rmse_e_trn</code> \u610f\u5473\u7740\u5728\u6d4b\u8bd5\u96c6\u4e0a\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6a21\u578b\u9884\u6d4b\u7684\u80fd\u91cf\u8bef\u5dee\u4f1a\u6709\u591a\u5927\u3002 <code>rmse_e_val</code> \u610f\u5473\u7740\u5728\u8bad\u7ec3\u96c6\u4e0a\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u6a21\u578b\u9884\u6d4b\u7684\u80fd\u91cf\u8bef\u5dee\u4f1a\u6709\u591a\u5927\u3002 <code>rmse_f_tst</code> and <code>rmse_f_trn</code> \u8868\u793a\u76f8\u540c\u610f\u4e49\uff0c\u4e0d\u8fc7\u662f\u5bf9\u4e8e\u529b\u7684\u9884\u6d4b. \u4f60\u53ef\u4ee5\u4f7f\u7528<code>Matplotlib</code> Python\u5305\u8fdb\u884c\u4f5c\u56fe\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#_5","title":"\u4f7f\u7528\u8fdb\u9636","text":""},{"location":"wiki/software_usage/DeePMD-kit/#_6","title":"\u51c6\u5907\u8bad\u7ec3\u6570\u636e","text":"<p>\u524d\u534a\u90e8\u5206\u4ec5\u4ec5\u662f\u8ba9\u4f60\u8fd0\u884cDeePMD-kit\u8fdb\u884c\u8bad\u7ec3\u3002\u4e3a\u4e86\u8bad\u7ec3\u4e00\u4e2a\u9488\u5bf9\u4f60\u7684\u4f53\u7cfb\u7684\u6a21\u578b\uff0c\u4f60\u9700\u8981\u81ea\u5df1\u6765\u51c6\u5907\u6570\u636e\u3002\u8fd9\u4e9b\u6570\u636e\u90fd\u662f\u7b2c\u4e00\u6027\u539f\u7406\u8ba1\u7b97\u5f97\u5230\u7684\u6570\u636e\u3002\u8fd9\u4e9b\u6570\u636e\u53ef\u4ee5\u662f\u5355\u70b9\u80fd\u8ba1\u7b97\u5f97\u5230\u7684\u6570\u636e\uff0c\u6216\u8005\u662f\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u5f97\u5230\u7684\u6570\u636e\u3002\u4f5c\u4e3a\u6570\u636e\u96c6\u9700\u8981\u7684\u6570\u636e\u6709\uff1a</p> <ul> <li>\u4f53\u7cfb\u7684\u7ed3\u6784\u6587\u4ef6\uff1a<code>coord.npy</code></li> <li>\u4f53\u7cfb\u7684\u7ed3\u6784\u6587\u4ef6\u5bf9\u5e94\u7684\u5143\u7d20\u6807\u8bb0\uff1a<code>type.raw</code></li> <li>\u4f53\u7cfb\u7684\u7ed3\u6784\u6587\u4ef6\u5bf9\u5e94\u7684\u80fd\u91cf\uff1a<code>energy.npy</code></li> <li>\u4f53\u7cfb\u7684\u7ed3\u6784\u6587\u4ef6\u5bf9\u5e94\u7684\u529b\uff1a<code>force.npy</code></li> <li>\u4f53\u7cfb\u7684\u7ed3\u6784\u6587\u4ef6\u5bf9\u5e94\u7684\u6676\u80de\u5927\u5c0f\uff0c\u5982\u679c\u662f\u975e\u5468\u671f\u6027\u4f53\u7cfb\uff0c\u8bf7\u5728\u8bad\u7ec3\u6587\u4ef6\u91cc\u51c6\u5907\u4e00\u4e2a\u8d85\u5927\u5468\u671f\u8fb9\u754c\u6761\u4ef6\uff1a<code>box.npy</code></li> </ul> <p>\u4ee3\u7801\u5757\u91cc\u7684\u6587\u4ef6\u540d\u4e3aDeePMD-kit\u4f7f\u7528\u7684\u547d\u540d\u3002<code>npy</code>\u540e\u7f00\u4e3aPython\u7684numpy\u4ee3\u7801\u5305\u751f\u6210\u7684\u6587\u4ef6\uff0c\u8bf7\u5728\u6b64\u4e4b\u524d\u5b66\u4e60numpy\u3002\u5982\u679c\u4f60\u4f7f\u7528<code>cp2k</code>\u5f97\u5230\u6570\u636e\uff0c\u4f60\u4f1a\u6709 <code>*pos-1.xyz</code> \u548c <code>*frc-1.xyz</code> \u6587\u4ef6\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5e2e\u52a9\u7684\u811a\u672c\u8f6c\u5316\u6210DeePMD-kit\u7684\u6570\u636e\u96c6\u683c\u5f0f\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u6765\u770b\u770bDeePMD-kit\u7684\u8bad\u7ec3\u6570\u636e\u683c\u5f0f\u3002\u4e4b\u524d\u6211\u4eec\u8bad\u7ec3\u7684\u6c34\u6a21\u578b\u7684\u6570\u636e\u96c6\u50a8\u5b58\u5728 <code>&lt;deepmd repository&gt;/examples/water/data/data_0</code>. \u8ba9\u6211\u4eec\u6765\u770b\u770b\u6570\u636e\u96c6\u7684\u76ee\u5f55\u7ed3\u6784\uff1a</p> <pre><code># directory structre for training data\n.\n\u251c\u2500\u2500 data_0\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 set.000\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 box.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 coord.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 energy.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 force.npy\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 type.raw\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 type_map.raw\n\u251c\u2500\u2500 data_1\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 set.000\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 box.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 coord.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 energy.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 force.npy\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 set.001\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 box.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 coord.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 energy.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 force.npy\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 type.raw\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 type_map.raw\n\u251c\u2500\u2500 data_2\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 set.000\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 box.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 coord.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 energy.npy\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 force.npy\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 type.raw\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 type_map.raw\n\u2514\u2500\u2500 data_3\n    \u251c\u2500\u2500 set.000\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 box.npy\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 coord.npy\n    \u2502\u00a0\u00a0 \u251c\u2500\u2500 energy.npy\n    \u2502\u00a0\u00a0 \u2514\u2500\u2500 force.npy\n    \u251c\u2500\u2500 type.raw\n    \u2514\u2500\u2500 type_map.raw\n</code></pre> <p>\u663e\u7136\uff0c\u6211\u4eec\u4f1a\u770b\u5230<code>type.raw</code>\u6587\u4ef6\u548c\u4e00\u5806\u4ee5<code>set</code>\u5f00\u5934\u7684\u76ee\u5f55\u3002<code>type.raw</code>\u6587\u4ef6\u8bb0\u5f55\u4e86\u4f53\u7cfb\u7684\u5143\u7d20\u4fe1\u606f\u3002\u5982\u679c\u4f60\u6253\u5f00\u4f60\u4f1a\u53d1\u73b0\u5b83\u4ec5\u4ec5\u8bb0\u5f55\u4e86\u4e00\u5806\u6570\u5b57\u3002\u8fd9\u4e9b\u6570\u5b57\u5bf9\u5e94\u7740\u4f60\u5728<code>water_se_a.json</code>\u4e2d<code>\"type_map\":[\"O\",\"H\"]</code>\u7684\u4fe1\u606f\u3002\u6b64\u65f6<code>0</code>\u4ee3\u8868<code>O</code>,<code>1</code>\u4ee3\u8868<code>H</code>\u3002\u5bf9\u5e94\u7740<code>[\"O\",\"H\"]</code>\u4e2d\u7684\u4f4d\u7f6e\uff0c\u5176\u4e2d\u7b2c\u4e00\u4f4d\u4e3a0\u3002</p> <pre><code>0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1\n</code></pre> <p><code>box.npy</code>, <code>coord.npy</code>, <code>energy.npy</code> \u548c <code>force.npy</code> \u50a8\u5b58\u7684\u4fe1\u606f\u5728\u4e0a\u6587\u5df2\u7ecf\u8bf4\u8fc7\u3002\u552f\u4e00\u9700\u8981\u6ce8\u610f\u7684\u662f\u8fd9\u4e9b\u6587\u4ef6\u90fd\u50a8\u5b58\u7740\u4e00\u4e2a\u8d85\u5927\u7684\u77e9\u9635\u3002\u5982\u679c\u6211\u4eec\u6709Y\u4e2a\u7ed3\u6784\uff0c\u6bcf\u4e2a\u7ed3\u6784\u6709X\u4e2a\u539f\u5b50\u3002<code>box.npy</code>, <code>coord.npy</code>, <code>energy.npy</code> \u548c <code>force.npy</code> \u5bf9\u5e94\u7684\u77e9\u9635\u5f62\u72b6\u5206\u522b\u662f (Y, 9), (Y, X*3), (Y, 1), (Y, X*3)\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#_7","title":"\u8bbe\u7f6e\u4f60\u7684\u8f93\u5165\u6587\u4ef6","text":"<p>\u8f93\u5165\u6587\u4ef6\u662f<code>json</code>\u6587\u4ef6\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u4e4b\u524d\u6211\u4eec\u7684<code>json</code>\u6587\u4ef6\u8fdb\u884c\u7ec6\u5fae\u6539\u52a8\u5c31\u6295\u5165\u5230\u81ea\u5df1\u4f53\u7cfb\u7684\u8bad\u7ec3\u4e2d\u3002\u8fd9\u4e9b\u9700\u8981\u4fee\u6539\u7684\u5173\u952e\u8bcd\u5982\u4e0b\uff1a</p> <ul> <li><code>type\": \"se_a\"</code>: \u8bbe\u7f6e\u63cf\u8ff0\u7b26\uff08descriptor\uff09\u7c7b\u578b\u3002\u4e00\u822c\u4f7f\u7528<code>se_a</code>\u3002</li> <li><code>\"sel\": [46, 92]</code>: \u8bbe\u7f6e\u6bcf\u4e2a\u539f\u5b50\u7684\u622a\u65ad\u534a\u5f84\u5185\u6240\u62e5\u6709\u7684\u6700\u5927\u539f\u5b50\u6570\u3002\u6ce8\u610f\u8fd9\u91cc\u7684\u4e24\u4e2a\u6570\u5b5746\uff0c92\u5206\u522b\u5bf9\u5e94\u7684\u662f<code>O</code>\u539f\u5b50\u548c<code>H</code>\u539f\u5b50\u3002\u4e0e\u4f60\u5728<code>type_map</code>\u91cc\u8bbe\u7f6e\u7684\u5143\u7d20\u7c7b\u578b\u662f\u76f8\u5bf9\u5e94\u7684\u3002</li> </ul> <p><pre><code>\"descriptor\" :{\n         \"type\":     \"se_a\",\n         \"sel\":      [46, 92],\n         \"rcut_smth\":    0.50,\n         \"rcut\":     6.00,\n         \"neuron\":       [25, 50, 100],\n         \"resnet_dt\":    false,\n         \"axis_neuron\":  16,\n         \"seed\":     1,\n         \"_comment\":     \" that's all\"\n     },\n</code></pre> \u5728\"training\"\u7684\"training_data\"\u4e0b - <code>\"systems\":  [\"../data/data_0/\", \"../data/data_1/\", \"../data/data_2/\"]</code>: \u8bbe\u7f6e\u5305\u542b\u8bad\u7ec3\u6570\u636e\u7684\u76ee\u5f55\u3002 - <code>\"batch_size\": auto</code>, \u8fd9\u4e2a\u4f1a\u6839\u636e\u4f53\u7cfb\u539f\u5b50\u6570\u8fdb\u884c\u5206\u914d\uff0c\u4e0d\u8fc7\u6211\u4eec\u81ea\u5df1\u901a\u5e38\u8bbe\u7f6e\u4e3a1\uff0c\u56e0\u4e3a\u4f53\u7cfb\u539f\u5b50\u6570\u6709400-800\u4e2a\u5de6\u53f3\u3002</p> <p><pre><code>    \"training_data\": {\n        \"systems\":      [\"../data/data_0/\", \"../data/data_1/\", \"../data/data_2/\"],\n        \"batch_size\":   \"auto\",\n        \"_comment\":     \"that's all\"\n    }\n</code></pre> \u5728\"training\"\u7684\"validation_data\"\u4e0b - <code>\"systems\":  [\"../data/data_3\"]</code>: \u8bbe\u7f6e\u5305\u542b\u6d4b\u8bd5\u6570\u636e\u7684\u76ee\u5f55\u3002 - <code>\"batch_size\": 1</code>, \u8fd9\u4e2a\u4f1a\u6839\u636e\u4f53\u7cfb\u539f\u5b50\u6570\u8fdb\u884c\u5206\u914d\uff0c\u4e0d\u8fc7\u6211\u4eec\u81ea\u5df1\u901a\u5e38\u8bbe\u7f6e\u4e3a1\uff0c\u56e0\u4e3a\u4f53\u7cfb\u539f\u5b50\u6570\u6709400-800\u4e2a\u5de6\u53f3\u3002 - <code>\"numb_btch\": 3</code> , \u6bcf\u6b21\u8fed\u4ee3\u4e2d\uff0c\u6d4b\u8bd5\u7684\u7ed3\u6784\u6570\u91cf\u4e3a<code>batch_size</code>\u4e58\u4ee5<code>numb_btch</code>\u3002 - \u66f4\u591a\u53c2\u6570\u8bf4\u660e\uff0c\u8bf7\u53c2\u8003\u5b98\u65b9\u6587\u6863\uff1ahttps://deepmd.readthedocs.io/en/latest/train-input.html</p> <p>Warning</p> <p>\u8bb0\u4f4f\u5728\u96c6\u7fa4\u4e0a\u8bad\u7ec3\uff0c\u8bf7\u4f7f\u7528lsf\u811a\u672c\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#_8","title":"\u5f00\u59cb\u4f60\u7684\u8bad\u7ec3","text":"<p>\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u5f00\u59cb:</p> <pre><code>dp train input.json\n</code></pre> <p>Warning</p> <p>\u8bb0\u4f4f\u5728\u96c6\u7fa4\u4e0a\u8bad\u7ec3\uff0c\u8bf7\u4f7f\u7528 Slurm \u811a\u672c\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#_9","title":"\u91cd\u542f\u4f60\u7684\u8bad\u7ec3","text":"<p>\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u91cd\u542f:</p> <pre><code>dp train input.json --restart model.ckpt\n</code></pre> <p>Warning</p> <p>\u8bb0\u4f4f\u5728\u96c6\u7fa4\u4e0a\u8bad\u7ec3\uff0c\u8bf7\u4f7f\u7528 Slurm \u811a\u672c\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#md","title":"\u4f7f\u7528\u751f\u6210\u7684\u52bf\u80fd\u51fd\u6570\u8fdb\u884c\u5206\u5b50\u52a8\u529b\u5b66(MD)\u6a21\u62df","text":"<p>\u5f53\u6211\u4eec\u5b8c\u6210\u8bad\u7ec3\u4e4b\u540e\uff0c\u6211\u4eec\u9700\u8981\u6839\u636e\u8282\u70b9\u6587\u4ef6(<code>model.ckpt*</code>)\u51bb\u7ed3(Freeze)\u51fa\u4e00\u4e2a\u6a21\u578b\u6765\u3002</p> <p>\u5229\u7528\u5982\u4e0b\u547d\u4ee4\uff0c\u53ef\u4ee5\u51bb\u7ed3\u6a21\u578b\uff1a</p> <pre><code>dp freeze\n</code></pre> <p>\u4f60\u5c06\u4f1a\u5f97\u5230\u4e00\u4e2a<code>*.pb</code>\u6587\u4ef6\u3002\u5229\u7528\u6b64\u6587\u4ef6\u53ef\u4ee5\u4f7f\u7528<code>LAMMPS</code>, <code>ASE</code>, <code>CP2K</code> \u7b49\u8f6f\u4ef6\u8fdb\u884c\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#production","title":"\u5229\u7528\u538b\u7f29\u6a21\u578b\u8fdb\u884c\u4ea7\u51fa(Production)","text":"<p>\u673a\u5668\u5b66\u4e60\u52bf\u80fd<code>*.pb</code>\u6587\u4ef6\u8fdb\u884cMD\u6a21\u62df\u867d\u7136\u5df2\u7ecf\u975e\u5e38\u8fc5\u901f\u4e86\u3002\u4f46\u662f\u8fd8\u6709\u63d0\u5347\u7684\u7a7a\u95f4\u3002\u9996\u5148\u6211\u4eec\u9700\u8981\u75282.0\u4ee5\u4e0a\u7248\u672c\u7684deepmd\u8fdb\u884c\u8bad\u7ec3\u52bf\u80fd\u51fd\u6570\uff0c\u5e76\u5f97\u5230<code>*.pb</code>\u6587\u4ef6\u3002\u5229\u75281.2/1.3\u7248\u672c\u7684deepmd\u8bad\u7ec3\u5f97\u5230\u52bf\u80fd\u51fd\u6570\u4e5f\u4e0d\u7528\u62c5\u5fc3\uff0c\u53ef\u4ee5\u5229\u7528\u4ee5\u4e0b\u547d\u4ee4\u5bf9\u65e7\u7248\u672c\u7684\u52bf\u80fd\u51fd\u6570\u8fdb\u884c\u8f6c\u6362\u3002\u4f8b\u5982\u60f3\u8981\u4ece1.2\u8f6c\u6362\u7684\u8bdd\uff1a</p> <pre><code>dp convert-from 1.2 -i old_frozen_model.pb -o new_frozen_model.pb\n</code></pre> <p>\u5173\u4e8e\u517c\u5bb9\u6027\u7684\u8bf4\u660e</p> <p>\u5173\u4e8e\u76ee\u524d\u52bf\u51fd\u6570\u7684\u517c\u5bb9\u6027\uff0c\u8bf7\u53c2\u8003\u5b98\u65b9\u6587\u6863\u3002 \u76ee\u524dDeePMD-kit\u652f\u6301\u4ece v0.12, v1.0, v1.1, v1.2, v1.3 \u7248\u672c\u5230\u65b0\u7248\u672c\u7684\u8f6c\u6362\u3002</p> <p>\u5efa\u8bae\u5c06\u539f\u8bad\u7ec3\u6587\u4ef6\u5939\u5907\u4efd\u540e\u590d\u5236\uff0c\u6211\u4eec\u5229\u7528\u5982\u4e0b\u547d\u4ee4\u8fdb\u884c\u538b\u7f29\uff08\u6587\u4ef6\u5939\u4e0b\u5e94\u8be5\u542b\u6709\u5bf9\u5e94\u7684<code>input.json</code>\u6587\u4ef6\u548ccheckpoint\u6587\u4ef6\uff09\uff1a</p> <pre><code>module load deepmd/2.0-cuda11.3\ndp compress -i normal-model.pb -o compressed-model.pb -l compress.log\n</code></pre> <p>\u9002\u7528\u8303\u56f4</p> <p>\u6ce8\u610f\u6a21\u578b\u538b\u7f29\u4ec5\u9002\u7528\u4e8e\u90e8\u5206\u6a21\u578b\uff0c\u5982 <code>se_e2_a</code>, <code>se_e3</code>, <code>se_e2_r</code> \u548c\u4e0a\u8ff0\u6a21\u578b\u7684 <code>Hybrid</code> \u6a21\u578b\u3002</p> <p>\u82e5\u4f7f\u7528\u5176\u4ed6\u6a21\u578b\uff0c\u5982 <code>se_attn</code> \u6a21\u578b (DPA-1)\uff0c\u6a21\u578b\u538b\u7f29\u5c1a\u672a\u88ab\u652f\u6301\uff0c\u53ef\u80fd\u4f1a\u62a5\u9519\u3002</p> <p>\u53e6\u5916\u8bf7\u6ce8\u610f\uff0c\u538b\u7f29\u6a21\u578b\u662f\u901a\u8fc7\u4f7f\u7528 5 \u6b21\u591a\u9879\u5f0f\u62df\u5408 Embedding-net \u4ece\u800c\u6362\u53d6\u6027\u80fd\u63d0\u5347\uff0c\u8fd9\u4e00\u6539\u52a8 \u51e0\u4e4e \u4e0d\u4f1a\u5bf9\u9884\u6d4b\u7cbe\u5ea6\u4ea7\u751f\u5f71\u54cd\uff0c\u4f46\u5b9e\u9645\u4e0a\u90e8\u5206\u727a\u7272\u4e86\u7cbe\u5ea6\u3002 \u56e0\u800c\u4f7f\u7528\u65f6\u8bf7\u52a1\u5fc5\u6ce8\u610f\u89c2\u5bdf\u9ed8\u8ba4\u53c2\u6570\u662f\u5426\u9002\u7528\u4e8e\u5f53\u524d\u4f53\u7cfb\u7684\u60c5\u51b5\uff0c\u5982\u662f\u5426\u51fa\u73b0\u8bef\u5dee\u6f02\u79fb\uff0c\u5e76\u9488\u5bf9\u4fee\u6539\u53c2\u6570\uff0c\u5982\u62df\u5408\u65f6\u91c7\u7528\u7684\u6b65\u6570 <code>--step</code>\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#_10","title":"\u538b\u7f29\u6a21\u578b\u4e0e\u539f\u59cb\u6a21\u578b\u5bf9\u6bd4","text":"<p>\u6d4b\u8bd52080Ti, \u663e\u5b5811G</p> \u4f53\u7cfb \u539f\u5b50\u6570 \u63d0\u901f\u524d (ns/day) \u63d0\u901f\u540e(ns/day) \u63d0\u5347\u500d\u7387 LIGePS 5000 0.806 3.569 4.42 SnO2/water interface 6021 0.059 0.355 6.01 SnO2/water interface 5352 0.067 0.382 5.70 SnO2/water interface 2676 0.132 0.738 5.59 SnO2/water interface 1338 0.261 1.367 5.23 SnO2/water interface 669 0.501 2.236 4.46 LiGePS 400 7.461 23.992 3.21 Cu13 13 51.268 65.944 1.28 <p>SnO2/water interface: \u539f\u59cb\u6a21\u578bMaximum 6021 \u2014\u2014&gt; \u538b\u7f29\u6a21\u578bMaximum 54189\u4e2a\u539f\u5b50</p>"},{"location":"wiki/software_usage/DeePMD-kit/#trouble-shooting","title":"Trouble Shooting","text":""},{"location":"wiki/software_usage/DeePMD-kit/#warning-loc-idx-out-of-lower-bound","title":"warning: loc idx out of lower bound","text":"<p>Solution: https://github.com/deepmodeling/deepmd-kit/issues/21</p>"},{"location":"wiki/software_usage/DeePMD-kit/#valueerror-nodedef-missing-attr-t-from","title":"ValueError: NodeDef missing attr 'T' from ...","text":"<p>\u5f53\u4e00\u4e2a\u6a21\u578b\u4f7f\u7528 deepmd/1.2 \u8bad\u7ec3\uff0c\u4f46\u662f\u7528\u66f4\u9ad8\u7248\u672c\u7684 deepmd-kit (&gt; v1.3) \u8fdb\u884c lammps \u4efb\u52a1\u7684\u65f6\u5019\u7ecf\u5e38\u4f1a\u62a5\u8fd9\u4e2a\u9519\uff0c\u4f8b\u5b50\uff1a</p> <ul> <li>error: Not found: No attr named 'T' in NodeDef when running lammps</li> </ul> <p>\u4f46\u662f\uff0c\u73b0\u5728\u53d1\u73b0\u8fd9\u4e2a\u62a5\u9519\u5728\u538b\u7f29 v1.3 \u7248\u672c\u6a21\u578b\u7684\u65f6\u5019\u4e5f\u4f1a\u51fa\u73b0\u3002\u4f7f\u7528\u4e0b\u5217\u547d\u4ee4\uff1a</p> <pre><code>dp compress ${input} --checkpoint-folder ${ckpt} 1.3-model.pb -o compressed-model.pb -l compress.log\n</code></pre> <p>\u5176\u4e2d<code>${input}</code>\u548c<code>${ckpt}</code>\u5206\u522b\u662f\u5bf9\u5e94\u6a21\u578b\u7684\u8f93\u5165\u811a\u672c\u6240\u5728\u8def\u5f84\u548c\u68c0\u67e5\u70b9\u76ee\u5f55\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff0c\u6211\u4eec\u4ec5\u628a\u9700\u8981\u538b\u7f29\u7684\u6a21\u578b\u590d\u5236\u5230\u4e86\u5de5\u4f5c\u6587\u4ef6\u5939\u4e0b\uff0c\u8f93\u5165\u811a\u672c\u6240\u5728\u8def\u5f84\u548c\u68c0\u67e5\u70b9\u76ee\u5f55\u4eba\u5de5\u6307\u8ba4\u3002\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u8fd9\u6837\u4f1a\u62a5\u9519 \u2018ValueError\u2019\uff0c\u76ee\u524d\u8fd8\u6ca1\u6709\u627e\u5230\u539f\u56e0\u3002</p> <p>\u56e0\u6b64\uff0c\u6211\u4eec\u5efa\u8bae \u5907\u4efd\u4e4b\u524d\u7684\u8bad\u7ec3\u6587\u4ef6\u5939\uff0c\u5728\u8bad\u7ec3\u6587\u4ef6\u5939\u7684\u4e00\u4e2a copy \u4e0b\u8fdb\u884c\u538b\u7f29\u4efb\u52a1\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#extra-support","title":"Extra Support","text":""},{"location":"wiki/software_usage/DeePMD-kit/#script-for-convertion-from-cp2k-xyz-to-numpy-set","title":"Script for convertion from cp2k xyz to numpy set","text":"<pre><code>from ase.io import read\nimport numpy as np\nimport os, sys\nimport glob\nimport shutil\n\n\n#############################\n# USER INPUT PARAMETER HERE #\n#############################\n\n# input data path here, string, this directory should contains\n#   ./data/*frc-1.xyz ./data/*pos-1.xyz\ndata_path = \"./data\"\n\n#input the number of atom in system\natom_num = 189\n\n#input cell paramter here\ncell = [[10.0,0,0],[0,10.0,0],[0,0,10.0]]\n\n# conversion unit here, modify if you need\nau2eV = 2.72113838565563E+01\nau2A = 5.29177208590000E-01\n\n\n####################\n# START OF PROGRAM #\n####################\n\ndef xyz2npy(pos, atom_num, output, unit_convertion=1.0):\n    total = np.empty((0,atom_num*3), float)\n    for single_pos in pos:\n        tmp=single_pos.get_positions()\n        tmp=np.reshape(tmp,(1,atom_num*3))\n        total = np.concatenate((total,tmp), axis=0)\n    total = total * unit_convertion\n    np.save(output, total)\n\ndef energy2npy(pos, output, unit_convertion=1.0):\n     total = np.empty((0), float)\n     for single_pos in pos:\n         tmp=single_pos.info.pop('E')\n         tmp=np.array(tmp,dtype=\"float\")\n         tmp=np.reshape(tmp,1)\n         total = np.concatenate((total,tmp), axis=0)\n     total = total * unit_convertion\n     np.save(output,total)\n\ndef cell2npy(pos, output, cell, unit_convertion=1.0):\n    total = np.empty((0,9),float)\n    frame_num = len(pos)\n    cell = np.array(cell, dtype=\"float\")\n    cell = np.reshape(cell, (1,9))\n    for frame in range(frame_num):\n        total = np.concatenate((total,cell),axis=0)\n    total = total * unit_convertion\n    np.save(output,total)\n\ndef type_raw(single_pos, output):\n    element = single_pos.get_chemical_symbols()\n    element = np.array(element)\n    tmp, indice = np.unique(element, return_inverse=True)\n    np.savetxt(output, indice, fmt='%s',newline=' ')\n\n\n# read the pos and frc\ndata_path = os.path.abspath(data_path)\npos_path = os.path.join(data_path, \"*pos-1.xyz\")\nfrc_path = os.path.join(data_path, \"*frc-1.xyz\")\n#print(data_path)\npos_path = glob.glob(pos_path)[0]\nfrc_path = glob.glob(frc_path)[0]\n#print(pos_path)\n#print(frc_path)\npos = read(pos_path, index = \":\" )\nfrc = read(frc_path, index = \":\" )\n\n# numpy path\nset_path = os.path.join(data_path, \"set.000\")\nif os.path.isdir(set_path):\n    print(\"detect directory exists\\n now remove it\")\n    shutil.rmtree(set_path)\n    os.mkdir(set_path)\nelse:\n    print(\"detect directory doesn't exist\\n now create it\")\n    os.mkdir(set_path)\ntype_path = os.path.join(data_path, \"type.raw\")\ncoord_path = os.path.join(set_path, \"coord.npy\")\nforce_path = os.path.join(set_path, \"force.npy\")\nbox_path = os.path.join(set_path, \"box.npy\")\nenergy_path = os.path.join(set_path, \"energy.npy\")\n\n\n#tranforrmation\nxyz2npy(pos, atom_num, coord_path)\nxyz2npy(frc, atom_num, force_path, au2eV/au2A)\nenergy2npy(pos, energy_path, au2eV)\ncell2npy(pos, box_path, cell)\ntype_raw(pos[0], type_path)\n</code></pre>"},{"location":"wiki/software_usage/DeePMD-kit/#deepmd-kit-20","title":"\u5347\u7ea7\u5230DeePMD-kit 2.0","text":"<p>\u76ee\u524d DeePMD-kit 2.0 \u6b63\u5f0f\u7248\u5df2\u7ecf\u53d1\u5e03\uff0c\u76f8\u6bd4\u65e7\u7248\u5df2\u6709\u4f17\u591a\u63d0\u5347\uff0c\u4e14\u538b\u7f29\u6a21\u578b\u4e3a\u6b63\u5f0f\u7248\u7279\u6027\u3002\u76ee\u524d\u6211\u4eec\u96c6\u7fa4\u4e0a\u5df2\u5b89\u88c5 DeePMD-kit 2.0.3\u3002</p>"},{"location":"wiki/software_usage/DeePMD-kit/#_11","title":"\u8f93\u5165\u6587\u4ef6","text":"<p>DeePMD-kit 2.0 \u76f8\u6bd4 1.x \u5728\u8f93\u5165\u6587\u4ef6\u4e0a\u505a\u4e86\u4e00\u5b9a\u6539\u52a8\uff0c\u4ee5\u4e0b\u7ed9\u51fa\u4e00\u4e2a DeePMD-kit 2.0 \u8f93\u5165\u6587\u4ef6\u7684\u4f8b\u5b50\uff1a</p> <pre><code>{\n    \"_comment\": \" model parameters\",\n    \"model\": {\n        \"type_map\": [\n            \"O\",\n            \"H\"\n        ],\n        \"descriptor\": {\n            \"type\": \"se_e2_a\",\n            \"sel\": [\n                46,\n                92\n            ],\n            \"rcut_smth\": 0.50,\n            \"rcut\": 6.00,\n            \"neuron\": [\n                25,\n                50,\n                100\n            ],\n            \"resnet_dt\": false,\n            \"axis_neuron\": 16,\n            \"seed\": 1,\n            \"_comment\": \" that's all\"\n        },\n        \"fitting_net\": {\n            \"neuron\": [\n                240,\n                240,\n                240\n            ],\n            \"resnet_dt\": true,\n            \"seed\": 1,\n            \"_comment\": \" that's all\"\n        },\n        \"_comment\": \" that's all\"\n    },\n    \"learning_rate\": {\n        \"type\": \"exp\",\n        \"decay_steps\": 5000,\n        \"start_lr\": 0.001,\n        \"stop_lr\": 3.51e-8,\n        \"_comment\": \"that's all\"\n    },\n    \"loss\": {\n        \"type\": \"ener\",\n        \"start_pref_e\": 0.02,\n        \"limit_pref_e\": 1,\n        \"start_pref_f\": 1000,\n        \"limit_pref_f\": 1,\n        \"start_pref_v\": 0,\n        \"limit_pref_v\": 0,\n        \"_comment\": \" that's all\"\n    },\n    \"training\": {\n        \"training_data\": {\n            \"systems\": [\n                \"../data/data_0/\",\n                \"../data/data_1/\",\n                \"../data/data_2/\"\n            ],\n            \"batch_size\": \"auto\",\n            \"_comment\": \"that's all\"\n        },\n        \"validation_data\": {\n            \"systems\": [\n                \"../data/data_3\"\n            ],\n            \"batch_size\": 1,\n            \"numb_btch\": 3,\n            \"_comment\": \"that's all\"\n        },\n        \"numb_steps\": 1000000,\n        \"seed\": 10,\n        \"disp_file\": \"lcurve.out\",\n        \"disp_freq\": 100,\n        \"save_freq\": 1000,\n        \"_comment\": \"that's all\"\n    },\n    \"_comment\": \"that's all\"\n}\n</code></pre> <p>DeePMD-kit 2.0 \u63d0\u4f9b\u4e86\u5bf9\u9a8c\u8bc1\u96c6\uff08Validation Set\uff09\u7684\u652f\u6301\uff0c\u56e0\u800c\u7528\u6237\u53ef\u6307\u5b9a\u67d0\u4e00\u6570\u636e\u96c6\u4f5c\u4e3a\u9a8c\u8bc1\u96c6\uff0c\u5e76\u8f93\u51fa\u6a21\u578b\u5728\u8be5\u6570\u636e\u96c6\u4e0a\u7684\u8bef\u5dee\u3002 \u76f8\u6bd4\u65e7\u7248\u800c\u8a00\uff0c\u65b0\u7248\u8f93\u5165\u6587\u4ef6\u53c2\u6570\u7684\u5177\u4f53\u542b\u4e49\u53d8\u5316\u4e0d\u5927\uff0c\u9664\u4e86\u5bf9\u6570\u636e\u96c6\u7684\u5b9a\u4e49\u5916\uff0c\u5927\u90e8\u5206\u53c2\u6570\u542b\u4e49\u4fdd\u6301\u4e00\u81f4\u3002</p> <p>\u4ee5\u4e0b\u5217\u51fa\u4e00\u4e9b\u9700\u8981\u6ce8\u610f\u7684\u4e8b\u9879\uff1a</p> <ol> <li>\u8bad\u7ec3\u6570\u636e\u96c6\u4e0d\u518d\u76f4\u63a5\u5199\u5728 <code>training</code> \u4e0b\uff0c\u800c\u662f\u5199\u5728 <code>training</code> \u7684\u5b50\u952e <code>training_data</code> \u4e0b\uff0c\u683c\u5f0f\u5982\u4e0b\u6240\u793a\uff1a    <pre><code>\"training_data\": {\n         \"systems\": [\n             \"../data/data_0/\",\n             \"../data/data_1/\",\n             \"../data/data_2/\"\n         ],\n         \"batch_size\": \"auto\"\n     }\n</code></pre>    \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6bcf\u4e00\u8bad\u7ec3\u6b65\u9aa4\u4e2d\uff0cDeePMD-kit\u968f\u673a\u4ece\u6570\u636e\u96c6\u4e2d\u6311\u9009\u7ed3\u6784\u52a0\u5165\u672c\u8f6e\u8bad\u7ec3\uff0c\u8fd9\u4e00\u6b65\u9aa4\u52a0\u5165\u6570\u636e\u7684\u591a\u5c11\u53d6\u51b3\u4e8e <code>batch_size</code> \u7684\u5927\u5c0f\uff0c\u6b64\u65f6\uff0c\u5404 system \u4e2d\u6570\u636e\u88ab\u4f7f\u7528\u7684\u6982\u7387\u662f\u5747\u7b49\u7684\u3002    \u82e5\u5e0c\u671b\u63a7\u5236\u5404 system \u6570\u636e\u7684\u6743\u91cd\uff0c\u53ef\u4f7f\u7528 <code>auto_prob</code> \u6765\u63a7\u5236\uff0c\u5176\u53c2\u6570\u9009\u9879\u5982\u4e0b\u6240\u793a<ul> <li><code>prob_uniform</code>: \u5404 system \u6570\u636e\u6743\u91cd\u5747\u7b49\u3002</li> <li><code>prob_sys_size</code>: \u5404 system \u6570\u636e\u7684\u6743\u91cd\u53d6\u51b3\u4e8e\u5176\u5404\u81ea\u7684\u5927\u5c0f\u3002</li> <li><code>prob_sys_size</code>: \u5199\u6cd5\u793a\u4f8b\u5982\u4e0b\uff1a<code>sidx_0:eidx_0:w_0; sidx_1:eidx_1:w_1;...</code>\u3002 \u8be5\u53c2\u6570\u4e2d\uff0c<code>sidx_i</code> \u548c <code>eidx_i</code> \u8868\u793a\u7b2c <code>i</code> \u7ec4\u6570\u636e\u7684\u8d77\u6b62\u70b9\uff0c\u89c4\u5219\u540c Python \u8bed\u6cd5\u4e2d\u7684\u5207\u7247\uff0c<code>w_i</code> \u5219\u8868\u793a\u8be5\u7ec4\u6570\u636e\u7684\u6743\u91cd\u3002\u5728\u540c\u4e00\u7ec4\u4e2d\uff0c\u5404 system \u6570\u636e\u7684\u6743\u91cd\u53d6\u51b3\u4e8e\u5404\u81ea\u7684\u5927\u5c0f\u3002    <code>batch_size</code> \u7684\u503c\u53ef\u624b\u52a8\u8bbe\u5b9a\uff0c\u6839\u636e\u7ecf\u9a8c\u4e00\u822c\u6839\u636e\u201c\u4e58\u4ee5\u539f\u5b50\u6570\u226432\u201d\u7684\u89c4\u5219\u8bbe\u5b9a\u3002\u65b0\u7248\u5219\u652f\u6301\u81ea\u52a8\u8bbe\u5b9a\uff0c\u82e5\u8bbe\u5b9a\u4e3a<code>\"auto\"</code>\u5219\u8868\u793a\u6309\u7167\u6b64\u89c4\u5219\u81ea\u52a8\u8bbe\u7f6e\uff0c\u82e5\u8bbe\u5b9a\u4e3a<code>\"auto:N\"</code>\u5219\u6839\u636e\u201c\u4e58\u4ee5\u539f\u5b50\u6570\u2264N\u201d\u7684\u89c4\u5219\u8bbe\u5b9a\u3002</li> </ul> </li> <li><code>save_ckpt</code>, <code>load_ckpt</code>, <code>decay_rate</code> \u7b49\u4e3a\u8fc7\u65f6\u53c2\u6570\uff0c\u82e5\u7531 1.x \u8fc1\u79fb\uff0c\u8bf7\u5220\u9664\u8fd9\u4e9b\u53c2\u6570\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u62a5\u9519\u3002</li> <li><code>n_neuron</code> \u66f4\u540d\u4e3a <code>neuron</code>\uff0c <code>stop_batch</code> \u66f4\u540d\u4e3a <code>numb_steps</code>\uff0c\u8bf7\u6ce8\u610f\u66f4\u6539\u3002\u5bf9\u5e94\u5730\uff0cdecay rate \u7531 <code>start_lr</code> \u548c <code>stop_lr</code> \u51b3\u5b9a\u3002</li> <li><code>lcurve.out</code> \u4e2d\u5220\u9664\u4e86\u6d4b\u8bd5\u6570\u636e\u7684 RMSE \u503c\uff0c\u56e0\u6b64\u65e7\u7248\u4f5c\u56fe\u811a\u672c\u9700\u8981\u5bf9\u5e94\u4fee\u6539\uff0c\u51cf\u5c11\u5217\u6570\uff08\u80fd\u91cf\u5728\u7b2c3\u5217\uff0c\u529b\u5728\u7b2c4\u5217\uff09\u3002\u82e5\u6307\u5b9a\u4e86\u9a8c\u8bc1\u96c6\uff0c\u5219\u4f1a\u8f93\u51fa\u6a21\u578b\u5728\u9a8c\u8bc1\u96c6\u4e0a\u7684 RMSE\u3002</li> </ol> <p>\u66f4\u591a\u8be6\u7ec6\u8bf4\u660e\uff0c\u8bf7\u53c2\u89c1\u5b98\u65b9\u6587\u6863\u3002</p>"},{"location":"wiki/software_usage/MDAnalysis/","title":"<code>MDAnalysis</code> \u8f6f\u4ef6\u5305\u7684\u4f7f\u7528","text":""},{"location":"wiki/software_usage/MDAnalysis/#mdanalysis_1","title":"\u6211\u662f\u5426\u9700\u8981\u4f7f\u7528<code>MDAnalysis</code>","text":"<p><code>MDAnalysis</code>\u662f\u4e00\u4e2a\u5904\u7406\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u8f68\u8ff9\u7684<code>python</code>\u8f6f\u4ef6\u5305\u3002\u5b83\u6700\u4e3a\u7a81\u51fa\u7684\u662f\u4f18\u70b9\u662f\u5168\u9762\u7684\u8f68\u8ff9io\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5904\u7406\u5e38\u89c1\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u7684\u8f93\u51fa\u8f68\u8ff9\u683c\u5f0f\u3002\u540c\u65f6\uff0c<code>MDAnalysis</code>\u548c\u7684io\u7406\u5ff5\u4f7f\u5176\u66f4\u52a0\u9002\u5408\u4f5c\u4e3a\u5927\u8f68\u8ff9\u6587\u4ef6\u9010\u5e27\u8fdb\u884c\u7edf\u8ba1\u5206\u6790\u7684\u5de5\u5177\u3002\u8be5\u8f6f\u4ef6\u5185\u7f6e\u4e86\u5f88\u591a\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u5206\u6790\u65b9\u6cd5\uff0c\u6240\u4ee5\u4f60\u53ef\u4ee5\u7528\u5b83\u8f7b\u677e\u5730\u5b9e\u73b0\u4e00\u4e9b\u4f8b\u884c\u5206\u6790\u3002\u6bd4\u5982\uff0c\u5f84\u5411\u5206\u5e03\u51fd\u6570(RDF), \u6c34\u5bc6\u5ea6\uff08number density\uff09\u548c\u6c22\u952e\u5206\u6790\u7b49\u3002\u9664\u8fc7\u5185\u7f6e\u65b9\u6cd5\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u7528<code>MDAnalysis</code>\u81ea\u5b9a\u4e49\u5206\u6790\u65b9\u6cd5\u3002</p> <p>(\u5185\u7f6e\u5206\u6790)[https://docs.mdanalysis.org/stable/documentation_pages/analysis_modules.html]</p> <p>(\u5982\u4f55DIY\u4f60\u81ea\u5df1\u7684\u5206\u6790)[https://userguide.mdanalysis.org/stable/examples/analysis/custom_trajectory_analysis.html]</p> <p>\u5982\u679c\u4f60\u9700\u8981\u4f5c\u5982\u4e0b\u7684\u5206\u6790\uff0c<code>MDAnalysis</code>\u5c31\u975e\u5e38\u9002\u5408\u4f60\uff1a</p> <ul> <li> <p>MD\u7edf\u8ba1\u5206\u6790\uff1a\u9700\u8981\u5bf9MD\u8f68\u8ff9\u4e2d\u6bcf\u4e00\u4e2a\u5355\u5e27\u8fdb\u884c\u76f8\u540c\u64cd\u4f5c\uff0c\u5e76\u4e14\u9700\u8981\u5faa\u73af\u6574\u6761\u8f68\u8ff9\u7684\u7edf\u8ba1\u3002\u4f8b\u5982\uff0c\u4f60\u9700\u8981\u7edf\u8ba1A\u539f\u5b50\u548cB\u539f\u5b50\u95f4\u7684\u8ddd\u79bb</p> </li> <li> <p>\u5468\u671f\u6027\u4f53\u7cfb\u7684\u8ddd\u79bb\u8ba1\u7b97\uff1a\u9ad8\u6548\u5feb\u901f\u7684\u8ddd\u79bb\u8ba1\u7b97\u5e93\u51fd\u6570\uff0c\u63d0\u4f9b<code>[a, b, c, alpha, beta, gamma]</code> cell parameter\u5c31\u53ef\u4ee5\u8003\u8651PBC\u4e0b\u7684\u8ddd\u79bb\u3002</p> </li> </ul>"},{"location":"wiki/software_usage/MDAnalysis/#io","title":"IO \u7406\u5ff5","text":""},{"location":"wiki/software_usage/MDAnalysis/#1","title":"1. \u521d\u59cb\u5316","text":"<p><code>MDAnalysis</code>\u5c06\u8f68\u8ff9\u6587\u4ef6\uff0ctopology\u4fe1\u606f\u7b49\u62bd\u8c61\u4e3a\u4e00\u4e2a<code>Universe</code> class. \u4f8b\u5982\u4e00\u6761xyz\u8f68\u8ff9\u53ef\u4ee5\u5982\u4e0b\u521d\u59cb\u5316\uff0c</p> <pre><code>from MDAnalysis import Universe\nxyzfile = \"./tio2-water.xyz\"\nu = Universe(xyzfile)\nu.dimensions = np.array([10, 10, 10, 90, 90, 90])    # assign cell parameter\n</code></pre> <p>\u8fd9\u6837\u521d\u59cb\u5316\u4e00\u4e2a<code>u</code>\u5b9e\u4f8b\u5176\u5b9e\u5e76\u4e0d\u4f1a\u8bfb\u53d6\u6574\u4e2a\u6587\u4ef6\uff0c\u5728\u6b64\u9636\u6bb5\uff0c\u7528\u6237\u53ef\u4ee5\u4f7f\u7528<code>u</code>\u8fdb\u884c\u9009\u62e9\u90e8\u5206\u539f\u5b50\uff0c\u5f97\u5230\u4e00\u4e2a<code>atomgroup</code>\u5bf9\u8c61\u3002\u4f8b\u5982\uff0c\u4f7f\u7528</p> <pre><code>ag      = u.atoms        # select all atoms\nxyz     = ag.positions   # get the coordinates for these atoms\nelement = ag.elements    # the element labels for theses atoms\n</code></pre> <p>\u53ef\u4ee5\u5c06\u6240\u6709\u539f\u5b50\u9009\u53d6\u6210\u4e00\u4e2a<code>atomgroup</code>\u5bf9\u8c61\u3002\u5176\u5b9e<code>MDAnalysis</code>\u652f\u6301\u4e00\u4e9b\u66f4fancy\u7684\u9009\u62e9\u8bed\u6cd5\uff0c\u7c7b\u4f3c\u4e8e<code>VMD</code>\u7684\u8bed\u6cd5\uff0c\u8be6\u89c1MDAnalysis\u9009\u62e9\u8bed\u6cd5\u3002\u4f46\u662f\uff0c\u6839\u636e\u7b14\u8005\u7684\u7ecf\u9a8c\uff0c\u8fd9\u4e2d\u9009\u62e9\u8bed\u6cd5\u5bf9\u6211\u4eec\u7814\u7a76\u7684\u4f53\u7cfb\u6765\u8bf4\u4e0d\u597d\u7528\uff0c\u4f7f\u7528<code>ASE</code>\u8fdb\u884c\u8fd9\u4e9b\u9009\u62e9\u5c31\u4f1a\u66f4\u52a0\u65b9\u4fbf\u3002</p>"},{"location":"wiki/software_usage/MDAnalysis/#2","title":"2. \u8f68\u8ff9\u7684\u8bfb\u53d6","text":"<p>\u5728\u521d\u59cb\u5316\u4e00\u4e2a<code>Universe</code>\u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u6cd5\u624b\u52a8\u6fc0\u6d3b\u8f68\u8ff9\u7684\u8bfb\u53d6\uff1a</p> <pre><code>print(u.trajectory)                 # reading the trajectory\nn_frames = u.trajectory.n_frames    # get the number of frames of your traj\nu.trajectory.ts.dt = 0.0005         # set dt to 0.0005 ps, otherwise you will get a warning \n</code></pre> <p>\u5426\u5219\uff0c\u5728\u8fd0\u884c\u5206\u6790\u4e4b\u524d\uff0c<code>MDAnalysis</code>\u4e0d\u4f1a\u81ea\u52a8\u8bfb\u53d6\u6587\u4ef6\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u5c31\u7b97\u5728\u4e0a\u9762\u7684\u8bfb\u53d6\u8fc7\u7a0b\u4e2d\uff0c<code>MDAnalysis</code>\u4e5f\u4e0d\u4f1a\u628a\u8f68\u8ff9\u8bfb\u5165\u5185\u5b58\uff0c\u800c\u662f\u8bfb\u53d6\u4e86\u4e00\u6761\u8f68\u8ff9\u7684\u5f00\u5934\u5728\u6587\u4ef6\u7684\u4f4d\u7f6e\u3002\u4ee5\u6211\u4eec\u6bd4\u8f83\u719f\u6089\u7684<code>xyz</code>\u6587\u4ef6\u4e3a\u4f8b\uff0c</p> <pre><code>100                                 &lt;- \u5e27\u5f00\u5934\nTIMESTEP: 0\n*.*****    *.*****    *.*****\n*.*****    *.*****    *.*****\n              \u00b7\n              \u00b7\n              \u00b7\n              \u00b7\n*.*****    *.*****    *.*****\n100                                 &lt;- \u5e27\u5f00\u5934\nTIMESTEP: 2\n*.*****    *.*****    *.***** \u3002    \n</code></pre> <p><code>MDAnalysis</code>\u4f1a\u904d\u5386\u6574\u4e2a\u6587\u4ef6\u6d41\uff0c\u5c06\u8f68\u8ff9\u5f00\u5934\u5728\u6587\u4ef6\u6d41\u4e2d\u7684\u4f4d\u7f6e\u4fdd\u5b58\u5728<code>u.trajectory._offsets</code>\u4e2d\u3002</p> <pre><code>    |+----------------+----------------+----------------+--\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7--+----------------|\n    |*             \ufe0f   *            \ufe0f    *            \ufe0f    *              \ufe0f     *                |\n    |*             \ufe0f   *            \ufe0f    *            \ufe0f    *              \ufe0f     *                |\n    |*             \ufe0f   *            \ufe0f    *            \ufe0f    *              \ufe0f     *                |\n    |*             \ufe0f   *            \ufe0f    *            \ufe0f    *              \ufe0f     *                |\n    |v                v                v                v                   v                |\n    ------------------------------------------------------------------------------------------\n    |0                1                2                3                   N                |\narray(\n    [&lt;_offsets(0)&gt;,   &lt;_offsets(1)&gt;,   &lt;_offsets(2)&gt;,   &lt;_offsets(3)&gt;, ..., &lt;_offsets(N)&gt;    ]\n)  ---&gt; u.trajectory._offsets\n</code></pre> <p>\u6709\u4e86\u8fd9\u4e9b\u5e27\u5f00\u5934\u5728\u6587\u4ef6\u7684\u5730\u65b9\uff0c<code>MDAnalysis</code>\u5c31\u53ef\u4ee5\u4efb\u610f\u8bfb\u533a\u4efb\u610f\u4e00\u5e27\u8f68\u8ff9\u6587\u4ef6\u7684\u7684\u6570\u636e\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u9700\u8981\u8bfb\u533a\u7b2c70\u5e27\u7684\u5750\u6807\uff0c\u4f60\u5c31\u53ef\u4ee5</p> <pre><code>&gt;&gt;&gt; print(u.trajectory)\n&gt;&gt;&gt; ag = u.atoms\n&gt;&gt;&gt; print(u.trajectory.ts)\n&lt; Timestep 0 with unit cell dimensions None &gt;\n&gt;&gt;&gt; for ii in range(69):\n...     u.trajectory.next()\n&gt;&gt;&gt; print(u.trajectory.ts) \n&lt; Timestep 69 with unit cell dimensions None &gt;\n&gt;&gt;&gt; xyz70 = ag.atoms\n&gt;&gt;&gt; u.trajectory.rewind()                       \n&lt; Timestep 0 with unit cell dimensions None &gt;\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c<code>u.trajectory</code>\u5176\u5b9e\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7<code>u.trajectory.next()</code>\u65b9\u6cd5\u4e0b\u4e00\u5f97\u5230\u4e0b\u4e00\u5e27\u7684trajectory\u3002\u540c\u65f6\uff0c\u8fd9\u4e00\u5e27\u7684\u5750\u6807\u4e5f\u4f1a\u66f4\u65b0\u81f3<code>atomgroup.position</code>\u3002\u5b9e\u9645\u4e0a\uff0c\u5728\u4f7f\u7528<code>MDAnalysis</code>\u8fdb\u884c\u5206\u6790\u65f6\u4f60\u4e0d\u9700\u8981\u6267\u884c\u8fd9\u4e9b\u5e95\u5c42\u7684<code>next</code>\u548c<code>rewind</code>\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u7e41\u7410\u7684\u6b65\u9aa4\u5df2\u7ecf\u5305\u88c5\u597d\u4e86\u3002</p> <p>\u5b9e\u9645\u4e0a\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u7d22\u5f15\u7684\u65b9\u5f0f\u5bf9\u7b2c70\u5e27\u7684\u7ed3\u679c\u8fdb\u884c\u63d0\u53d6\uff1a <pre><code>&gt;&gt;&gt; print(u.trajectory[70])\n&lt; Timestep 70 with unit cell dimensions None &gt;\n</code></pre></p> <p>\u540c\u65f6\uff0c\u6b63\u56e0\u4e3a<code>u.trajectory</code>\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\uff0c\u5bf9\u4e8e\u5176\u7236\u7c7b<code>ProtoReader</code>\uff0c\u5176\u4e2d\u5b9a\u4e49\u4e86<code>__iter__</code>\u65b9\u6cd5\u6765\u8fd4\u56de\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\uff0c\u540c\u65f6\u5b9a\u4e49\u4e86<code>__next__</code>\u65b9\u6cd5\u6765\u56de\u5e94\u5bf9\u5e94\u7684\u8fed\u4ee3\u8fc7\u7a0b\u3002\u800c\u5728<code>__next__</code>\u65b9\u6cd5\u8fd4\u56de\u7684\u5373\u4e3a<code>next()</code>\u51fd\u6570\u4e2d\u7684\u5185\u5bb9\u3002\u56e0\u6b64\u5982\u679c\u60f3\u5bf9\u4e00\u6761\u8f68\u8ff9\u8fdb\u884c\u5207\u7247\u5206\u6790\u800c\u4e0d\u662f\u9010\u5e27\u5206\u6790\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528\u5207\u7247\u540e\u7684\u8f68\u8ff9\u6765\u8fdb\u884c\u8fed\u4ee3\uff1a</p> <pre><code>&gt;&gt;&gt; for ts in u.trajectory[10:10000:20]:    # \u4ece\u7b2c10\u5e27\u523010000\u5e27\u6bcf20\u6b65\u53d6\u4e00\u5e27\n...     print(ts.frame)\n10 30 50 70 90 110 130 150 ...\n</code></pre> <p>\u7efc\u4e0a\u6240\u8ff0\uff0c<code>MDAnalysis</code>\u7684\u8f68\u8ff9\u8bfb\u53d6\u65b9\u5f0f\u6709\u5982\u4e0b\u4f18\u70b9:</p> <ul> <li> <p>\u56e0\u4e3a\u5b9e\u9645\u8bfb\u53d6\u7684\u662foffsets\uff0c\u4e5f\u5c31\u662f\u5e27\u5f00\u5934\u7684\u4f4d\u7f6e\uff0c\u4ec5\u4ec5\u8bfb\u4e86N\u4e2a\u6574\u6570\u3002\u4e0d\u50cf\u9694\u58c1<code>ASE</code>\uff0c\u4f1a\u5b9e\u4f8b\u5316N\u4e2a<code>Atoms</code>\uff08\u5305\u62ec\u4e86\u6574\u6761\u8f68\u8ff9\u7684\u5750\u6807\uff09\uff0c\u4e8e\u662f\u4f1a\u975e\u5e38\u5360\u7528\u5185\u5b58\u3002<code>MDAnalysis</code>\u7684io\u65b9\u6cd5\u5185\u5b58\u5360\u7528\u5c0f\uff0cloop\u4e5f\u66f4\u5feb\u3002</p> </li> <li> <p>\u8bfb\u53d6offsets\u540e\u4f60\u53ef\u4ee5\u5c06<code>Universe</code>\u5bf9\u8c61\u4fdd\u5b58\u4e0b\u6765\u89c1\u4e0b\u6587\uff0c\u8bfb\u53d6\u540e\u4e0d\u9700\u8981\u518d\u904d\u5386\u6574\u4e2a\u8f68\u8ff9\u6587\u4ef6\u3002\u8fd9\u6837\uff0c\u5047\u5982\u4f60\u53c8\u6709\u4e86\u65b0\u7684\u5206\u6790\uff0c\u4f60\u5c31\u53ef\u4ee5\u7701\u4e0b\u904d\u5386\u6587\u4ef6\u7684\u65f6\u95f4\u3002</p> </li> </ul>"},{"location":"wiki/software_usage/MDAnalysis/#save-universe","title":"\u4fdd\u5b58\u4e00\u4e2a<code>Universe</code>\u5b9e\u4f8b","text":"<p>\u5047\u5982\u8bf4\u4f60\u73b0\u5728\u6709\u4e00\u6761\u8f68\u8ff9\u6587\u4ef6<code>traj.xyz</code>\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u5982\u4e0b\u65b9\u6cd5\u5c06\u5176\u4fdd\u5b58\u4e0b\u6765\uff0c\u8282\u7701\u4e8c\u6b21\u5206\u6790\u65f6\u8bfb\u53d6\u5e27\u5f00\u5934\u7684\u65f6\u95f4\u3002</p> <pre><code>import pickle\nfrom MDAnalysis import Universe\n\n&gt;&gt;&gt; xyzfile = \"/path/to/traj.xyz\"     # !!! Use absolute path. It's more robust.     \n&gt;&gt;&gt; outuni  = \"./traj.uni\"\n&gt;&gt;&gt; u = Universe(xyzfile)\n&gt;&gt;&gt; print(u.trajectory)               # This will take some time\n&lt;XYZReader /path/to/traj.xyz with 100 frames of 3240 atoms&gt;\n&gt;&gt;&gt; with open(outuni, 'wb') as f:\n...    pickle.dump(u, f)\n</code></pre> <p>\u5efa\u8bae\u521d\u59cb\u5316<code>Universe</code>\u65f6\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\uff0c\u8fd9\u6837\u4f60\u53ef\u4ee5\u5c06\u590d\u5236\u5230<code>traj.uni</code>\u590d\u5236\u5230\u4efb\u610f\u8def\u5f84\u5bf9\u8f68\u8ff9\u5206\u6790\u3002\u5728\u4e8c\u6b21\u5206\u6790\u65f6\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u8fd9\u6837\u8bfb\u53d6\u4e00\u4e2a<code>Universe</code>:</p> <pre><code>&gt;&gt;&gt; with open(outuni, 'rb') as f:\n...     v = pickle.load(f) \n&gt;&gt;&gt; print(v.trajectory)\n&lt;XYZReader /path/to/traj.xyz with 100 frames of 3240 atoms&gt;\n</code></pre> <p>\u7b14\u8005\u7684\u7ecf\u9a8c\u662f\uff0c\u5728\u6211\u4eec\u7684<code>&lt;fat&gt;</code>\u8282\u70b9\u4e0a\uff0c\u904d\u5386\u4e00\u4e2a 6G \u5927\u5c0f\u7684xyz\u8f68\u8ff9\u6587\u4ef6\u7684\u5e27\u5f00\u5934\u9700\u8981 3 min\u3002</p>"},{"location":"wiki/software_usage/MDAnalysis/#_1","title":"\u8ddd\u79bb\u8ba1\u7b97\u5e93\u51fd\u6570","text":"<p><code>MDAnalysis</code>\u6709\u4f18\u79c0\u7684\u5e95\u5c42\u8ddd\u79bb\u8ba1\u7b97\u51fd\u6570\u5e93<code>MDAnalysis.lib.distances</code>\uff0c\u662f\u5f00\u53d1\u8005\u7528<code>C</code>\u8bed\u8a00\u7f16\u5199\u5e95\u5c42\u65b9\u6cd5\uff0c\u7528<code>python</code>\u5305\u88c5\u4e00\u4e2a\u5e93\uff0c\u8be6\u89c1<code>lib.distances</code> API\u3002\u5b83\u957f\u4e8e\u5728\u4e8e\u8ba1\u7b97\u5468\u671f\u6027\u8fb9\u754c\u6761\u4ef6\uff08PBC\uff09\u4e0b\u7684\u539f\u5b50\u95f4\u8ddd\u79bb\uff0c\u5e76\u4e14\u6587\u6863\u7fd4\u5b9e\u3002\u800c\u4e14\u4e0e<code>MDAnalysis</code>\u7684<code>Universe</code>\u3001<code>Analysis</code>\u7b49\u7c7b\u76f8\u72ec\u7acb\uff0c\u4f60\u53ea\u9700\u8981\u63d0\u4f9b\u539f\u5b50\u5750\u6807\uff0c\u76d2\u5b50\u5927\u5c0f\uff0ccutoff\u5927\u5c0f\uff0c\u5c31\u53ef\u4ee5\u5f97\u5230\u8ddd\u79bb\u3001\u89d2\u5ea6\u7b49\u6570\u636e\u3002</p> <p>\u4e0b\u9762\u662f\u7b14\u8005\u7528\u8be5\u51fd\u6570\u5e93\u91cc<code>capped_distance</code>\u65b9\u6cd5\u5305\u88c5\u7684\u7684\u4e00\u4e2a\u914d\u4f4d\u6570\u8ba1\u7b97\u5668\u3002</p> <pre><code>def count_cn(atoms1, atoms2, cutoff_hi, cutoff_lo=None, cell=None):\n    \"\"\"count the coordination number(CN) for atoms1 (center atoms), where atoms2 are coordinate atom. This function will calculate CN within range cutoff_lo &lt; d &lt; cutoff_lo, where d is the distance between atoms1 and atoms2. Minimum image convention is applied if cell is not None\n\n    Args:\n        atoms1 (numpy.ndarray): Array with shape (N, 3), where N is the number of center atoms. 'atoms1' are the position of center atoms. \n        atoms2 (numpy.ndarray): Array with shape (M, 3), where M is the number of coordination atoms. 'atoms2' are the positions of coordination atoms.\n        cutoff_hi (float): Max cutoff for calculating coordination number. \n        cutoff_lo (float or None, optional): Min cutoff for calculating coordination number. This function will calculate CN within range cutoff_lo &lt; d &lt; cutoff_lo, where d is the distance between atoms1 and atoms2. Defaults to None.\n        cell (numpy.ndarray, optional): Array with shape (6,), Array([a, b, c, alpha, beta, gamma]). Simulation cell parameters. If it's not None, the CN calculation will use minimum image convention. Defaults to None.\n\n    Returns:\n        results: Array with shape (N,), CN of each atoms atoms1\n    \"\"\"\n    pairs, _ = capped_distance(reference=atoms1,\n                               configuration=atoms2,\n                               max_cutoff=cutoff_hi,\n                               min_cutoff=cutoff_lo,\n                               box=cell)\n    _minlength = atoms1.shape[0]\n    results = np.bincount(pairs[:, 0], minlength=_minlength)\n    return results\n</code></pre> <p>\u5176\u5b9e\u9694\u58c1<code>ASE.geometry</code>\u4e0b\u4e5f\u6709\u7c7b\u4f3c\u7684\u5e95\u5c42\u65b9\u6cd5\uff0c\u4f46\u662f\u7b14\u8005\u8ba4\u4e3a\u4f7f\u7528\u4f53\u9a8c\u786e\u5b9e\u4e0d\u5982<code>MDAnalysis.lib.distances</code>\uff08\u8ba1\u7b97\u901f\u5ea6\u6162\uff0c\u6587\u6863\u5c11\uff09\u3002</p> <p>\u4e0b\u9762\u5bf9\u4e24\u7ec4\u539f\u5b50\u8ddd\u79bb\u77e9\u9635\u8fdb\u884cbenchmark\uff0c\u6bcf\u7ec4100\u4e2a\u539f\u5b50\uff0c\u7ed3\u679c\u662f\u4e00\u4e2a100x100\u7684<code>numpy.array</code>\uff0c\u53ef\u4ee5\u53d1\u73b0<code>MDAnalysis.lib.distances</code>\u4f1a\u5feb15\u500d\u3002\u6240\u4ee5\u5f53\u4f60\u6709\u4e0a\u4e07\u4e2a\u8fd9\u6837\u8ba1\u7b97\u7684\u65f6\u5019\uff0c\u4f7f\u7528<code>ASE</code>\u7684\u51fd\u6570\u5e93\u4f1a\u5f71\u54cd\u4f60\u7684\u6548\u7387\u3002</p> <pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; from ase.geometry import get_distances\n&gt;&gt;&gt; from MDAnalysis.lib.distances import distance_array\n                       \u00b7\n                       \u00b7\n                       \u00b7\n&gt;&gt;&gt; print(xyz1.shape, xyz2.shape)\n(100, 3) (100, 3)\n&gt;&gt;&gt; print(cell)\n[[50.5123      0.          0.        ]\n [ 5.05820546 13.34921731  0.        ]\n [ 0.          0.         47.8433    ]]\n&gt;&gt;&gt; print(cellpar)\n[50.5123 14.2754 47.8433 90.     90.     69.2476]\n\nIn[1]: %%timeit\n...    dmatrix_mda = distance_array(xyz1, xyz2, box=cellpar)\n1.03 ms \u00b1 5.11 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1,000 loops each)\n\nIn[2]: %%timeit\n...    vec, dmatrix_ase = get_distances(xyz1, xyz2, cell=cell, pbc=True)\n16.6 ms \u00b1 133 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n</code></pre>"},{"location":"wiki/software_usage/MDAnalysis/#_2","title":"\u6ce8\u610f\uff1a\u5982\u679c\u4f60\u5728\u5904\u7406\u975e\u6b63\u4ea4\u7684\u6a21\u62df\u76d2\u5b50","text":"<p>\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u5728\u4e0a\u8ff0\u8ddd\u79bb\u8ba1\u7b97\u7684\u4f8b\u5b50\u91cc\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7cell parameter\uff0c[a, b, c, alpha, beta, gamma]\uff0c\u7ed9<code>MDAnalysis.lib.distances</code>\u63d0\u4f9b\u6a21\u62df\u76d2\u5b50\u7684\u4fe1\u606f\u3002\u800c\u5b9e\u9645\u4e0a\uff0c\u8ba1\u7b97\u8ddd\u79bb\u7684\u65f6\u5019cell parameter\u4f1a\u5148\u901a\u8fc7\u5185\u90e8\u65b9\u6cd5\u8f6c\u5316\u62103x3\u7684\u76d2\u5b50\u77e9\u9635\u3002\u5982\u679c\u4f60\u7684\u76d2\u5b50\u5e76\u4e0d\u662f\u6b63\u4ea4\u7684\uff0c\u5e94\u8be5\u5148\u68c0\u67e5\u4f60\u63d0\u4f9b\u7684cell parameter\u80fd\u5426\u6b63\u786e\u5f97\u52303x3\u7684\u77e9\u9635\uff0c\u518d\u4f7f\u7528\u8fd9\u4e2a\u51fd\u6570\u5e93\uff0c\u5426\u5219\u4f60\u53ef\u80fd\u4f1a\u5f97\u5230\u9519\u8bef\u7684\u7ed3\u679c\u3002\u8fd9\u91cc\u662f\u4ed6\u4eec\u4f7f\u7528\u7684python\u8f6c\u6362\u811a\u672c\u3002</p>"},{"location":"wiki/software_usage/MDAnalysis/#_3","title":"\u590d\u6742\u7684\u8f68\u8ff9\u5206\u6790\u2014\u2014\u7b80\u8981\u4ecb\u7ecd\u9762\u5bf9\u5bf9\u8c61\u7f16\u7a0b\u7684\u65b9\u6cd5","text":"<p>\u5728\u5b9e\u9645\u7684\u50ac\u5316\u81ea\u7531\u80fd\u8ba1\u7b97\u5f53\u4e2d\uff0c\u5728\u5206\u6790\u8fc7\u7a0b\u4e2d\u5b9e\u9645\u6d89\u53ca\u7684\u53d8\u91cf\u5f80\u5f80\u4e0d\u6b62\u4e8e\u4e00\u4e2a\u7b80\u5355\u7684\u5206\u5b50\u52a8\u529b\u5b66\u8f68\u8ff9\u6587\u4ef6\u3002\u5982\u5728\u589e\u5f3a\u91c7\u6837\u7684\u8f68\u8ff9\u5f53\u4e2d\uff0c\u5c31\u4f1a\u6709\u6d89\u53cabias\u504f\u7f6e\u52bf\u7684<code>COLVAR</code>\u6587\u4ef6\uff0c\u5176\u4e2d\u7684<code>*bias</code>\u662f\u83b7\u5f97\u4e0d\u540c\u7ed3\u6784\u5728\u5b9e\u9645\u7684\u76f8\u7a7a\u95f4\u4e2d\u7684\u6743\u91cd\u7684\u91cd\u8981\u53c2\u6570\u3002</p> <p>\u540c\u65f6\uff0c\u9762\u5bf9\u8fc7\u7a0b\u7684\u7f16\u7a0b\u65b9\u6cd5\u5728\u9047\u89c1\u5927\u91cf\u7684\u91cd\u590d\u8fc7\u7a0b\u7684\u65f6\u5019\u5f80\u5f80\u4f1a\u9762\u5bf9\u53d8\u91cf\u7e41\u591a\u3001\u8fc7\u7a0b\u590d\u6742\u7684\u95ee\u9898\u3002\u6bd4\u5982\u5bf9\u540c\u6837\u7684\u5316\u5b66\u4f53\u7cfb\u5728\u4e0d\u540c\u7684\u6e29\u5ea6\u4e0b\u8fdb\u884c\u5206\u5b50\u52a8\u529b\u5b66\u91c7\u6837\uff0c\u4f7f\u7528\u7a0b\u5e8f\u5bf9\u7ed3\u679c\u8fdb\u884c\u5206\u6790\u7684\u65f6\u5019\uff0c\u5982\u679c\u662f\u9762\u5bf9\u8fc7\u7a0b\u7f16\u7a0b\uff0c\u8981\u4e48\u4f7f\u7528\u5927\u91cf\u7684\u53d8\u91cf\u6765\u5bf9\u6570\u636e\u8fdb\u884c\u63d0\u53d6\uff0c\u8981\u4e48\u589e\u52a0\u4e00\u4e2a\u53d8\u91cf\u4e2d\u6570\u636e\u7684\u7ef4\u5ea6\u3002\u56e0\u6b64\u5728\u9047\u5230\u590d\u6742\u7684\u6570\u636e\u5904\u7406\u65f6\u5f88\u5bb9\u6613\u7406\u4e0d\u6e05\u8fc7\u7a0b\uff0c\u627e\u4e0d\u5230\u95ee\u9898\u6240\u5728\u3002\u56e0\u6b64\u5c31\u9700\u8981\u5f15\u5165\u9762\u5bf9\u5bf9\u8c61\u7f16\u7a0b\u7684\u601d\u8def\uff0c\u5728\u8fd9\u79cd\u6a21\u5f0f\u4e0b\u6211\u4eec\u89e3\u51b3\u95ee\u9898\u7684\u65b9\u6cd5\u4ece\u8fc7\u7a0b\u5bfc\u5411\u53d8\u6210\u4e86\u5bf9\u8c61\u5bfc\u5411\u3002\u8fd9\u4e2a\u5bf9\u8c61\u53ef\u4ee5\u662f\u4efb\u4f55\u4e1c\u897f\uff0c\u6bd4\u5982\u4e00\u4e2a\u6587\u4ef6\uff0c\u4e00\u4e2a\u8def\u5f84\u7b49\u7b49\uff0c\u800c\u6211\u4eec\u60f3\u83b7\u5f97\u8fd9\u4e2a\u5bf9\u8c61\u7684\u4fe1\u606f\u6765\u89e3\u51b3\u6211\u4eec\u60f3\u77e5\u9053\u7684\u95ee\u9898\uff0c\u5c31\u9700\u8981\u5b9a\u4e49\u4e00\u4e9b\u65b9\u6cd5\u6765\u5904\u7406\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u7ed3\u5408\u4e00\u4e2a\u4f8b\u5b50\u6765\u5927\u81f4\u8bf4\u660e\u9762\u5bf9\u5bf9\u8c61\u7f16\u7a0b\u7684\u7b80\u8981\u601d\u8def\u8fc7\u7a0b\uff1a</p> <p>\u95ee\u9898\u63cf\u8ff0</p> <p>\u5728\u4e00\u6761\u589e\u5f3a\u91c7\u6837\u7684\u8f68\u8ff9\u5f53\u4e2d\uff0c\u6211\u4eec\u60f3\u8981\u63d0\u53d6\u7ed3\u6784\u4e2d\u4e00\u79cd\u539f\u5b50(A)\u7684\u53e6\u5916\u4e00\u79cd\u539f\u5b50(B)\u7684\u914d\u4f4d\u6570\u5206\u5e03\u4ee5\u53ca\u5728\u4e0d\u540c\u914d\u4f4d\u6570\u4e0b\u9762\u7684\u7ed3\u6784\u5206\u5e03\u7279\u5f81\uff0c\u5e76\u7ed3\u5408\u589e\u5f3a\u91c7\u6837\u7684\u6743\u91cd\u6765\u5bf9\u7ed3\u679c\u8fdb\u884c\u66f4\u4e3a\u4e25\u8c28\u7684\u5206\u6790\u3002\u9996\u5148\u6211\u4eec\u9700\u8981\u5f15\u5165\u8f68\u8ff9\u6587\u4ef6\u4e2d\u7684\u5206\u5b50\u7ed3\u6784\u4fe1\u606f\uff0c\u518d\u8ba1\u7b97\u7ed9\u5b9a\u73af\u5883\u7684\u914d\u4f4d\u6570\uff0c\u63d0\u53d6\u914d\u4f4d\u73af\u5883\u7684\u539f\u5b50\u5750\u6807\uff0c\u5e76\u5728\u540e\u7eed\u8ba1\u7b97\u5c40\u90e8\u7ed3\u6784\u7684\u7279\u5f81\u4fe1\u606f\uff08\u5982\u952e\u89d2\u3001\u4e8c\u9762\u89d2\u5206\u5e03\u7b49\uff09\u3002\u5728\u8fd9\u4e9b\u7ed3\u6784\u5f53\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u540c\u65f6\u63d0\u53d6<code>COLVAR</code>\u6587\u4ef6\u4e2d\u5bf9\u5e94\u7684<code>bias</code>\u4fe1\u606f\uff0c\u7528\u4e8e\u5728\u540e\u7eed\u8fc7\u7a0b\u4e2d\u7684\u52a0\u6743\u3002</p> <p>\u5728\u4f7f\u7528<code>MDAnalysis</code>\u5e93\u5bf9\u8fd9\u6837\u7684\u6587\u4ef6\u7ed3\u6784\u5206\u6790\u7684\u65f6\u5019\uff0c\u5f97\u76ca\u4e8e\u5f3a\u5927\u7684\u5de5\u5177\u652f\u6301\uff0c\u6211\u4eec\u5904\u7406\u7684\u590d\u6742\u7684\u95ee\u9898\u4e5f\u5c31\u53ef\u4ee5\u66f4\u4e3a\u8fc5\u901f\u3002\u53c2\u8003\u672c\u6587\u5f00\u59cb\u65f6\u7ed9\u51fa\u7684\u7f51\u9875\u4e2d\u7684\u76f8\u5173\u6bb5\u843d\uff0c\u6211\u4eec\u662f\u9996\u5148\u5f15\u5165\u76f8\u5e94\u7684\u5750\u6807\u4fe1\u606f\u6587\u4ef6\u4ee5\u53ca<code>COLVAR</code>\u6587\u4ef6\u6765\u521d\u59cb\u5316\u7c7b\uff08\u5728\u95ee\u9898\u7684\u5904\u7406\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u8fd9\u4e00\u6b65\u76f8\u5f53\u4e8e\u5f15\u5165\u539f\u59cb\u4fe1\u606f\uff0c\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u5728\u5bf9\u5e94\u7684\u65b9\u6cd5\u5f53\u4e2d\u518d\u5f15\u5165\uff0c\u5982\u679c\u6709\u65b9\u6cd5\u4e2d\u9700\u8981\u7528\u5230\u7684\u7edf\u4e00\u7684\u4fe1\u606f\uff0c\u5728<code>__init__</code>\u65b9\u6cd5\u4e2d\u5f15\u5165\u662f\u6700\u4e3a\u76f4\u89c2\u548c\u65b9\u4fbf\u7684\uff09\uff1a <pre><code>class A_center_analysis(AnalysisBase):\n    def __init__(self, lmpfile, COLVAR_file, verbose=True):\n        u = Universe(lmpfile, topology_format=\"LAMMPSDUMP\")\n        u.select_atoms(\"type 1\").masses = 114\n        u.select_atoms(\"type 2\").masses = 514\n        u.trajectory.ts.dt = 0.0005\n        self.cell = u.dimensions\n        self.bias = np.loadtxt(COLVAR_file, skiprows=1, usecols=-1)\n\n        assert u.trajectory.n_frames == len(self.bias) \n\n        self.atomgroup = u.select_atoms(\"all\")\n        super(A_center_analysis, self).__init__(self.atomgroup.universe.trajectory, verbose=verbose)\n</code></pre> \u5176\u4e2d<code>super()</code>\u51fd\u6570\u7528\u4e8e\u8c03\u7528\u7236\u7c7b<code>AnalysisBase</code>\u5f53\u4e2d\u7684\u521d\u59cb\u5316\u51fd\u6570\uff0c\u4ee5\u4fbf\u4e8e\u540e\u7eed\u53d8\u91cf\u7684\u6613\u7528\u6027\u3002</p> <p>\u6b64\u540e\u6211\u4eec\u5b9a\u4e49\u51c6\u5907\u597d\u7684\u7ed3\u679c\u53d8\u91cf\uff0c\u5728\u539f\u4f8b\u5f53\u4e2d\u53ea\u4f7f\u7528\u4e86\u4e00\u4e2a<code>self.result</code>\u53d8\u91cf\u6765\u5305\u542b\u6240\u6709\u7684\u7ed3\u679c\uff0c\u5728\u540e\u7eed\u7684\u8c03\u7528\u5f53\u4e2d\u4e0d\u662f\u5f88\u660e\u6717\uff0c\u56e0\u6b64\u5728\u6b64\u5904\u53ef\u4ee5\u591a\u5b9a\u4e49\u4e00\u4e9b\u3002 <pre><code>    def _prepare(self):\n        self.cn_2 = np.array([])        \n        self.angle_2 = np.array([])\n        self.bias_2 = np.array([])\n</code></pre></p> <p>\u4e0e\u4e4b\u7c7b\u4f3c\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528<code>_conclude()</code>\u65b9\u6cd5\u5bf9\u8ba1\u7b97\u7ed3\u679c\u8fdb\u884c\u540e\u5904\u7406\uff0c\u5c31\u4e0d\u9700\u8981\u5728\u6700\u540e\u4e00\u5e27\u7ed3\u675f\u540e\u8fdb\u884c\u5224\u65ad\u518d\u8fdb\u884c\u540e\u5904\u7406\u4e86\u3002\u6bd4\u5982\u524d\u9762\u5b9a\u4e49\u7684\u51e0\u4e2a\u53d8\u91cf\u4e3a\u5217\u8868\uff0c\u5728\u6700\u540e\u60f3\u6362\u6210<code>np.array()</code>\u7684\u683c\u5f0f\uff0c\u5c31\u53ef\u4ee5\u5728<code>_conclude()</code>\u65b9\u6cd5\u4e2d\u8fdb\u884c\u53d8\u6362\u3002 <pre><code>    def _conclude(self):\n        self.cn_2 = np.array([])        \n        self.angle_2 = np.array([])\n        self.bias_2 = np.array([])\n</code></pre></p> <p>\u6b64\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u6211\u4eec\u5bf9\u5e94\u7684\u5206\u6790\u65b9\u6cd5\uff0c\u5e76\u5c06\u5173\u5fc3\u7684\u7ed3\u679c\u653e\u5230\u5408\u9002\u7684\u7c7b\u5c5e\u6027\u5f53\u4e2d\uff08\u8fd9\u4e00\u6b65\u5c31\u662f\u5c06\u539f\u59cb\u4fe1\u606f\u8fdb\u884c\u5904\u7406\uff0c\u83b7\u5f97\u5bf9\u8c61\u7684\u4e00\u7cfb\u5217\u5c5e\u6027\u7684\u8fc7\u7a0b\uff09 <pre><code>    def _append(self, cn, data):\n        assert data.shape == (cn+1, 3)\n        if cn == 2:\n            self.cn_2 = np.append(self.cn_2, data)\n            self.cn_2 = self.cn_2.reshape(-1,3,3)\n\n            BAB_angle = calc_angles(data[1],data[0],data[2], box=self.cell)\n            self.angle_2 = np.append(self.angle_2, BAB_angle)\n            self.bias_2 = np.append(self.bias_2, self.bias[self.atomgroup.ts.frame])    # \u6b64\u5904\u5bf9\u7ed3\u6784\u5bf9\u5e94\u7684bias\u4fe1\u606f\u8fdb\u884c\u63d0\u53d6\n        else:\n            pass\n\n    def _single_frame(self):\n        A_coord = self.atomgroup.select_atoms(\"type 1\").ts[:]\n        B_coord = self.atomgroup.select_atoms(\"type 2\").ts[:]\n\n        pairs, _ = capped_distance(reference=A_coord,configuration=o_coord,\n                                   max_cutoff=2.6,min_cutoff=None,\n                                   box=self.cell)\n        _minlength = A_coord.shape[0]\n        cn_results = np.bincount(pairs[:, 0], minlength=_minlength)\n\n        for A_cn in range(2,5):\n            A_centers = A_coord[cn_results == A_cn]\n            for ag_center in ag_centers:\n                A_B_map = distance_array(A_center, B_coord, box=self.cell)[0]\n                coordinated_B_coord = B_coord[A_B_map.argsort() &lt; A_cn]\n                self._append(A_cn, np.vstack((A_center, coordinated_B_coord)))\n</code></pre> \u5176\u4e2d\uff0c<code>_single_frame()</code>\u65b9\u6cd5\u662f\u540e\u7eed\u5728\u8dd1\u7684\u8fc7\u7a0b\u5f53\u4e2d\u5faa\u73af\u8fed\u4ee3\u7684\u4e3b\u8981\u7a0b\u5e8f\uff0c\u5176\u4e2d\u7684<code>self.atomgroup</code>\u53ef\u4ee5\u770b\u4f5c\u5355\u4e00\u4e00\u5e27\u7684\u6570\u636e\uff0c\u540e\u9762\u7684\u5904\u7406\u65b9\u6cd5\u4e5f\u662f\u9488\u5bf9\u4e8e\u8fd9\u4e00\u5e27\u7684\u3002\u5728\u7236\u7c7b\u5f53\u4e2d\u7684<code>run()</code>\u65b9\u6cd5\u4f1a\u81ea\u52a8\u5e2e\u5fd9\u8fdb\u884c\u8fed\u4ee3\uff0c\u53ea\u9700\u8981\u89c4\u5b9a\u597d\u8fed\u4ee3\u7684\u8303\u56f4\u4ee5\u53ca\u6b65\u957f\u5373\u53ef\u3002</p> <p>\u5728\u6b64\u5904\u591a\u5b9a\u4e49\u4e00\u4e2a<code>_append()</code>\u65b9\u6cd5\u7684\u76ee\u7684\u662f\u4e3a\u4e86\u5c06\u6dfb\u52a0\u5230\u7ed3\u679c\u53d8\u91cf\u4e2d\u7684\u7a0b\u5e8f\u548c\u4e3b\u8981\u7684\u5206\u6790\u7a0b\u5e8f\u5206\u5f00\uff0c\u4ee5\u4fbf\u4e8e\u540e\u7eed\u7684\u529f\u80fd\u62d3\u5c55\uff08\u5982\u5bf9\u914d\u4f4d\u6570\u7b49\u4e8e3\u7684\u5750\u6807\u4fe1\u606f\u8fdb\u884c\u4e8c\u6b21\u5904\u7406\u5c31\u53ef\u4ee5\u76f4\u63a5\u5728<code>_append()</code>\u51fd\u6570\u5f53\u4e2d\u6dfb\u52a0\u529f\u80fd\u800c\u4e0d\u7528\u518d\u52a8\u63d0\u53d6\u4fe1\u606f\u7684\u76f8\u5173\u7a0b\u5e8f\uff09\u3002</p> <p>\u5728\u540e\u7eed\u7684\u8c03\u7528\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u8981\u521d\u59cb\u5316\u76f8\u5173\u5206\u6790\u7c7b\u5e76run\u5c31\u53ef\u4ee5\u4e86 <pre><code>&gt;&gt;&gt; lmpfile = \"300.lammpstrj\"\n&gt;&gt;&gt; a_300 = A_center_analysis(lmpfile, \"COLVAR\")\n&gt;&gt;&gt; a_300.run(start=200000, stop=-1, step=100)\n&gt;&gt;&gt; print(a_300.bias_2.shape, a_300.angle_2.shape, a_300.cn_2.shape)\n(20472,) (20472,) (20472, 3, 3)\n</code></pre> \u4ece\u8f93\u51fa\u7684\u6570\u636e\u5c3a\u5bf8\u76f8\u540c\u53ef\u4ee5\u770b\u51fa\u6bd4\u8f83\u7b26\u5408\u6211\u4eec\u7684\u9884\u671f\uff0c\u80fd\u591f\u505a\u5230\u7ed3\u6784\u548c\u5bf9\u5e94\u7684\u504f\u7f6e\u52bf\u4e00\u4e00\u5bf9\u5e94\uff0c\u5728\u540e\u7eed\u7684\u5206\u5e03\u5904\u7406\u8fc7\u7a0b\u5f53\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u76f4\u65b9\u56fe\u6982\u7387\u5bc6\u5ea6\u4f30\u8ba1\uff08\u5f53\u7136\u66f4\u4e25\u8c28\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u9ad8\u65af\u6838\u6982\u7387\u5bc6\u5ea6\u4f30\u8ba1\u7684\u65b9\u6cd5\uff09\uff1a <pre><code>&gt;&gt;&gt; plt.hist(a_300.angle_2*180/np.pi, weights=np.exp(beta*a_300.bias_2), bins=100, density=True)\n</code></pre> \u540c\u6837\u7684\uff0c\u53ef\u4ee5\u5c06\u7a0b\u5e8f\u518d\u5411\u4e0a\u5c01\u88c5\u4e00\u5c42\uff0c\u5373\u76f8\u540c\u4f53\u7cfb\u7684\u4e0d\u540c\u6e29\u5ea6\u4e0b\u7684\u7ed3\u679c\u4f5c\u4e3a\u4e00\u4e2a\u7c7b\u7684\u5bf9\u8c61\u6765\u8fdb\u884c\u5206\u6790\uff0c\u8fd9\u6837\u8f93\u51fa\u7684\u7ed3\u679c\u66f4\u4e3a\u6e05\u6670\u3002\u8fd9\u6837\u7684\u5c01\u88c5\u53ef\u80fd\u5c31\u9700\u8981\u7edf\u4e00\u6587\u4ef6\u547d\u540d\u65b9\u5f0f\uff0c\u4ee5\u53ca\u683c\u5f0f\u5316\u7684\u8def\u5f84\u547d\u540d\u65b9\u5f0f\u7b49\u7b49\uff0c\u5728\u5b9e\u9645\u7684\u5de5\u4f5c\u5f53\u4e2d\u5e26\u6765\u7684\u6548\u7387\u63d0\u5347\u5f80\u5f80\u5f88\u53ef\u89c2\u3002</p>"},{"location":"wiki/software_usage/Tips_for_LaTeX/","title":"Tips for paper writing with LaTeX","text":""},{"location":"wiki/software_usage/Tips_for_LaTeX/#cross-referece","title":"cross referece","text":"<p>What should we do if we want to cite the figures or tables in supplmentary material? Use the <code>xr</code> package!</p> <p>Firstly, put the following into the preamble of the SI:</p> <pre><code>%Number supplementary material with an S\n\\renewcommand{\\thepage}{S\\arabic{page}}\n\\renewcommand{\\thesection}{S\\arabic{section}} \n\\renewcommand{\\thetable}{S\\arabic{table}} \n\\renewcommand{\\thefigure}{S\\arabic{figure}}\n\\renewcommand{\\theequation}{S\\arabic{equation}}\n</code></pre> <p>Then, you can refer to the Figures with <code>Figure Sxxx</code> in your SI file. To cite them in your main text, you can use <code>\\ref</code>, by adding the following to the main file:</p> <pre><code>%%Crossreferencing to the SI\n\\usepackage{xr}\n\\externaldocument[SI-]{&lt;path to folder in which you have the SI&gt;}\n</code></pre> <p>Now you can reference figures in the SI as </p> <pre><code>\\ref{SI-&lt;label you gave the figure in the SI&gt;}\n</code></pre> <p>Be cautious: You need to recompile both the paper and the SI after doing so.</p> <p>For overleaf users, please refer to here.</p> <p>Thanks for the suggestion from Dr. Katharina Doblhoff-Dier in Leiden University.</p>"},{"location":"wiki/software_usage/default_version/","title":"\u8f6f\u4ef6\u9ed8\u8ba4\u7248\u672c\u63a8\u8350","text":"<p>\u76ee\u524d\u96c6\u7fa4\u4e0a\u5f88\u591a\u8f6f\u4ef6\u90fd\u7f16\u8bd1\u4e86\u591a\u4e2a\u7248\u672c\uff0c\u4f46\u7531\u4e8e\u8f6f\u786c\u4ef6\u5e73\u53f0\u3001\u7248\u672c\u3001\u73af\u5883\u7684\u66f4\u65b0\uff0c\u9700\u8981\u5bf9\u5e38\u7528\u8f6f\u4ef6\u7684\u4e00\u4e9b\u7248\u672c\u68b3\u7406\u5982\u4e0b\uff0c\u5e76\u7ed9\u51fa\u5efa\u8bae\u4f7f\u7528\u7248\u672c\u3002</p> <p>Zeus \u96c6\u7fa4\u91c7\u7528 <code>module</code> \u5bf9\u8f6f\u4ef6\u73af\u5883\u8fdb\u884c\u7ba1\u7406\uff0c\u901a\u5e38\u4f7f\u7528\u524d\u9700\u8981\u52a0\u8f7d\u73af\u5883\uff0c\u4f8b\u5982 <code>module load vasp/5.4.4</code>\u5373\u53ef\u52a0\u8f7d VASP 5.4.4 \u7248\u672c\u8fd0\u884c\u6240\u9700\u73af\u5883\u3002\u56e0\u6b64\u4e0b\u6587\u5bf9\u8f6f\u4ef6\u63a8\u8350\u7248\u672c\u7684\u8bf4\u660e\uff0c\u5c06\u4f1a\u5217\u51faZeus\u4e0a\u4f7f\u7528\u7684<code>&lt;module name&gt;</code>\uff0c\u5177\u4f53\u4f7f\u7528\u65f6\u8bf7\u81ea\u884c\u8865\u5168\u4e3a<code>module load &lt;module name&gt;</code>\u3002</p> <p>\u6ce8\u610f\u5982\u679c\u5728 <code>~/.bashrc</code> \u6216 <code>~/.bash_profile</code> \u4e2d\u52a0\u8f7d\u4e86\u73af\u5883\uff0c\u5982\u679c\u4e0e\u4e0b\u8ff0\u7248\u672c\u7528\u5230\u7684\u73af\u5883\u5b58\u5728\u51b2\u7a81\uff0c\u53ef\u5728\u63d0\u4ea4\u811a\u672c\u4e2d\u52a0\u5165<code>module purge</code>\u884c\u8fdb\u884c\u5378\u8f7d\uff0c\u4ee5\u514d\u4ea7\u751f\u51b2\u7a81\u3002</p> <p>\u6ce8\u610f\uff1a CentOS 7 \u9ed8\u8ba4\u4f7f\u7528\u7684 GCC \u7248\u672c\u4e3a4.9.4\uff0cPython \u7248\u672c\u4e3a2.7\uff0cPython 3 \u7248\u672c\u4e3a 3.6\uff0c\u6545\u4ee5\u4e0b\u6d89\u53ca\u5230\u4e0a\u8ff0\u73af\u5883\u82e5\u672a\u52a0\u8f7d\uff0c\u5219\u8868\u793a\u4f7f\u7528\u9ed8\u8ba4\u73af\u5883\u3002</p> \u8f6f\u4ef6\u540d \u63a8\u8350\u7248\u672c \u547d\u4ee4 \u9700\u8981\u8c03\u7528\u73af\u5883 \u5907\u6ce8 VASP <code>vasp/5.4.4</code> \u5e38\u89c4\u8ba1\u7b97\uff1a<code>vasp_std</code>  Gamma\u70b9 \uff1a<code>vasp_gam</code> <code>intel/17.5.239</code> <code>mpi/intel/2017.5.239</code> CPU\u5e76\u884c\u8ba1\u7b97 CP2K <code>cp2k/7.1</code> \u542f\u7528OpenMP\uff1a<code>cp2k_psmp</code>  \u672a\u542f\u7528\uff1a<code>cp2k_popt</code> <code>gcc/5.5.0</code> <code>intel/17.5.239</code> <code>mpi/intel/2017.5.239</code> CPU\u5e76\u884c\u8ba1\u7b97 DeePMD-kit <code>deepmd/2.0-cuda11.3</code> \u8bad\u7ec3\uff1a<code>dp</code>  \u8dd1MD\uff1a<code>lmp_mpi</code> <code>cuda/11.3</code> <code>gcc/7.4.0</code> <code>intel/17.5.239</code> <code>mpi/intel/2017.5.239</code> GPU\u52a0\u901f\u52bf\u51fd\u6570\u8bad\u7ec3\uff0c\u91c7\u7528\u7684Lammps\u7248\u672c\u662f20201029"},{"location":"wiki/software_usage/experience_of_dpmd_and_dpgen/","title":"DPMD\u548cDPGEN\u4f7f\u7528\u7ecf\u9a8c","text":""},{"location":"wiki/software_usage/experience_of_dpmd_and_dpgen/#dpmd-trainjson","title":"DPMD train.json\u53c2\u6570\u8bbe\u7f6e\u548c\u7406\u89e3\uff1a","text":""},{"location":"wiki/software_usage/experience_of_dpmd_and_dpgen/#dp-kit","title":"dp-kit \u5b89\u88c5","text":"<ul> <li>\u5982\u679c\u672c\u5730\u6709GPU\uff0c\u63a8\u8350\u4f7f\u7528dp-kit\u5168\u5305\u4e0b\u8f7d\uff0c\u603b\u5927\u5c0f1G\u3002 shell\u6267\u884c\u5b89\u88c5\u3002\u4fbf\u4e8e\u5728\u672c\u5730\u5f00\u53d1\u6d4b\u8bd5\u3002</li> </ul>"},{"location":"wiki/software_usage/experience_of_dpmd_and_dpgen/#deeppotential","title":"DeepPotential","text":"<ol> <li>\u5f62\u8c61\u5316\u7406\u89e3sel_a\uff1a\u4e00\u4e2a\u539f\u5b50\u8d8a\u9ad8\u6982\u7387\u51fa\u73b0\uff0c\u5bf9\u5e94sela\u8d8a\u5927\uff1bsela\u5bf9\u5e94\u4ee5\u4efb\u610f\u539f\u5b50\u4e3acenter\uff0c\u80fd\u627e\u5230\u7684\u8be5\u539f\u5b50\u7684\u6700\u5927\u6570\u76ee</li> <li>neuron network\u548cresnet\u5927\u5c0f\u4e00\u822c\u4e0d\u4fee\u6539\uff1b\u540c\u65f6\u8bad\u7ec3\u591a\u4e2a\u52bf\u51fd\u6570\u9700\u8981\u4fee\u6539\u968f\u673a\u79cd\u5b50<code>seed</code></li> <li>\u7528\u4e8e\u5b9e\u9645\u4f7f\u7528\u7684\u52bf\u51fd\u6570\u9700\u8981well-train\uff0c\u9700\u8981\u201c\u957f\u8bad\u7ec3\u201d\uff0c\u5e38\u7528\u8bbe\u7f6e\u4e3a\uff1a</li> </ol> <pre><code>\"learning_rate\" - \"decay_steps\"\uff1a20000,\n\"stop_batch\": 400000, # \u4f7f\u7528200000 \u6b65\u4e5f\u5927\u81f4\u6ca1\u6709\u95ee\u9898\u3002\n</code></pre>"},{"location":"wiki/software_usage/experience_of_dpmd_and_dpgen/#dpgen","title":"DPGEN \u4f7f\u7528","text":"<ol> <li>\u63d0\u4ea4\u8bad\u7ec3\u540e\u9700\u8981\u8ddf\u8e2atrain\u7684\u60c5\u51b5\u3002\u6709\u65f6\u5019\u7531\u4e8e\u63d0\u4ea4\u540e\u65e0\u6cd5\u914d\u7f6eGPU\u8d44\u6e90\uff08\u88ab\u5176\u4ed6\u7a0b\u5e8f\u5360\u7528\u6216\u5176\u4ed6\u539f\u56e0\uff09\uff0c\u5bfc\u81f4\u8bad\u7ec3\u8f93\u51fa\u4e3a\u201cnan\u201d\uff0c\u9700\u8981\u91cd\u65b0\u63d0\u4ea4\u5e76\u786e\u4fdd\u83b7\u53d6GPU\u8d44\u6e90\u3002</li> <li>V100\u5361\u4e0a\u77ed\u8bad\u7ec3\u4e00\u822c\u57284~8\u5c0f\u65f6\u3002\u957f\u8bad\u7ec3\u662f\u77ed\u8bad\u7ec310\u500d\u65f6\u95f4\u3002\u7406\u8bba\u4e0adpmd\u65b9\u6cd5\u8bad\u7ec3\u65f6\u95f4\u968f\u5143\u7d20\u7c7b\u578b\u6570\u76ee\u7ebf\u6027\u589e\u957f\u3002\uff08MN\uff0cM\u539f\u5b50\u6570\uff0cN\u7c7b\u578b\u6570\uff09\u3002</li> <li>\u7528\u4e8e\u8bad\u7ec3\u7684\u6570\u636e\u8981\u6b63\u786e\u7684\u8bbe\u7f6e<code>type.raw</code>\u3002\u5c24\u5176\u6ce8\u610f\u521d\u59cb\u6570\u636e\u7684\u5904\u7406\uff0c\u4fdd\u8bc1\u5143\u7d20\u987a\u5e8f\uff0c\u7f16\u53f7\u6b63\u786e\u3002</li> <li>\u6ce8\u610f\u6d4b\u8bd5k-points\uff0cdpgen\u5728vasp\u7684INCAR\u4e2d\u4f7f\u7528<code>kspacing</code>\u548c<code>kgamma</code>\u6765\u51b3\u5b9akpoints\u3002\u4e00\u822c\u8981\u6c42\u80fd\u91cf\u6536\u655b\u5230 1 meV/atom \uff0c\u529b\u5206\u91cf\u6536\u655b\u5230 5 meV/A \u4ee5\u4e0b\u3002</li> <li>dpgen \u7684exploration\u6b65\u9aa4\u901a\u8fc7md\u91c7\u6837\uff0c\u63a2\u7d22\u6b65\u6570\u4e00\u822c\u968f\u7740\u8fed\u4ee3\u589e\u52a0\u523010000~20000\u5373\u53ef\u3002\u4e00\u822c\u589e\u52a0\u968f\u673a\u7684md\u8d77\u70b9\u6570\u76ee\u6bd4\u589e\u52a0\u63a2\u7d22\u6b65\u6570\u91c7\u6837\u66f4\u9ad8\u6548\u3002\u8fd9\u662f\u6700\u5173\u952e\u7684\u6b65\u9aa4\uff0c\u8bbe\u8ba1exploration\u7b56\u7565\u65f6\u9700\u8981\u8003\u8651\u5b9e\u9645\u4f7f\u7528\u65f6\u8981\u63a2\u7d22\u4f53\u7cfb\u548c\u91c7\u6837\u7a7a\u95f4\u76f8\u7c7b\u4f3c\u3002</li> <li>\u901a\u8fc7\u4fee\u6539machine.json\u5bf9\u5e94\u914d\u7f6e\u8ba9dpgen\u62a5\u9519\u505c\u4e0b\uff0c\u7528\u4e8e\u6570\u636e\u5206\u6790\u548c\u68c0\u6d4b\u3002\u4f8b\u5982\u8bbe\u7f6e\u9519\u8bef\u7684\u7aef\u53e3/IP\u4f7f\u4efb\u52a1\u5728\u67d0\u6b65\u505c\u4e0b\u3002</li> <li>\u5982\u679c\u8bad\u7ec3\u4e86\u8f83\u65e7\u7248\u672c\u7684\u52bf\u51fd\u6570\uff0c\u53ef\u4ee5\u7528\u66f4\u65b0\u7248\u672c\u4ececheckpoint\u5f00\u59cb\uff0c\u518d\u589e\u52a02000\u6b65\u540efreeze\u3002\uff08\u7248\u672c\u5dee\u5f02\u4e0d\u80fd\u8fc7\u5927\uff09</li> <li>\u795e\u7ecf\u7f51\u7edc\u62df\u5408\u80fd\u529b\u662f\u5f88\u5f3a\u7684\uff0c\u4e0dconsistent\u7684\u6570\u636e\uff08\u4e0d\u540ck\u70b9\uff09\u4e5f\u80fd\u62df\u5408\u51fa\u975e\u5e38\u5c0f\u7684\u80fd\u91cf/\u529b\u8bef\u5dee\u3002\u6240\u4ee5\uff0c\u8981\u6ce8\u610f\u4f7f\u7528\u6d4b\u8bd5\u4f53\u7cfb\u68c0\u67e5\u52bf\u51fd\u6570\u8d28\u91cf\uff0c\u6d4b\u8bd5\u4f53\u7cfb\u53d6\u51b3\u4e8e\u6240\u7814\u7a76\u7684\u95ee\u9898\u3002\u4e5f\u8981\u6ce8\u610f\u8f93\u5165\u7684DFT\u6570\u636e\u505a\u597d\u5145\u5206\u7684\u8ba1\u7b97\u53c2\u6570\u6d4b\u8bd5\u3002</li> <li>\u63d0\u4ea4\u4efb\u52a1\u540elcurve.out\u51fa\u73b0NaN\uff1b\u539f\u56e0\u53ef\u80fd\u662f\u5185\u5b58\u6216gpu\u6ca1\u6709\u6b63\u786e\u5206\u914d\u3002\u9700\u8981\u91cd\u542f\u3002</li> <li>dp restart/freeze \u8981\u4fdd\u6301\u5728\u76f8\u540c\u7684\u8def\u5f84\u4e0b\uff0c\u5982\u679c\u6539\u53d8\u4e86\u6587\u4ef6\u5939\u4f4d\u7f6e/\u540d\u79f0\uff0c\u53ef\u4ee5\u4fee\u6539checkpoint\u6307\u660emodel\u8def\u5f84\u3002</li> <li>MD\u540c\u65f6\u4f7f\u7528\u56db\u4e2a\u6a21\u578b\u8bc4\u4f30\u4e0d\u5f71\u54cd\u901f\u5ea6\uff08\u5728\u663e\u5b58\u4e0d\u5360\u6ee1\u7684\u60c5\u51b5\u4e0b\uff09\u3002</li> <li>\u4f7f\u7528\u591a\u4e2a\u6a21\u578bMD\uff0c\u5728\u65e7\u7248\u672c\u4e2d\u662f\u7528\u5e73\u5747\u503c\uff0c\u65b0\u7248\u672c&gt;1.0\u662f\u7528\u7b2c\u4e00\u4e2a\u52bf\u51fd\u6570\u503c\u3002</li> <li>\u6ce8\u610f\u53ef\u89c6\u5316\u6bcf\u8f6e\u7684\u8bad\u7ec3\u7ed3\u679c\uff0c\u5305\u62ec\u5b66\u4e60\u66f2\u7ebf\uff08\u8bad\u7ec3\u8bef\u5dee\u968fbatch\u4e0b\u964d\u8d8b\u52bf\uff09\uff0cmodel_deviation\u7684\u5206\u5e03\uff0c\u5355\u70b9\u80fd\u7684\u6536\u655b\u548c\u7ed3\u6784\u6b63\u786e\uff0c\u5bf9\u6bcf\u8f6e\u7684\u7ed3\u679c\u8fdb\u884c\u5206\u6790\u3002</li> </ol>"},{"location":"wiki/software_usage/experience_of_dpmd_and_dpgen/#dft","title":"DFT\u5355\u70b9\u80fd\u8ba1\u7b97\u7ecf\u9a8c","text":"<ul> <li>\u4e00\u822c\u5bf9\u4f53\u7cfb\u5f71\u54cd\u6700\u5927\u7684\u662fk\u70b9\uff0c\u9700\u8981\u6d4b\u8bd5\u4e0d\u540c\u7684k\u70b9\uff0ck\u70b9\u6570\u76ee\u548c\u8ba1\u7b97\u6210\u672c\u662f\u5bf9\u5e94\u7684</li> <li>vasp\u64c5\u957f\u5c0f\u4f53\u7cfb\u591ak\u70b9\u5e76\u884c\uff1b\u5927\u4f53\u7cfb\u5c11k\u70b9\u4f1a\u663e\u8457\u8f83\u6162\uff1b\u53ef\u4ee5\u4f7f\u7528kspacing\u63a7\u5236\uff0c\u53c2\u7167</li> </ul> <pre><code>from pymatgen import Structure\nfrom math import pi\nimport numpy as np\nimport pandas as pd\nstc = Structure.from_file('POSCAR')\na,b,c = stc.lattice.abc\n# CASTEP \u548c VASP \u8ba1\u7b97KSPACING\u4e0d\u540c,\u5dee\u4e00\u4e2a\u5e38\u65702pi\nkspacing_range = np.linspace(0.1, 0.6, 21)\nkpoint_a = np.ceil( 2*pi/kspacing_range/a).astype('int')\nkpoint_b = np.ceil( 2*pi/kspacing_range/b).astype('int')\nkpoint_c = np.ceil( 2*pi/kspacing_range/c).astype('int')\n\ndf = pd.DataFrame({'kspacing': kspacing, 'a': kpoint_a, 'b': kpoint_b, 'c': kpoint_c})\nprint(df) # \u67e5\u770b\u4e0d\u540ckspacing \u5bf9\u5e94\u7684K\u70b9\u6570\u76ee\n</code></pre> <ul> <li>\u4e3b\u8981\u7684INCAR\u8ba1\u7b97\u53c2\u6570\u662f<ul> <li>ENCUT\uff08\u4e00\u822c\u53d6600/650\u4fdd\u8bc1quality\uff0c\u5bf9\u8ba1\u7b97\u901f\u5ea6\u5f71\u54cd\u4e0d\u660e\u663e\uff09\uff1b</li> <li>ISMEAR=0\uff08ISMEAR=-5\u7684 Bloch\u65b9\u6cd5\u9700\u8981k\u4e0d\u5c0f\u4e8e4\u4e2a\uff0c\u6709\u65f6\u5019\u4e0d\u80fd\u7528\uff0c\u6d4b\u8bd5\u8868\u660e\uff0c\u4e8c\u8005\u80fd\u91cf/\u529b\u8bef\u5dee\u57281e-3\u4ee5\u4e0b\uff0cISMEAR=0\u8ba1\u7b97\u6210\u672c\u66f4\u4f4e\uff09</li> <li>spin\u4f1a\u5bf9\u4f53\u7cfb\u6709\u975e\u5e38\u5927\u5f71\u54cd\uff0c\u4e00\u79cdbrute force\u505a\u6cd5\u662f\u76f4\u63a5\u7ed9\u4e00\u4e2a\u597d\u7684\u521d\u731c\uff08\u4ee3\u7801\u8f85\u52a9\uff09\uff0c</li> <li>LASPH\u53ef\u4ee5\u8003\u8651\u52a0\u5165\uff0c\u63d0\u9ad8\u7cbe\u5ea6\uff0c\u6781\u5c11\u91cf\u6210\u672c\u3002</li> <li>LWAVE\uff0cLCHARG\u5173\u6389\uff0c\u51cf\u5c11\u8ba1\u7b97\u65f6\u95f4\u548c\u50a8\u5b58\u7a7a\u95f4\u6d6a\u8d39\u3002</li> </ul> </li> <li>\u6d4b\u8bd5\u8ba1\u7b97\u7684\u601d\u8def\u5e94\u5f53\u662f\uff1a\u5148\u9009\u4e00\u4e2a\u6700\u8d35\u7684\uff0c\u518d\u63d0\u9ad8\u7cbe\u5ea6\uff0c\u770b\u662f\u5426\u6536\u655b\uff0c\u4e4b\u540e\u4ee5\u6b64\u4e3a\u53c2\u7167\uff0c\u964d\u4f4e\u4e0d\u540c\u53c2\u6570\u3002\u5728\u4fdd\u8bc1\u4e86\u7cbe\u5ea6\u53ef\u9760\u7684\u57fa\u7840\u4e0a\uff0c\u51cf\u5c11\u8ba1\u7b97\u6210\u672c</li> </ul> <pre><code>from ase.io import read\nat = read('OUTCAR')\nref = read('ref/OUTCAR') # \ndE = ref.get_potential_energy() - at.get_potential_energy() # \u4e00\u822cdE \u5c0f\u4e8e10meV\ndEperAtom = dE/len(ref) # \u8981\u6c42\u5c0f\u4e8e1meV/atom\ndF = ref.get_forces() - at.get_forces()\npritn(dF.max(), dF.min()) # \u8981\u6c42\u57285meV/A\u4ee5\u4e0b\uff0c\u5c3d\u53ef\u80fd\u57281meV/A \u4ee5\u4e0b\n</code></pre> <ol> <li>LREAL = auto\uff0c\u5bf9\u4e8e\u5927\u4f53\u7cfb\uff0c\u63a8\u8350\u662freal\uff08auto\u9ed8\u8ba4\u4f1a\u8bbe\u7f6e\uff09\uff0c\u5bf9\u4e8eGPU\uff0c\u5fc5\u987b\u8981real\u3002\u7531\u4e8e\u6c42\u79ef\u5206\u65b9\u6cd5\u5dee\u5f02\uff0c\u5728\u5b9e\u7a7a\u95f4\u8ba1\u7b97\u4f1a\u5f15\u51651\u00b72meV/atom\u7684\u7cfb\u7edf\u8bef\u5dee\u3002</li> <li>VASP\u8f93\u51fa\u7684\u7ed3\u6784\u53ea\u8981\u662f\u7535\u5b50\u6b65\u6536\u655b\u7684\uff0c\u90fd\u53ef\u4ee5\u6dfb\u52a0\u5230\u8bad\u7ec3\u96c6\u3002\u9700\u8981\u6ce8\u610f\u6dfb\u52a0\u4e86\u9519\u8bef\u7684\u7ed3\u6784\uff08\u80fd\u91cf\u7edd\u5bf9\u503c\u6781\u5927\uff09\u4f1a\u5bfc\u81f4\u8bad\u7ec3\u8bef\u5dee\u65e0\u6cd5\u4e0b\u964d\u3002</li> <li>\u5982\u679cVASP\u8ba1\u7b97\u53ea\u6709\u5355K\u70b9\uff0c\u4f7f\u7528vasp_gam\uff0c\u76f8\u5bf9vasp_std\u53ef\u4ee5\u8282\u7701\u2159 - \u2153\u7684\u65f6\u95f4\u3002</li> </ol>"},{"location":"wiki/software_usage/experience_of_dpmd_and_dpgen/#_1","title":"\u6587\u4ef6\u7a7a\u95f4\u7ba1\u7406","text":"<p>\u968f\u7740\u6a21\u62df\u65f6\u95f4\u548c\u6a21\u62df\u4f53\u7cfb\u6269\u589e\uff0c\u50a8\u5b58\u6587\u4ef6\u5360\u7528\u7684\u7a7a\u95f4\u975e\u5e38\u5de8\u5927\u3002\u5728\u50a8\u5b58\u6587\u4ef6\u65f6\u5019\u6ce8\u610f\uff1a 1. \u4fdd\u7559\u5fc5\u8981\u7684\u8f93\u5165\u548c\u8f93\u51fa\u6587\u4ef6\uff1a\u5305\u62ec\u521d\u59cb\u7ed3\u6784(data.lmp)\uff0c\u8ba1\u7b97\u8bbe\u7f6e(input.lammps)\uff0c\u8ba1\u7b97\u8f93\u51fa(log)\uff0c\u8f68\u8ff9(traj) 2. \u5efa\u8bae\u7528\u5982\u4e0b\u65b9\u6848\u538b\u7f29\uff1a</p> <pre><code>zip -9r -y data.zip data/   # \u4f7f\u7528\u6700\u5927\u538b\u7f29\u7387\uff1b\u4fdd\u7559\u6587\u4ef6\u76f8\u5bf9\u8def\u5f84\u538b\u7f29\n</code></pre> <p>\u4e5f\u53ef\u4ee5\u7528npz\u538b\u7f29\uff0c\u76f8\u6bd4zip\u76f4\u63a5\u538b\u7f29\u63d0\u9ad85%\u5de6\u53f3\u3002</p> <pre><code>import numpy as np\ndata = ...\ndata = data.astype('float32') # \u4fdd\u5b58\u4e3a32\u4f4d\u4e0d\u635f\u5931\u5750\u6807/\u529b\u7b49\u9700\u8981\u7684\u7cbe\u5ea6\nnp.save_compressionz('data.npz', data=data)\ndata = np.load(data)['data']  # \u91cd\u65b0\u8f7d\u5165\n</code></pre>"},{"location":"wiki/software_usage/n2p2/","title":"n2p2 Usage Guide","text":""},{"location":"wiki/software_usage/n2p2/#short-introduction","title":"Short Introduction","text":"<p>This repository provides ready-to-use software for high-dimensional neural network potentials in computational physics and chemistry.</p> <p>The following link is for your information:</p> <ul> <li>Repository</li> <li>Original Methodology: J. Behler and M. Parrinello, Phys. Rev. Lett. 98, 146401 (2007)</li> <li>Paper for This code: Singraber, A.; Morawietz, T.; Behler, J.; Dellago, C. , J. Chem. Theory Comput. 2019 15 (5), 3075-3092</li> <li>For Install this code: see Installation Guide</li> </ul> <p>Warning</p> <p>This page is just the experience and understanding of author. If you find any mistake or vague part, please report the issue</p>"},{"location":"wiki/software_usage/n2p2/#basic-principle","title":"Basic Principle","text":"<p>The basic of n2p2 softeware is based on the method of neural network fitting. For detail of neural network(NN), please refer to [here].</p> <p>The extra works done by Behler and Parrinello, is build a link between Potential Energy Surface and NN. </p> <p>At first, they decomposes the total energy into atomic energy(\\(E^{atom}\\)). \\(E^{atom}\\) is not the energy of neutral atom in the vacuum as we have seen in quantum chemistry book. The \\(E^{atom}\\) is just the decomposition of total energy into the contribution of every atoms, as expressed by the following equation: $$ E_{tot}=\\sum_i {E_i^{atom}} $$ Where i runs over the index of atom in a system.</p>"},{"location":"wiki/software_usage/n2p2/#usage-in-cluster","title":"Usage in Cluster","text":"<p>n2p2 has installed in Cluster51. Use command <code>module load n2p2/2.0.0</code> to load the code n2p2. After that, you can use all the executable binary of n2p2. LSF script is in the directory <code>/share/base/script/n2p2.lsf</code>. Explanation of lsf script is put in here</p>"},{"location":"wiki/software_usage/n2p2/#training-procedure","title":"Training Procedure","text":""},{"location":"wiki/software_usage/n2p2/#overview","title":"Overview","text":"<p>The Core library in n2p2 is <code>nnp-train</code>. You can see this command after load module <code>n2p2/2.0.0</code>. Enter the Directory of prepared files and type <code>nnp-train</code> is all enough. For mpi running of command, just type <code>mpirun nnp-train</code>. The input files for <code>nnp-train</code> include:</p> <ul> <li><code>input.nn</code>: input setup for training</li> <li><code>input.data</code>: input training set for training procedure.</li> <li><code>scaling.data</code>: scaling data from data set (you will obtain this from <code>nnp-scaling</code>)</li> </ul> <p>Example input file is in the github repository <code>&lt;n2p2 root&gt;/examples/nnp-train</code></p>"},{"location":"wiki/software_usage/n2p2/#file-inputdata","title":"File: input.data","text":"<p>See input.data format here</p> <p>Python script for convertion from cp2k xyz to input.data</p> <pre><code> from ase.io import read, write\n import os, sys\n\n # data_path: directory contains forces.xyz and coords.xyz\n data_path = \"./test_data\"\n data_path = os.path.abspath(data_path)\n\n #input cell parameter here, a 3x3 list\n cell = [[10., 0., 0. ], [0., 10., 0.], [0., 0., 10.]]\n\n #read coords and forces\n pos_path= os.path.join(data_path, \"coords.xyz\")\n frc_path= os.path.join(data_path, \"forces.xyz\")\n pos = read(pos_path, index = \":\")\n frc = read(frc_path, index = \":\")\n\n out_path = os.path.join(data_path, \"input.data\")\n fw = open(out_path, \"w\")\n for frame_idx in range(len(pos)):\n     fw.write(\"begin\\n\")\n     for i in range(3):\n         fw.write(\"lattice{:10.4f}{:10.4f}{:10.4f}\\n\".format(cell[i][0], cell[i][1], cell[i][2]))\n     for atom in zip(pos[i], frc[i]):\n         fw.write(\"atom{:12.5f}{:12.5f}{:12.5f}\".format(atom[0].position[0], atom[0].position[1], atom[0].position[2]))\n         fw.write(\"{:3}\".format(atom[0].symbol))\n         fw.write(\"{:10.4f}{:10.4f}\".format(0.0, 0.0))\n         fw.write(\"{:12.5f}{:12.5f}{:12.5f}\\n\".format(atom[1].position[0], atom[1].position[1], atom[1].position[2]))\n     fw.write(\"energy{:20.4f}\\n\".format(pos[i].info['E']))\n     fw.write(\"charge{:20.4f}\\n\".format(0.0))\n     fw.write(\"end\\n\")\n</code></pre>"},{"location":"wiki/software_usage/n2p2/#nnp-scaling","title":"nnp-scaling","text":"<p><code>nnp-scaling</code> should be executed before <code>nnp-train</code> in order to obtain file <code>scaling-data</code>. There are only two files you need:</p> <ul> <li><code>input.nn</code></li> <li><code>input.data</code></li> </ul> <p>Example input file is in the github repository <code>&lt;n2p2 root&gt;/examples/nnp-scaling</code>. A point is worth to notice. The <code>random_seed</code> keyword in file <code>input.nn</code> is followed by a number. This number serves as  a initialization of psudo-random code. However as you can imply from the name, this random number is fake. It depends strongly on your initialization number (more exactly, you will get a same serial number if you start by a same random seed number). Therefore, if you would like a random starting for parameter in NN, set a different number for random seed.</p>"},{"location":"wiki/software_usage/vmd/","title":"VMD \u4f7f\u7528\u8bf4\u660e","text":""},{"location":"wiki/software_usage/vmd/#vmd_1","title":"VMD\u4ecb\u7ecd","text":"<p>VMD\u662f\u5206\u5b50\u53ef\u89c6\u5316\u8f6f\u4ef6\uff0c\u4e3b\u8981\u7528\u4ee5\u67e5\u770b\u5206\u5b50\u52a8\u529b\u5b66\u8f68\u8ff9\uff0c</p> <p>\u5b98\u7f51: http://www.ks.uiuc.edu/Research/vmd/</p>"},{"location":"wiki/software_usage/vmd/#vmd_2","title":"VMD\u5b89\u88c5","text":""},{"location":"wiki/software_usage/vmd/#linux-windows","title":"Linux \u548c Windows","text":"<p>\u76f4\u63a5\u67e5\u770b\u5b98\u7f51\uff0c\u5176\u4ed6\u65e0\u9700\u7279\u6b8a\u6ce8\u610f</p>"},{"location":"wiki/software_usage/vmd/#macos-catalina","title":"MacOS Catalina\u7248\u672c\u4ee5\u4e0a","text":"<p>\u7531\u4e8e\u82f9\u679c\u4e0d\u518d\u652f\u630132\u4f4d\u7684\u8f6f\u4ef6\uff0c\u56e0\u6b64\u9700\u898164\u4f4d\u7248\u672c\u7684VMD\u3002</p> <p>\u5df2\u7ecf\u7f16\u8bd1\u597d\u7684\u8f6f\u4ef6\u4ece\u8fd9\u91cc\u4e0b\u8f7d: https://www.ks.uiuc.edu/Research/vmd/mailing_list/vmd-l/31222.html</p>"},{"location":"wiki/software_usage/vmd/#vmd_3","title":"\u4f7f\u7528\u96c6\u7fa4\u7684VMD\u8fdb\u884c\u8fdc\u7a0b\u67e5\u770b","text":"<p>\u73b0\u572851\u548c52\u96c6\u7fa4\u4e0a\u5747\u5b89\u88c5\u4e86VMD/1.9.3</p> <p>\u4f7f\u7528\u65b9\u6cd5\u662f</p> <pre><code>module load vmd/1.9.3\n</code></pre> <p>\u7136\u540e\u5982\u540c\u5728\u672c\u5730\u7aef\u4f7f\u7528vmd\u4e00\u6837\u4f7f\u7528\u5373\u53ef\u3002</p>"},{"location":"wiki/software_usage/vmd/#vmd_4","title":"\u96c6\u7fa4\u6253\u5f00vmd\u62a5\u9519","text":"<p>\u5982\u679c\u9047\u5230\u62a5\u9519</p> <pre><code>XRequest.149: BadMatch (invalid parameter attributes) 0xa00105\nXRequest.149: GLXBadContext 0xa00001\n</code></pre> <p>\u9996\u5148\u5728\u96c6\u7fa4\u4e0a\u67e5\u770b</p> <pre><code>glxinfo\nglxgears\n</code></pre> <p>\u5982\u679c\u5f97\u5230\u62a5\u9519</p> <pre><code>name of display: localhost:24.0\nlibGL error: No matching fbConfigs or visuals found\nlibGL error: failed to load driver: swrast\nX Error of failed request:  GLXBadContext\n  Major opcode of failed request:  149 (GLX)\n  Minor opcode of failed request:  6 (X_GLXIsDirect)\n  Serial number of failed request:  23\n  Current serial number in output stream:  22\n</code></pre> <p>\u548c</p> <pre><code>libGL error: No matching fbConfigs or visuals found\nlibGL error: failed to load driver: swrast\nX Error of failed request:  BadValue (integer parameter out of range for operation)\n  Major opcode of failed request:  149 (GLX)\n  Minor opcode of failed request:  3 (X_GLXCreateContext)\n  Value in failed request:  0x0\n  Serial number of failed request:  28\n  Current serial number in output stream:  30\n</code></pre> <p>\u90a3\u4e48\u8bf7\u5728 \u672c\u5730Mac/iMac\u7684\u7ec8\u7aef\u4e0a \u9000\u51fa XQuartz \u7136\u540e\u5728\u672c\u5730\u7ec8\u7aef\u91cc\u8f93\u5165:</p> <pre><code>defaults write org.macosforge.xquartz.X11 enable_iglx -bool true \n</code></pre> <p>\u5373\u53ef\u89e3\u51b3\u95ee\u9898</p> <p>Ref: https://www.ks.uiuc.edu/Research/vmd/mailing_list/vmd-l/28494.html</p>"},{"location":"wiki/software_usage/vmd/#wsl-vmd","title":"WSL \u8fdc\u7a0b\u4f7f\u7528 VMD \u7684\u6ce8\u610f\u4e8b\u9879","text":"<p>\u8bf7\u53c2\u9605 Windows\u4e0b WSL \u4f7f\u7528\u7b80\u4ecb \u4e2d\u7684\u4ecb\u7ecd\u3002</p>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/","title":"ECINT \u7684\u4f7f\u7528","text":""},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#_1","title":"\u5b89\u88c5\u4e0e\u914d\u7f6e","text":"<p>\u5728\u4f7f\u7528 ECINT \u524d\uff0c\u9700\u5b89\u88c5\u5e76\u914d\u7f6e\u597d aiida-core \u4e0e aiida \u63d2\u4ef6\uff0c\u4e0d\u8fc7\u4e5f\u53ef\u4ee5\u5728 hydrogen \u4e0a\u4f53\u9a8c\u5df2\u914d\u7f6e\u597d\u7684\u73af\u5883</p>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#hydrogen","title":"\u5982\u4f55\u8fdb\u5165 hydrogen","text":"<ol> <li> <p>\u8054\u7cfb\u96c6\u7fa4\u7ba1\u7406\u5458\uff0c\u5c06\u4f60\u7684\u516c\u94a5\u653e\u5230 hydrogen \u4e0a</p> </li> <li> <p>\u5728\u6d77\u6d0b\u697c\u7f51\u7edc\u73af\u5883\u4e0b\uff0c\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\u53ef\u8fdb\u5165 hydrogen</p> </li> </ol> <pre><code>ssh -p 8099 chenglab@10.24.3.144\n</code></pre> <p>\u5efa\u8bae\u5728\u7528\u5de5\u4f5c\u6d41\u65f6\uff0c\u5148\u5728 <code>~/users</code> \u4e0b\u5efa\u7acb\u4e00\u4e2a\u4ee5\u81ea\u5df1\u540d\u5b57\u547d\u540d\u7684\u5de5\u4f5c\u76ee\u5f55\uff0c<code>users/public.data</code> \u4e3a 51/52 \u7684 <code>/public.data</code></p>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#_2","title":"\u8f93\u5165\u6587\u4ef6","text":"<p>\u5728\u60f3\u8981\u8fd0\u884c\u5de5\u4f5c\u6d41\u7684\u5de5\u4f5c\u8def\u5f84\u4e0b\u51c6\u5907\u4e00\u4e2a <code>.json</code> \u8f93\u5165\u6587\u4ef6\uff0c\u793a\u4f8b\u5982\u4e0b (\u8981\u7528 <code>\"</code>\uff0c\u800c\u4e0d\u662f <code>'</code>): </p> <pre><code>{\n  \"workflow\": \"NebWorkChain\",\n  \"webhook\": \"https://oapi.dingtalk.com/robot/send?access_token=xxxxxx\",\n  \"resdir\": \"results\",\n  \"structure\": [\"ethane_1_opt.xyz\", \"ethane_s1.xyz\", \"ethane_ts.xyz\", \"ethane_s2.xyz\"],\n  \"cell\": [12, 12, 12],\n  \"metadata\": {\n    \"kind_section\": {\n      \"BASIS_SET\": \"TZV2P-GTH\",\n      \"POTENTIAL\": \"GTH-PBE\"\n    }\n  }\n}\n</code></pre> <p>\u6216\u8005\u4e5f\u53ef\u4ee5\u7528 <code>.yaml</code> \u8f93\u5165\u6587\u4ef6\uff0c\u793a\u4f8b\u5982\u4e0b (<code>-</code> \u548c <code>ethane_1_opt.xyz</code> \u4e4b\u95f4\u4e0d\u8981\u6f0f\u4e86\u7a7a\u683c):</p> <pre><code>workflow: NebWorkChain\nwebhook: https://oapi.dingtalk.com/robot/send?access_token=xxxxxx\nresdir: results\nstructure:\n  - ethane_1_opt.xyz\n  - ethane_s1.xyz\n  - ethane_ts.xyz\n  - ethane_s2.xyz\ncell: [12, 12, 12]\nmetadata:\n  kind_section:\n    BASIS_SET: TZV2P-GTH\n    POTENTIAL: GTH-PBE\n</code></pre> <p>\u66f4\u591a\u8f93\u5165\u7684\u4f8b\u5b50\u5728 https://github.com/chenggroup/ecint/tree/develop/example</p>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#_3","title":"\u5404\u5173\u952e\u8bcd\u89e3\u91ca","text":"<ul> <li> <p>workflow (\u5fc5\u586b): workflow \u7684\u540d\u5b57\uff0c\u5177\u4f53\u53ef\u9009\u7684\u8bf7\u89c1\u53ef\u9009\u7528\u7684 workflow \u90e8\u5206</p> </li> <li> <p>webhook (\u9009\u586b): \u9489\u9489\u673a\u5668\u4eba webhook\uff0c\u5f53\u5de5\u4f5c\u6d41\u5b8c\u6210\u65f6\u60f3\u8981\u5373\u65f6\u6536\u5230\u9489\u9489\u63d0\u9192\u65f6\u53ef\u8bbe\u7f6e\uff0c\u5426\u5219\u53ef\u4e0d\u7528</p> </li> <li> <p>resdir (\u9009\u586b, default: \u5f53\u524d\u6240\u5728\u8def\u5f84): \u7ed3\u679c\u6587\u4ef6\u7684\u50a8\u5b58\u8def\u5f84</p> </li> <li> <p>structure/structures_folder (\u5fc5\u586b\u5176\u4e2d\u4e4b\u4e00): \u4ec5\u8f93\u5165\u4e00\u4e2a\u7ed3\u6784\u65f6\uff0cstructure \u4e3a\u7ed3\u6784\u6587\u4ef6\u7684\u8def\u5f84 (\u975e\u5217\u8868)\uff0c\u5bf9\u4e8e neb \u8fd9\u79cd\u9700\u8981\u591a\u4e2a\u8f93\u5165\u7ed3\u6784\u7684\uff0cstructure \u4e3a\u7ed3\u6784\u6587\u4ef6\u8def\u5f84\u7684\u5217\u8868\u3002\u5982\u679c\u6279\u91cf\u8fdb\u884c\u8ba1\u7b97\uff0c\u5219\u628a\u6279\u91cf\u7684\u7ed3\u6784\u6240\u5728\u6587\u4ef6\u5939\u52a0\u5165 structures_folder (\u6682\u4e0d\u652f\u6301 neb)</p> </li> <li> <p>cell (\u9009\u586b): \u8bbe\u7f6e\u4e86 cell \u540e\u4f1a\u6539\u53d8\u90a3\u4e9b\u7ed3\u6784\u4e2d\u4e0d\u5305\u542b cell \u4fe1\u606f\u7684 cell\u3002\u5982\u679c\u7528\u7684\u662f .xyz \u683c\u5f0f\uff0c\u4e00\u822c\u9700\u8981\u8bbe\u7f6e cell (\u56e0\u4e3a .xyz \u4e00\u822c\u4e0d\u5305\u542b cell \u7684\u4fe1\u606f)\uff0c.cif or POSCAR(.vasp) \u5219\u4e0d\u9700\u8981\u8bbe\u7f6e\u3002cell \u7684\u683c\u5f0f\u4e0e ase \u4e2d\u7684 cell \u683c\u5f0f\u4fdd\u6301\u4e00\u81f4\uff0c\u5982 [12, 12, 12] \u6216 [[12, 0, 0], [0, 12, 0], [0, 0, 12]] \u6216 [12, 12, 12, 90, 90, 90]</p> </li> <li> <p>metadata (\u9009\u586b): </p> </li> </ul> <p>\u4ee5\u4e0b\u53c2\u6570\u53ef\u4e0d\u586b\uff0c\u5bf9\u4e8e\u4e0d\u540c\u7684 workflow \u5747\u6709\u4e0d\u540c\u7684\u9ed8\u8ba4\u503c</p> <ul> <li> <p>config: \u53ef\u4ee5\u4e3a dict, .json, .yaml\uff0c\u8868\u793a cp2k \u8f93\u5165\u53c2\u6570\u7684\u57fa\u672c\u8bbe\u7f6e\uff0c\u4ee5 dict \u7684\u5f62\u5f0f\u6765\u8868\u793a cp2k \u8f93\u5165\uff0c\u4e00\u4e9b\u7ec6\u81f4\u7684\u8bbe\u7f6e\uff0c\u5982\u8ba1\u7b97\u7cbe\u5ea6\uff0c\u53ef\u5728\u6b64\u5904\u4fee\u6539\uff0c\u4e5f\u53ef\u901a\u8fc7 cp2k \u8f93\u5165\u6587\u4ef6\u8fdb\u884c\u8f6c\u5316\u3002\u65e0\u7279\u6b8a\u9700\u6c42\u53ef\u4e0d\u66f4\u6539\u3002config \u7684\u793a\u4f8b\u5982\u4e0b: </p> </li> <li> <p>kind_section: \u914d\u7f6e BASIS_SET \u548c POTENTIAL \u7684\u57fa\u672c\u4fe1\u606f\uff0c\u53ef\u4ee5\u6709\u56db\u79cd\u8f93\u5165\u5f62\u5f0f</p> <p>\u82e5\u8bbe\u7f6e\u4e86 kind_section \u7684\u8bdd\uff0c\u9700\u540c\u65f6\u8bbe\u7f6e <code>BASIS_SET</code> \u4e0e <code>POTENTIAL</code>\u3002\u5982\u679c\u6309\u5143\u7d20\u6765\u6307\u5b9a\u4e86 <code>BASIS_SET</code> \u6216 <code>POTENTIAL</code> \u7684\u8bdd\uff0c\u9700\u8981\u6307\u5b9a\u6240\u6709\u5143\u7d20\u7684\u8bbe\u7f6e\u3002\u8bbe\u7f6e\u6bd4\u8f83\u590d\u6742\u7684\u8bdd\u63a8\u8350\u4ee5\u6587\u4ef6\u7684\u65b9\u5f0f (\u4e0b\u9762\u7684\u7b2c\u56db\u79cd\u65b9\u6cd5) \u6765\u5f15\u7528 <code>kind_section</code></p> <ul> <li>```python   # .json   \"kind_section\": {\"BASIS_SET\": \"TZV2P-GTH\", \"POTENTIAL\": \"GTH-PBE\"}</li> </ul> <p># or .yaml   kind_section:     BASIS_SET: TZV2P-GTH     POTENTIAL: GTH-PBE   ```</p> <ul> <li>```python   # .json   \"kind_section\": {\"H\": {\"BASIS_SET\": \"TZV2P-GTH\", \"POTENTIAL\": \"GTH-PBE\"}, \"O\": {\"BASIS_SET\": \"TZV2P-GTH\", \"POTENTIAL\": \"GTH-PBE\"}, ...}</li> </ul> <p># or .yaml   kind_section:     H:       BASIS_SET: TZV2P-GTH       POTENTIAL: GTH-PBE     O:       BASIS_SET: TZV2P-GTH       POTENTIAL: GTH-PBE     ...   ```</p> <ul> <li>```python   # .json   \"kind_section\": [{\"\": \"H\", \"BASIS_SET\": \"TZV2P-GTH\", \"POTENTIAL\": \"GTH-PBE\"}, {\"\": \"O\", \"BASIS_SET\": \"TZV2P-GTH\", \"POTENTIAL\": \"GTH-PBE\"}, ...]</li> </ul> <p># or .yaml   kind_section:     - _: H       BASIS_SET: TZV2P-GTH       POTENTIAL: GTH-PBE     - _: O       BASIS_SET: TZV2P-GTH       POTENTIAL: GTH-PBE     ...   ```</p> <ul> <li>```python   # &lt;&gt; example   kind_section:     H:       BASIS_SET: TZV2P-GTH       POTENTIAL: GTH-PBE     O:       BASIS_SET: TZV2P-GTH       POTENTIAL: GTH-PBE     ... <p># .json   \"kind_section\": \"&lt;&gt;\"  # YOUR_KIND_SECTION_FILE can be .json or .yaml <p># or .yaml   kind_section: &lt;&gt;  # .json or .yaml   ``` <li> <p>machine: \u9009\u62e9\u914d\u7f6e\u597d\u7684\u670d\u52a1\u5668 (\u76ee\u524d\u4ec5\u652f\u6301 <code>cp2k@aiida_test</code>) \u4ee5\u53ca\u914d\u7f6e\u8d44\u6e90\u7684\u4f7f\u7528\u60c5\u51b5</p> <pre><code>// example\n{\n    \"code@computer\": \"cp2k@aiida_test\",\n    \"nnode\": 2,\n    \"queue\": \"medium\"\n}\n</code></pre> <ul> <li>code@computer: \u914d\u7f6e\u597d\u7684 aiida \u670d\u52a1\u5668 (\u76ee\u524d\u4ec5\u652f\u6301 <code>cp2k@aiida_test</code>)</li> <li>nnode/nprocs/n (\u9009\u586b\u5176\u4e2d\u4e4b\u4e00): \u4f7f\u7528\u670d\u52a1\u5668\u8282\u70b9\u6570/\u4f7f\u7528\u670d\u52a1\u5668\u6838\u6570/\u4f7f\u7528\u670d\u52a1\u5668\u6838\u6570</li> <li>walltime/max_wallclock_seconds/w (\u9009\u586b\u5176\u4e2d\u4e4b\u4e00): \u5f3a\u5236\u7ec8\u6b62\u8ba1\u7b97\u65f6\u95f4\uff0c\u5355\u4f4d s</li> <li>queue/queue_name/q (\u9009\u586b\u5176\u4e2d\u4e4b\u4e00): \u670d\u52a1\u5668\u961f\u5217\u540d</li> <li>ptile: \u6bcf\u8282\u70b9\u81f3\u5c11\u9700\u4f7f\u7528\u7684\u6838\u6570\uff0c\u9ed8\u8ba4\u503c\u4e3a\u6bcf\u8282\u70b9\u7684\u6838\u6570</li> </ul> </li> <li> <p>...: some parameters for special workflow</p> </li> <li> <p>subdata (\u9009\u586b): </p> </li> <p>\u7528\u4e8e\u4fee\u6539\u591a\u6b65\u5de5\u4f5c\u6d41\u4e2d\uff0c\u6bcf\u6b65\u5de5\u4f5c\u6d41\u7684 <code>config</code>, <code>kind_section</code>, <code>machine</code>, \u5176\u8bbe\u7f6e\u4f1a\u8986\u76d6\u6389 <code>metada</code> \u4e2d\u7684\u76f8\u5173\u8bbe\u7f6e\u3002</p> <p>e.g. <code>NebWorkChain</code> \u7531\u4e09\u90e8\u5206\u7ec4\u6210: <code>geoopt</code>, <code>neb</code>, <code>frequency</code>. \u82e5\u8f93\u5165\u5982\u4e0b: </p> <pre><code>workflow: NebWorkChain\nwebhook: https://oapi.dingtalk.com/robot/send?access_token=xxx  # your own webhook\nresdir: results_yaml\nstructure:\n  - ethane_1_opt.xyz\n  - ethane_s1.xyz\n  - ethane_ts.xyz\n  - ethane_s2.xyz\ncell:\n  - [12, 0, 0]\n  - [0, 12, 0]\n  - [0, 0, 12]\nmetadata:\n  kind_section:\n    BASIS_SET: DZVP-MOLOPT-SR-GTH\n    POTENTIAL: GTH-PBE\nsubdata:\n  geoopt:\n    kind_section:\n      BASIS_SET: TZV2P-MOLOPT-GTH\n      POTENTIAL: GTH-PBE\n</code></pre> <p>\u5219 <code>geoopt</code> \u90e8\u5206\u7684 <code>kind_section</code> \u4f1a\u88ab\u66f4\u65b0\u4e3a <code>{\"BASIS_SET\": \"TZV2P-MOLOPT-GTH\", \"POTENTIAL\": \"GTH-PBE\"}</code> \uff0c\u800c <code>neb</code> \u4e0e <code>frequency</code> \u90e8\u5206\u7684 <code>kind_section</code> \u5219\u4e0e <code>metadata</code> \u4e2d\u7684\u4fdd\u6301\u4e00\u81f4\u3002</p> <ul> <li>&lt;&gt;: <ul> <li>config: \u89c1 <code>metadata</code></li> <li>kind_section: \u89c1 <code>metadata</code></li> <li>machine: \u89c1 <code>metadata</code></li> </ul> <li>&lt;&gt;: <ul> <li>config</li> <li>kind_section</li> <li>machine</li> </ul> <li>...</li>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#optional-workflow","title":"\u53ef\u9009\u7528\u7684 workflow","text":"<p>\u8f93\u51fa\u7684\u57fa\u672c\u4fe1\u606f\u5728 <code>results.dat</code> \u4e2d\uff0c\u4ee5\u4e0b workflow \u4e2d\u4ec5\u8bf4\u660e\u9664\u4e86 <code>results.dat</code> \u5916\u7684\u8f93\u51fa\u6587\u4ef6</p>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#energysingleworkchain","title":"EnergySingleWorkChain","text":"<p>Just single point energy</p> <ul> <li>\u8f93\u5165\u9ed8\u8ba4\u503c:</li> <li>config: energy.json</li> <li>kind_section: <code>{\"BASIS_SET\": \"DZVP-MOLOPT-SR-GTH\", \"POTENTIAL\": \"GTH-PBE\"}</code></li> <li>machine: <code>{\"code@computer\": \"cp2k@aiida_test\", \"nnode\": 1, \"walltime\": 12 * 60 * 60, \"queue\": \"medium\"}</code></li> <li>\u5176\u4ed6\u8f93\u51fa: </li> <li>\u5305\u542b\u80fd\u91cf\u4fe1\u606f\u7684\u7ed3\u6784: <code>coords.xyz</code></li> </ul>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#geooptsingleworkchain","title":"GeooptSingleWorkChain","text":"<p>Just geomertry optimization</p> <ul> <li>\u8f93\u5165\u9ed8\u8ba4\u503c:</li> <li>config: geoopt.json</li> <li>kind_section: <code>{\"BASIS_SET\": \"DZVP-MOLOPT-SR-GTH\", \"POTENTIAL\": \"GTH-PBE\"}</code></li> <li>machine: <code>{\"code@computer\": \"cp2k@aiida_test\", \"nnode\": 1, \"walltime\": 12 * 60 * 60, \"queue\": \"medium\"}</code></li> <li>\u5176\u4ed6\u8f93\u51fa: </li> <li>\u7ed3\u6784\u4f18\u5316\u5b8c\u540e\u7684\u7ed3\u6784: <code>structure_geoopt.xyz</code></li> </ul>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#nebsingleworkchain","title":"NebSingleWorkChain","text":"<p>Just CI-NEB</p> <ul> <li>\u8f93\u5165\u9ed8\u8ba4\u503c:</li> <li>config: neb.json</li> <li>kind_section: <code>{\"BASIS_SET\": \"DZVP-MOLOPT-SR-GTH\", \"POTENTIAL\": \"GTH-PBE\"}</code></li> <li>machine: <code>{\"code@computer\": \"cp2k@aiida_test\", \"nnode\": number_of_replica, \"queue\": \"large\"}</code></li> <li>\u5176\u4ed6\u8f93\u51fa:</li> <li>\u5305\u542b\u59cb\u7ec8\u6001\u53ca\u4e2d\u95f4\u6001\u7684 trajectory: <code>images_traj.xyz</code></li> <li>\u52bf\u80fd\u66f2\u7ebf: <code>potential_energy_curve.png</code></li> <li>\u8fc7\u6e21\u6001\u7ed3\u6784: <code>transition_state.xyz</code></li> </ul>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#frequencysingleworkchain","title":"FrequencySingleWorkChain","text":"<p>Just vabrational analysis</p> <ul> <li>\u8f93\u5165\u9ed8\u8ba4\u503c:</li> <li>config: frequency.json</li> <li>kind_section: <code>{\"BASIS_SET\": \"DZVP-MOLOPT-SR-GTH\", \"POTENTIAL\": \"GTH-PBE\"}</code></li> <li>machine: <code>{\"code@computer\": \"cp2k@aiida_test\", \"nnode\": 4, \"queue\": \"large\"}</code></li> <li>\u5176\u4ed6\u8f93\u51fa:</li> <li>\u632f\u52a8\u9891\u7387\u7684\u503c: <code>frequency.txt</code></li> </ul>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#nebworkchain","title":"NebWorkChain","text":"<p>Goopt for initial and final state \u2192 NEB \u2192 Vabrational analysis</p> <ul> <li>\u8f93\u5165\u9ed8\u8ba4\u503c:</li> <li>geoopt: {default value in GeooptSingleWorkChain}</li> <li>neb: {default value in NebSingleWorkChain}</li> <li>frequency: {default value in FrequencySingleWorkChain}</li> <li>\u5176\u4ed6\u8f93\u51fa:</li> <li>all outputs of GeooptSingleWorkChain, NebSingleWorkChain and FrequencySingleWorkChain</li> </ul>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#cp2k-input-to-config","title":"CP2K input \u8f6c config","text":"<p>\u4f7f\u7528\u5de5\u5177 <code>inp2config</code> \u53ef\u5c06 cp2k \u8f93\u5165\u6587\u4ef6\u8f6c\u6210 <code>config</code> \u6240\u9700\u7684\u5f62\u5f0f, <code>&lt;&lt;CP2K_INP&gt;&gt;</code> \u4e3a cp2k \u8f93\u5165\u6587\u4ef6\u8def\u5f84 <code>&lt;&lt;CONFIG&gt;&gt;</code> \u4e3a\u8f93\u51fa\u7684 <code>config</code> \u6587\u4ef6\u8def\u5f84\uff0c\u540e\u7f00\u4e3a <code>.json</code>/<code>.yaml</code>:</p> <pre><code>inp2config &lt;&lt;CP2K_INP&gt;&gt; &lt;&lt;CONFIG&gt;&gt;\n# e.g.\ninp2config input.inp config.yaml\n</code></pre> <p>\u8981\u6839\u636e cp2k \u8f93\u5165\u6587\u4ef6\u4e00\u5e76\u751f\u6210 <code>kind_section</code> \u7684\u8f93\u5165\u8bbe\u7f6e, <code>&lt;&lt;KIND_SECTION&gt;&gt;</code> \u4e3a\u8f93\u51fa\u7684 <code>kind_section</code> \u8def\u5f84\uff0c\u540e\u7f00\u4e3a <code>.json/.yaml</code>:</p> <pre><code>inp2config &lt;&lt;CP2K_INP&gt;&gt; &lt;&lt;CONFIG&gt;&gt; -k &lt;&lt;KIND_SECTIOn&gt;&gt;\n# e.g.\ninp2config input.inp config.yaml -k kind_section.yaml\n</code></pre>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#_4","title":"\u63d0\u4ea4\u4efb\u52a1","text":"<p>\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5373\u53ef\u63d0\u4ea4\u5de5\u4f5c\u6d41\uff0c<code>&lt;&lt;YOUR_INPUT_FILE&gt;&gt;</code> \u4e3a <code>.json</code> \u6216 <code>.yaml</code> \u8f93\u5165\u6587\u4ef6\u7684\u8def\u5f84\uff0c\u7f3a\u7701\u503c\u4e3a\u5f53\u524d\u8def\u5f84\u4e0b\u7684 <code>ecint.json</code></p> <pre><code>ecrun &lt;&lt;YOUR_INPUT_FILE&gt;&gt;\n</code></pre>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#_5","title":"\u63a8\u9001","text":"<p>\u8ba1\u7b97\u5b8c\u6210\u7684\u622a\u56fe\u5982\u4e0b: </p> <p></p> <p>\u8ba1\u7b97\u51fa\u9519\u7684\u622a\u56fe\u5982\u4e0b:</p> <p></p>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#_6","title":"\u5e38\u89c1\u9519\u8bef","text":""},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#_7","title":"\u8bfb\u53d6\u7ed3\u6784\u6587\u4ef6\u9519\u8bef","text":"<pre><code>  File \"xxx/lib/python3.7/site-packages/ase/io/formats.py\", line 599, in read\n    io = ioformats[format]\nKeyError: 'coord'\n</code></pre> <p>\u9519\u8bef\u539f\u56e0: \u65e0\u6cd5\u8bc6\u522b\u6269\u5c55\u540d</p> <p>\u89e3\u51b3\u65b9\u6848: \u6ce8\u610f\u6269\u5c55\u540d\uff0c\u4f7f\u7528\u6b63\u786e\u7684\u6269\u5c55\u540d\uff0c\u5982 <code>.xyz</code>, <code>.cif</code>, POSCAR \u53ef\u7528 <code>POSCAR</code> \u4e0e <code>.vasp</code></p>"},{"location":"wiki/software_usage/ECINT%20Tutorial/user/#xyz","title":"\u8bfb\u53d6 xyz \u9519\u8bef","text":"<pre><code>ase.io.extxyz.XYZError: ase.io.extxyz: Expected xyz header but got: invalid literal for int() with base 10: ...\n</code></pre> <p>\u9519\u8bef\u539f\u56e0: xyz \u6587\u4ef6\u683c\u5f0f\u9519\u8bef\uff0cxyz \u6587\u4ef6\u7b2c\u4e00\u884c\u662f\u6240\u6709\u539f\u5b50\u4e2a\u6570\uff0c\u7b2c\u4e8c\u884c\u662f\u6ce8\u91ca\u884c(\u53ef\u7a7a\u7740)\uff0c\u7b2c\u4e09\u884c\u5f00\u59cb\u624d\u662f\u5750\u6807</p> <p>\u89e3\u51b3\u65b9\u6848: \u5982\u679c\u7b2c\u4e00\u884c\u5f00\u59cb\u5c31\u662f\u5750\u6807\u7684\u8bdd\uff0c\u9700\u8981\u5728\u524d\u9762\u52a0\u4e0a\u539f\u5b50\u4e2a\u6570 (\u5982 180) \u7684\u884c\u4ee5\u53ca\u4e00\u4e2a\u7a7a\u884c</p>"},{"location":"wiki/software_usage/cp2k/cp2k-constrainedmd/","title":"CP2K: Constrained MD","text":""},{"location":"wiki/software_usage/cp2k/cp2k-constrainedmd/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li>CP2K Constrained MD \u8bbe\u7f6e</li> <li>Potential of Mean Force \u65b9\u6cd5\u8ba1\u7b97\u53cd\u5e94\u81ea\u7531\u80fd</li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-constrainedmd/#_2","title":"\u5b66\u4e60\u8d44\u6599","text":"<ul> <li>CP2K \u5b98\u65b9\u6587\u6863: Section CONSTRAINT </li> <li>CP2K \u5b98\u7f51\u4f8b\u5b50: NaCl\u89e3\u79bb\u80fd</li> <li>Sun, J.-J., Cheng, J. Solid-to-liquid phase transitions of sub-nanometer clusters enhance chemical transformation. Nature Communication, 10, 5400 (2019).</li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-constrainedmd/#cp2k-constrained-md_1","title":"CP2K Constrained MD \u8bbe\u7f6e","text":"<p>CP2K \u63d0\u4f9b\u4e86\u5c06\u65bd\u52a0 Constraint \u8fc7\u7a0b\u4e2d\u7684\u62c9\u683c\u6717\u65e5\u4e58\u5b50\u8f93\u51fa\u7684\u80fd\u529b\uff0c\u5176\u7edf\u8ba1\u5e73\u5747\u5373\u8be5\u53cd\u5e94\u5750\u6807\u4e0b\u7684Potential of Mean Force (PMF)\u3002 PMF\u5bf9\u53cd\u5e94\u5750\u6807\u79ef\u5206\u5373\u53cd\u5e94\u81ea\u7531\u80fd\u3002MLMD \u53ef\u5b9e\u73b0\u9ad8\u7cbe\u5ea6\u957f\u65f6\u95f4\u5c3a\u5ea6\u6a21\u62df\uff0c\u56e0\u800c\u9002\u7528\u4e8e\u8ba1\u7b97\u5316\u5b66\u53cd\u5e94\u4f53\u7cfb\u7684\u81ea\u7531\u80fd\u3002 \u8fd9\u91cc\u6211\u4eec\u53ef\u7ed3\u5408 DeePMD \u52bf\u8fdb\u884c Constrained MD \u6a21\u62df\u3002</p> <p>\u9996\u5148\u5b9a\u4e49 Collective Variable (CV)\uff0c\u8fd9\u91cc\u6211\u4eec\u9009\u62e9\u4e24\u539f\u5b50\u95f4\u8ddd\u79bb\u8fdb\u884c\u63a7\u5236\uff1a</p> <pre><code>&amp;FORCE_EVAL\n   ...\n   &amp;SUBSYS\n      ...\n      &amp;COLVAR\n         &amp;DISTANCE\n            ATOMS 225 226\n         &amp;END DISTANCE\n      &amp;END COLVAR\n      ...\n   &amp;END SUBSYS\n   ...\n&amp;END FORCE_EVAL\n</code></pre> <p>\u5176\u4e2d <code>225</code> \u548c <code>226</code> \u5373\u4e3a\u6240\u9700\u63a7\u5236\u952e\u957f\u7684\u539f\u5b50\u5e8f\u53f7\u3002\u6ce8\u610f CP2K \u4e2d\u539f\u5b50\u5e8f\u53f7\u4ece 1 \u5f00\u59cb\u3002</p> <p>\u7136\u540e\u5b9a\u4e49\u6240\u9700\u63a7\u5236\u7684\u952e\u957f\uff1a</p> <pre><code>&amp;MOTION\n   &amp;CONSTRAINT\n      &amp;COLLECTIVE\n         COLVAR 1\n         INTERMOLECULAR .TRUE.\n         TARGET 3.4015070391941524 # (1)!\n      &amp;END COLLECTIVE\n      &amp;LAGRANGE_MULTIPLIERS ON\n         COMMON_ITERATION_LEVELS 10000000 # (2)!\n      &amp;END LAGRANGE_MULTIPLIERS\n   &amp;END CONSTRAINT\n   ...\n&amp;MOTION\n</code></pre> <ol> <li>\u8bbe\u7f6e\u4e24\u539f\u5b50\u8ddd\u79bb\u7684\u76ee\u6807\u503c\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684\u5355\u4f4d\u662f <code>a.u.</code></li> <li>\u7f3a\u7701\u503c\u4e3a1\uff0c\u4e3a\u9632\u6b62\u8f93\u51fa\u8fc7\u957f\u7684\u65e5\u5fd7\u6587\u4ef6\uff0c\u8bf7\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\u5927\u4e8e\u603b\u6b65\u6570\u7684\u503c</li> </ol> <p>\u6ce8\u610f\u8fd9\u91cc <code>TARGET</code> \u7684\u5355\u4f4d\u662f <code>a.u.</code>\uff0c\u8bf7\u628a\u5e38\u7528\u7684\u5355\u4f4d\uff08\u5982 <code>\u00c5</code> \uff09\u8f6c\u6362\u4e3a\u539f\u5b50\u5355\u4f4d\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-constrainedmd/#_3","title":"\u9644\u5f55\uff1a\u7269\u7406\u5e38\u6570\u548c\u5355\u4f4d\u6362\u7b97","text":"<pre><code>*** Fundamental physical constants (SI units) ***\n\n *** Literature: B. J. Mohr and B. N. Taylor,\n ***             CODATA recommended values of the fundamental physical\n ***             constants: 2006, Web Version 5.1\n ***             http://physics.nist.gov/constants\n\n Speed of light in vacuum [m/s]                             2.99792458000000E+08\n Magnetic constant or permeability of vacuum [N/A**2]       1.25663706143592E-06\n Electric constant or permittivity of vacuum [F/m]          8.85418781762039E-12\n Planck constant (h) [J*s]                                  6.62606896000000E-34\n Planck constant (h-bar) [J*s]                              1.05457162825177E-34\n Elementary charge [C]                                      1.60217648700000E-19\n Electron mass [kg]                                         9.10938215000000E-31\n Electron g factor [ ]                                     -2.00231930436220E+00\n Proton mass [kg]                                           1.67262163700000E-27\n Fine-structure constant                                    7.29735253760000E-03\n Rydberg constant [1/m]                                     1.09737315685270E+07\n Avogadro constant [1/mol]                                  6.02214179000000E+23\n Boltzmann constant [J/K]                                   1.38065040000000E-23\n Atomic mass unit [kg]                                      1.66053878200000E-27\n Bohr radius [m]                                            5.29177208590000E-11\n\n *** Conversion factors ***\n\n [u] -&gt; [a.u.]                                              1.82288848426455E+03\n [Angstrom] -&gt; [Bohr] = [a.u.]                              1.88972613288564E+00\n [a.u.] = [Bohr] -&gt; [Angstrom]                              5.29177208590000E-01\n [a.u.] -&gt; [s]                                              2.41888432650478E-17\n [a.u.] -&gt; [fs]                                             2.41888432650478E-02\n [a.u.] -&gt; [J]                                              4.35974393937059E-18\n [a.u.] -&gt; [N]                                              8.23872205491840E-08\n [a.u.] -&gt; [K]                                              3.15774647902944E+05\n [a.u.] -&gt; [kJ/mol]                                         2.62549961709828E+03\n [a.u.] -&gt; [kcal/mol]                                       6.27509468713739E+02\n [a.u.] -&gt; [Pa]                                             2.94210107994716E+13\n [a.u.] -&gt; [bar]                                            2.94210107994716E+08\n [a.u.] -&gt; [atm]                                            2.90362800883016E+08\n [a.u.] -&gt; [eV]                                             2.72113838565563E+01\n [a.u.] -&gt; [Hz]                                             6.57968392072181E+15\n [a.u.] -&gt; [1/cm] (wave numbers)                            2.19474631370540E+05\n [a.u./Bohr**2] -&gt; [1/cm]                                   5.14048714338585E+03\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-deepmd/","title":"CP2K: DeePMD-kit\u63d2\u4ef6","text":""},{"location":"wiki/software_usage/cp2k/cp2k-deepmd/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li>\u7528 CP2K \u8c03\u7528 DeePMD-kit \u4ee5\u8fdb\u884c MLMD \u6a21\u62df</li> <li>Constrained MD \u7684\u53c2\u6570\u8bbe\u7f6e</li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-deepmd/#_2","title":"\u5b66\u4e60\u8d44\u6599","text":"<p>CP2K\u5b98\u65b9\u624b\u518c\uff1a</p> <ul> <li>Section DEEPMD </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-deepmd/#_3","title":"\u9002\u7528\u7248\u672c","text":"<p>\u4ee5\u4e0b\u6559\u7a0b\u9002\u7528\u4e8e\u6700\u65b0\u7248\u672c\u52a0\u5165 DeePMD \u652f\u6301\u7684 CP2K\u3002 Zeus\u96c6\u7fa4\u4e0a\u7684 <code>cp2k/2024.2-dev</code> \u548c <code>deepmd/2.2.7</code> \uff08\u672a\u7f16\u8bd1MPI\u548cDFT\u652f\u6301\uff09 \u53ef\u4ee5\u8fd0\u884c\u4ee5\u4e0b\u6559\u7a0b\u3002</p> <p>\u6ce8\u610f <code>cp2k/2024.2-dev</code> \u7684\u4f5c\u4e1a\u811a\u672c\u5199\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>module load gcc/9.3.0\nmodule load intel/17.5.239\nmodule load cuda/11.8\nmodule load mpi/openmpi/4.1.6-gcc\nmodule load cp2k/2024.2-dev\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-deepmd/#cp2k-md-section","title":"CP2K MD Section \u7684\u8f93\u5165\u6587\u4ef6","text":"<p>\u8bf7\u5148\u4e86\u89e3CP2K\u7684\u8f93\u5165\u6587\u4ef6\u8bed\u6cd5\uff0c\u6307\u8def\uff1a</p> <ul> <li>CP2K:\u80fd\u91cf\u4e0e\u529b\u7684\u8ba1\u7b97 </li> <li>CP2K:REFTRAJ\u6839\u636e\u5df2\u6709MD\u8f68\u8ff9\u8ba1\u7b97\u3002</li> </ul> <p>\u7531\u4e8e MLMD \u901a\u5e38\u4f1a\u9700\u8981\u7eb3\u79d2\u751a\u81f3\u66f4\u957f\u65f6\u95f4\u5c3a\u5ea6\u7684\u6a21\u62df\uff0c\u82e5\u672a\u8fdb\u884c\u9002\u5f53\u914d\u7f6e\uff0c\u53ef\u80fd\u4f1a\u4ea7\u751f\u8fc7\u957f\u7684\u8f93\u51fa\u6587\u4ef6\uff0c\u56e0\u6b64\u6211\u4eec\u5728 <code>GLOBAL</code> \u4e0b\u505a\u4ee5\u4e0b\u8c03\u6574:</p> <pre><code>&amp;GLOBAL\n   PROJECT pmf # (1)!\n   RUN_TYPE MD\n   PRINT_LEVEL SILENT # (2)!\n   WALLTIME 95:00:00 # (3)!\n&amp;END GLOBAL\n</code></pre> <ol> <li>\u6839\u636e\u81ea\u5df1\u7684\u9879\u76ee\u540d\u4fee\u6539\uff0c\u51b3\u5b9a\u8f93\u51fa\u6587\u4ef6\u7684\u540d\u79f0</li> <li>\u5982\u679c\u8dd1DeePMD, \u8bf7\u52a1\u5fc5\u8bbe\u7f6e\u4e3a <code>SILENT</code>, \u9632\u6b62\u8f93\u51fa\u6587\u4ef6\u8fc7\u5927</li> <li>\u63a8\u8350\u7a0d\u77ed\u4e8e\u4f5c\u4e1a\u7684 Walltime \u4ee5\u514d\u622a\u65ad\u8f68\u8ff9</li> </ol> <p>\u7136\u540e\u6211\u4eec\u914d\u7f6e\u5982\u4e0b\u7684\u529b\u573a\u53c2\u6570\uff1a</p> <pre><code>&amp;FORCE_EVAL\n   METHOD FIST\n   &amp;MM\n      &amp;FORCEFIELD\n         &amp;NONBONDED\n            &amp;DEEPMD\n               ATOMS C O Pt\n               ATOMS_DEEPMD_TYPE 0 1 2 # (1)!\n               POT_FILE_NAME ../graph.000.pb\n            &amp;END DEEPMD\n         &amp;END NONBONDED\n         IGNORE_MISSING_CRITICAL_PARAMS .TRUE. # (2)!\n      &amp;END FORCEFIELD\n      &amp;POISSON\n         &amp;EWALD\n            EWALD_TYPE none\n         &amp;END EWALD\n      &amp;END POISSON\n   &amp;END MM\n   ...\n&amp;END FORCE_EVAL\n</code></pre> <ol> <li>\u4e0e\u5143\u7d20\u5217\u8868\u5bf9\u5e94\uff0c\u5143\u7d20\u5728 <code>type_map</code> \u4e2d\u7684\u7d22\u5f15\u987a\u5e8f</li> <li> \u8bf7\u4fdd\u7559\u8fd9\u4e00\u884c\u4ee5\u5ffd\u7565\u672a\u5b9a\u4e49\u53c2\u6570</li> </ol> <p>\u901a\u5e38 MLMD \u8f68\u8ff9\u6587\u4ef6\u4e0d\u9700\u8981\u6bcf\u6b65\u90fd\u8f93\u51fa\uff0c\u56e0\u800c\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u8bbe\u7f6e\u8f93\u51fa\u95f4\u9694\uff1a</p> <pre><code>&amp;MOTION\n   ...\n   &amp;MD\n      ...\n      &amp;PRINT\n         &amp;ENERGY\n            &amp;EACH\n               MD 100 # (1)!\n            &amp;END EACH\n         &amp;END ENERGY\n      &amp;END PRINT\n   &amp;END MD\n   &amp;PRINT\n      &amp;CELL\n         &amp;EACH\n            MD 100 # (2)!\n         &amp;END EACH\n      &amp;END CELL\n      &amp;FORCES\n         &amp;EACH\n            MD 100 # (3)!\n         &amp;END EACH\n      &amp;END FORCES\n      &amp;RESTART_HISTORY\n         &amp;EACH\n            MD 200000 # (4)!\n         &amp;END EACH\n      &amp;END RESTART_HISTORY\n      &amp;TRAJECTORY\n         &amp;EACH\n            MD 100 # (5)!\n         &amp;END EACH\n      &amp;END TRAJECTORY\n   &amp;END PRINT\n&amp;END MOTION\n</code></pre> <ol> <li>\u6b64\u5904\u4fee\u6539ener\u7684\u8f93\u51fa\u9891\u7387\uff0c\u901a\u5e38\u4e0e\u7ed3\u6784\u8f68\u8ff9\u4fdd\u6301\u4e00\u81f4</li> <li>\u6b64\u5904\u4fee\u6539\u6676\u80de\u53c2\u6570\u7684\u8f93\u51fa\u9891\u7387\uff0c\u6ce8\u610f\u5982\u679c\u6676\u80de\u53c2\u6570\u4e0d\u53d8\u53ef\u4e0d\u5199\u8fd9\u4e00\u90e8\u5206</li> <li>\u6b64\u5904\u4fee\u6539\u529b\u8f68\u8ff9\u7684\u8f93\u51fa\u9891\u7387\uff0c\u901a\u5e38\u4e0e\u7ed3\u6784\u8f68\u8ff9\u4fdd\u6301\u4e00\u81f4</li> <li>\u6b64\u5904\u4fee\u6539restart\u6587\u4ef6\u7684\u8f93\u51fa\u9891\u7387\uff0c\u53ef\u6839\u636e Walltime \u548c\u603b\u6b65\u6570\u8fdb\u884c\u4f30\u8ba1</li> <li>\u6b64\u5904\u4fee\u6539\u7ed3\u6784\u8f68\u8ff9\u7684\u8f93\u51fa\u9891\u7387</li> </ol>"},{"location":"wiki/software_usage/cp2k/cp2k-dft%2Bu/","title":"CP2K: DFT+U","text":""},{"location":"wiki/software_usage/cp2k/cp2k-dft%2Bu/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li> <p>\u5b66\u4e60\u8d44\u6599</p> </li> <li> <p>DFT+U\u57fa\u672c\u539f\u7406</p> </li> <li> <p>CP2K DFT+U\u8bbe\u7f6e</p> </li> <li> <p>DFT+U \u67e5\u770b\u7535\u5b50\u5360\u636e\u6001</p> </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-dft%2Bu/#_2","title":"\u5b66\u4e60\u8d44\u6599","text":"<p>Dudarev, S. L., Manh, D. N., &amp; Sutton, A. P. (1997). Effect of Mott-Hubbard correlations on the electronic structure and structural stability of uranium dioxide. Philosophical Magazine B: Physics of Condensed Matter; Statistical Mechanics, Electronic, Optical and Magnetic Properties, 75(5), 613\u2013628..</p> <p>Dudarev, S. L., Botton, G. A., Savrasov, S. Y., Humphreys, C. J., &amp; Sutton, A. P. (1998). Electron-energy-loss spectra and the structural stability of nickel oxide: An LSDA+U study. Physical Review B, 57(3), 1505\u20131509. .</p> <p>Himmetoglu, B.; Floris, A.; de Gironcoli, S.; Cococcioni, M. Hubbard-Corrected DFT Energy Functionals: The LDA+U Description of Correlated Systems. International Journal of Quantum Chemistry 2013, 114 (1), 14\u201349..</p>"},{"location":"wiki/software_usage/cp2k/cp2k-dft%2Bu/#dftu","title":"DFT+U\u57fa\u672c\u539f\u7406","text":"<p>DFT\u5bf9\u4e8e\u7535\u5b50\u7684\u63cf\u8ff0\u662f\u504f\u5411\u79bb\u57df\u5316\u7684\uff0c\u56e0\u6b64DFT\u53ef\u4ee5\u8f83\u597d\u5730\u63cf\u8ff0\u91d1\u5c5e\u6001\u56fa\u4f53\u3002\u5bf9\u4e8e\u8fc7\u6e21\u91d1\u5c5e\u7cfb\u5217\u7684\u6c27\u5316\u7269\uff0c\u4f8b\u5982Fe2O3\uff0cCoO\uff0cCo3O4\uff0cNiO\u7b49\u3002\u8fc7\u6e21\u91d1\u5c5e\u4e2d\u4ecd\u7136\u542b\u6709d\u7535\u5b50\u3002\u5728\u56fa\u4f53\u4e2d\uff0cd\u7535\u5b50\u8f83\u4e3a\u5c40\u57df\uff0c\u4e14\u5c40\u57df\u5728\u8fc7\u6e21\u91d1\u5c5e\u79bb\u5b50\u5468\u56f4\u3002\u6b64\u65f6\u5355\u5355\u4f7f\u7528DFT\u5e76\u4e0d\u80fd\u5f88\u597d\u7684\u63cf\u8ff0\u5c40\u57df\u5316\u7684\u7535\u5b50\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u52a0\u5927d\u7535\u5b50\u4e4b\u95f4\u7684\u9759\u7535\u6392\u65a5(U)\u6765\u8fbe\u5230\u76ee\u7684\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-dft%2Bu/#cp2k-dftu_1","title":"CP2K DFT+U\u8bbe\u7f6e","text":"<p>\u5728CP2K_INPUT / FORCE_EVAL / DFT\u4e0b</p> <p><pre><code>PLUS_U_METHOD MULLIKEN\n</code></pre> \u5176\u4e2d<code>MULLIKEN_CHARGES</code>\u4e0d\u63a8\u8350\uff0c <code>LOWDIN</code>\u65b9\u6cd5\u597d\u50cf\u66f4\u51c6\u4f46\u662f\u4e0d\u80fd\u591f\u7b97FORCES\uff0ccp2k v8.2\u7248\u672c\u540e\u53ef\u4ee5\u7b97FORCES\uff0c(\u8be6\u7ec6\u53c2\u8003)[https://groups.google.com/g/cp2k/c/BuIOSWDqJTc/m/fSL89NZaAgAJ]</p> <p>\u5728CP2K_INPUT / FORCE_EVAL / SUBSYS / KIND / DFT_PLUS_U\u4e0b</p> <p>\u5bf9\u60f3\u8981+U\u7684\u5143\u7d20\u7684\u5bf9\u5e94KIND\u8bbe\u7f6e</p> <pre><code>&amp;DFT_PLUS_U\n    # \u8f68\u9053\u89d2\u52a8\u91cf 0 s\u8f68\u9053 1 p\u8f68\u9053 2 d\u8f68\u9053 3 f\u8f68\u9053\n    L 2 \n    # \u6709\u6548U\u503c\uff0c\u8bb0\u5f97\u5199[eV]\uff0c\u4e0d\u7136\u9ed8\u8ba4\u4e3a\u539f\u5b50\u5355\u4f4d\n    U_MINUS_J [eV]  3 \n&amp;END DFT_PLUS_U\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-dft%2Bu/#dftu_1","title":"DFT+U  \u67e5\u770b\u7535\u5b50\u5360\u636e\u6001","text":"<p>\u5982\u679c\u6211\u4eec\u60f3\u77e5\u9053+U\u4e4b\u540e\u5bf9\u5e94\u539f\u5b50\u4e2d\uff0c\u4f8b\u5982d\u8f68\u9053\u7684\u7535\u5b50\uff0c\u7684\u5360\u636e\u60c5\u51b5\u3002\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u5982\u4e0b\u8bbe\u7f6e\u5c06\u5176print\u5728output\u4e2d\u3002</p> <p>\u5728CP2K_INPUT / FORCE_EVAL / DFT / PRINT / PLUS_U\u4e0b\uff0c</p> <pre><code>&amp;PLUS_U MEDIUM\n    ADD_LAST NUMERIC\n&amp;END PLUS_U\n</code></pre> <p>\u4f60\u4f1a\u5728output\u4e2d\u5f97\u5230\u5982\u4e0b\u8f93\u51fa</p> <p><pre><code>  DFT+U occupations of spin 1 for the atoms of atomic kind 3: Fe1\n\n    Atom   Shell       d-2     d-1      d0     d+1     d+2   Trace\n      37       1     1.068   1.088   1.047   1.093   1.069   5.365\n      37       2     0.008   0.008   0.011   0.007   0.009   0.043\n           Total     1.076   1.096   1.058   1.100   1.077   5.408\n\n      38       1     1.064   1.102   1.047   1.089   1.086   5.388\n      38       2     0.009   0.007   0.011   0.009   0.008   0.044\n           Total     1.073   1.109   1.058   1.097   1.094   5.432\n</code></pre> \u5982\u679c\u60f3\u770b\u4e0d\u52a0U\u7684\u539f\u5b50\u7684\u5360\u636e\u60c5\u51b5\uff0c\u90a3\u53ef\u4ee5\u7ed9\u5bf9\u5e94\u539f\u5b50\u52a0\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684U\u503c\uff0c\u6bd4\u59821e-20\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-e-f/","title":"CP2K\u80fd\u91cf\u4e0e\u529b\u7684\u8ba1\u7b97","text":""},{"location":"wiki/software_usage/cp2k/cp2k-e-f/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li> <p>\u8ba4\u8bc6CP2K\u7684\u57fa\u7840\u8f93\u5165\u6587\u4ef6</p> </li> <li> <p>\u8ba4\u8bc6CP2K\u8f93\u5165\u6587\u4ef6\u7684\u4e3b\u8981\u90e8\u5206</p> </li> <li> <p>\u8fd0\u884c\u8ba1\u7b97</p> </li> </ul> <p>\u8ba1\u7b97\u6587\u4ef6\u4e0b\u8f7d</p> <p>\u672c\u6559\u7a0b\u6539\u7f16\u81eaCP2K\u539f\u6559\u7a0b\uff0c\u4ee5\u534a\u5bfc\u4f53\u548cOT\u4e3a\u4f8b\u5b50\uff0c\u66f4\u7b26\u5408\u7ec4\u5185\u9700\u6c42\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-e-f/#cp2k_1","title":"\u8ba4\u8bc6CP2K\u7684\u57fa\u7840\u8f93\u5165\u6587\u4ef6","text":"<p>\u539f\u5219\u4e0a\u6765\u8bf4CP2K\u7684\u8f93\u5165\u6587\u4ef6\u53ea\u9700\u8981\u4e09\u4e2a\uff0c\u4e00\u4e2a\u662f\u8f93\u5165\u53c2\u6570\u7684\u8bbe\u7f6e\u6587\u4ef6<code>input.inp</code>\uff0c\u4e00\u4e2a\u662f\u8d5d\u52bf\u7684\u53c2\u6570\u6587\u4ef6<code>GTH_POTENTIALS</code>\uff0c\u4e00\u4e2a\u662f\u57fa\u7ec4\u7684\u53c2\u6570\u6587\u4ef6<code>BASIS_SET</code>\u3002</p> <p>\u5728\u96c6\u7fa4\u4e0a\uff0c\u7ba1\u7406\u5458\u5df2\u7ecf\u628a<code>GTH_POTENTIALS</code>\u548c<code>BASIS_SET</code>\u653e\u7f6e\u5728\u7279\u5b9a\u6587\u4ef6\u5939\uff0c\u5e76\u4e14\u4f7f\u7528\u7279\u6b8a\u7684\u94fe\u63a5\u65b9\u6cd5\u53ef\u4ee5\u8ba9CP2K\u7a0b\u5e8f\u81ea\u52a8\u5bfb\u627e\u5230\u3002\u56e0\u6b64\u5728\u540e\u6587\u4e2d\u6d89\u53ca\u5230\u8d5d\u52bf\u548c\u57fa\u7ec4\u7684\u90e8\u5206\u53ef\u4ee5\u76f4\u63a5\u586b\u5199\u5bf9\u5e94\u7684\u6587\u4ef6\u540d\u79f0\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-e-f/#cp2k_2","title":"\u8ba4\u8bc6CP2K\u8f93\u5165\u6587\u4ef6\u7684\u4e3b\u8981\u90e8\u5206","text":"<p>\u73b0\u5728\u8ba9\u6211\u4eec\u6253\u5f00<code>input.inp</code></p> <p>CP2K\u7684\u8f93\u5165\u6587\u4ef6\u4e3b\u8981\u5305\u542b\u4e24\u4e2aSECTION.</p> <ul> <li>\"GLOBAL\": \u4e00\u4e9b\u8ba9CP2K\u8dd1\u8d77\u6765\u7684\u901a\u7528\u9009\u9879\uff0c\u6bd4\u5982\u4efb\u52a1\u540d\u79f0\uff0c\u4efb\u52a1\u7c7b\u578b\u3002</li> <li>\"FORCE_EVAL\": \u5305\u542b\u4e86\u6240\u6709\u8ddf\u6c42\u89e3\u539f\u5b50\u7684\u529b\u6709\u5173\u7684\u53c2\u6570\u8bbe\u7f6e\uff0c\u4e5f\u5305\u62ec\u4e86\u539f\u5b50\u7684\u5750\u6807\u4fe1\u606f</li> </ul> <p>\u73b0\u5728\u6211\u4eec\u5148\u770b<code>GLOBAL</code> </p> <pre><code> &amp;GLOBAL\n   PROJECT Universality\n   RUN_TYPE ENERGY_FORCE\n   PRINT_LEVEL\n &amp;END GLOBAL\n</code></pre> <p>\u5f53\u8981\u8ba1\u7b97\u4f53\u7cfb\u7684\u529b\u548c\u80fd\u91cf\u65f6\uff0c\u6211\u4eec\u5fc5\u987b\u5728<code>RUN_TYPE</code>\u4e2d\u5bf9\u8ba1\u7b97\u7684\u7c7b\u578b\u8fdb\u884c\u6307\u5b9a\u3002\u6bd4\u5982<code>RUN_TYPE ENERGY_FORCE</code>\u5c31\u662f\u5bf9\u5f53\u524d\u7684\u4f53\u7cfb\u8fdb\u884c\u529b\u548c\u80fd\u91cf\u7684\u8ba1\u7b97\u3002\u5176\u4ed6\u7c7b\u578b\u7684\u8ba1\u7b97\u53ef\u4ee5\u5728CP2K\u624b\u518c\u91cc\u627e\u5230\u3002</p> <p><code>PROJECT</code>\u5b9a\u4e49\u4e86\u8fd9\u4e2a\u8ba1\u7b97\u7684\u9879\u76ee\u540d\u79f0\uff0c\u901a\u5e38\u88ab\u7528\u6765\u547d\u540d\u4e00\u4e9b\u8f93\u51fa\u6587\u4ef6\u3002</p> <p><code>PRINT_LEVEL</code>\u5b9a\u4e49\u4e86CP2K <code>output</code>\u6587\u4ef6\u91cc\u8f93\u51fa\u4fe1\u606f\u91cf\u7684\u5927\u5c0f\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u63a5\u7740\u770b<code>FORCE_EVAL</code></p> <pre><code>METHOD Quickstep\n</code></pre> <p><code>METHOD Quickstep</code>\u8868\u660e\u9009\u62e9\u4e86\u4f7f\u7528\u5bc6\u5ea6\u6cdb\u51fd\u7406\u8bba(Density Functional Theory)\u4e2d\u7684GPW\u65b9\u6cd5\u8fdb\u884c\u8ba1\u7b97\u539f\u5b50\u53d7\u529b\u3002</p> <pre><code>   &amp;SUBSYS\n     &amp;CELL\n       ABC [angstrom]    4.593 4.593 2.959\n     &amp;END CELL\n     &amp;COORD\n @include rutile.xyz\n     &amp;END COORD\n     &amp;KIND O\n       BASIS_SET DZVP-MOLOPT-SR-GTH\n       POTENTIAL GTH-PBE-q6\n     &amp;END KIND\n     &amp;KIND Ti\n       BASIS_SET DZVP-MOLOPT-SR-GTH\n       POTENTIAL GTH-PBE-q12\n     &amp;END KIND\n   &amp;END SUBSYS\n</code></pre> <p>Subsection <code>SUBSYS</code>\u5b9a\u4e49\u4e86\u6a21\u62df\u7684\u6676\u80de\u5927\u5c0f(ABC\u6676\u80de\u957f\u5ea6\u89d2\u5ea6\u7b49)\u548c\u539f\u5b50\u5750\u6807\u7684\u521d\u59cb\u7ed3\u6784. \u6709\u5173\u4e8e<code>@include</code>\u7684\u7528\u6cd5\uff0c\u8bf7\u53c2\u8003\u8fd9\u91cc</p> <p>Subsection <code>KIND</code> \u5b9a\u4e49\u4e86\u8ba1\u7b97\u4e2d\u51fa\u73b0\u7684\u5143\u7d20\u3002\u5bf9\u4e8e\u6bcf\u4e00\u79cd\u5143\u7d20\u5fc5\u987b\u8981\u6709\u4e00\u4e2a\u5bf9\u5e94\u7684<code>KIND</code> Section. \u7136\u540e\u5728<code>KIND</code>\u91cc\u9762\u5b9a\u4e49\u5b83\u7684\u57fa\u7ec4(BASIS_SET)\u548c\u8d5d\u52bf(POTENTIAL)\u3002</p> <p>BASIS_SET\u548cPOTENTIAL\u7684\u540d\u79f0\u4e00\u5b9a\u8981\u5bf9\u5e94\u5230\u57fa\u7ec4\u6587\u4ef6\u91cc\u548c\u8d5d\u52bf\u6587\u4ef6\u91cc\u5b58\u5728\u7684\u6761\u76ee\u3002</p> <pre><code> O GTH-PBE-q6 GTH-PBE\n     2    4\n      0.24455430    2   -16.66721480     2.48731132\n     2\n      0.22095592    1    18.33745811\n      0.21133247    0\n</code></pre> <p>Subsection <code>CELL</code> \u5b9a\u4e49\u4e86\u6a21\u62df\u4e2d\u7684\u6676\u80de\u5927\u5c0f\u3002 \u6b64\u4f8b\u5b50\u4e2d\uff0cABC\u6307\u7684\u662f\u6676\u80de\u7684\u8fb9\u957f\u3002\u5982\u4e0d\u989d\u5916\u6307\u5b9a\u89d2\u5ea6\uff0c\u9ed8\u8ba4\u4e3a90, 90, 90\u5ea6\u3002<code>[angstrom]</code>\u662f\u6307\u5b9a\u957f\u5ea6\u5355\u4f4d\u3002</p> <p>Subsection <code>COORD</code>\u5b9a\u4e49\u521d\u59cb\u7684\u539f\u5b50\u5750\u6807\u3002 \u539f\u5b50\u4f4d\u7f6e\u7684\u9ed8\u8ba4\u683c\u5f0f\u4e3a</p> <pre><code>&lt;ATOM_KIND&gt; X Y Z\n</code></pre> <p>X Y Z \u4e3a\u7b1b\u5361\u5c14\u5750\u6807\uff0c\u5355\u4f4d\u4e3aAngstrom\u3002\u5982\u679c\u6dfb\u52a0<code>SCALED .TRUE.</code>\uff0c\u4fbf\u662f\u5206\u6570\u5750\u6807\u3002</p> <p>Subsection <code>DFT</code> \u63a7\u5236\u4e86\u6240\u6709\u8ddfDFT\u8ba1\u7b97\u6709\u5173\u7684\u7ec6\u8282\u3002\u8be5Subsection\u53ea\u6709\u5f53\u4f60\u628amethod\u9009\u62e9\u4e3a<code>quickstep</code>\u65f6\u624d\u4f1a\u8d77\u4f5c\u7528\u3002</p> <pre><code>BASIS_SET_FILE_NAME  BASIS_SET\nPOTENTIAL_FILE_NAME  GTH_POTENTIALS\n</code></pre> <p><code>BASIS_SET_FILE_NAME</code>\u548c<code>POTENTIAL_FILE_NAME</code>\u5b9a\u4e49\u4e86\u57fa\u7ec4\u548c\u8d5d\u52bf\u7684\u6587\u4ef6\u8def\u5f84\u3002\u7531\u4e8e\u7ba1\u7406\u5458\u5df2\u7ecf\u5728\u96c6\u7fa4\u4e0a\u8bbe\u7f6e\u597d\u4e86\u8def\u5f84\uff0c\u7528\u6237\u76f4\u63a5\u586b\u5199\u8fd9\u4e24\u4e2a\u6587\u4ef6\u540d\u5373\u53ef\u3002</p> <pre><code>&amp;QS\n  EPS_DEFAULT 1.0E-13\n&amp;END QS\n</code></pre> <p>Subsection<code>QS</code>\u5305\u542b\u4e86\u4e00\u4e9b\u901a\u7528\u7684\u63a7\u5236\u53c2\u6570\u3002<code>EPS_DEFAULT</code>\u8bbe\u7f6e\u4e86\u6240\u6709<code>quickstep</code>\u4f1a\u7528\u5230\u7684\u9ed8\u8ba4\u5bb9\u5fcd\u5ea6\u3002</p> <pre><code>     &amp;MGRID\n       CUTOFF 400\n       REL_CUTOFF 60\n     &amp;END MGRID\n</code></pre> <p>Subsection <code>MGRID</code> \u5b9a\u4e49\u4e86\u5982\u4f55\u4f7f\u7528<code>quickstep</code>\u4e2d\u7684\u79ef\u5206\u7f51\u683c\u3002<code>quickstep</code>\u4f7f\u7528\u4e86\u591a\u7f51\u683c\u65b9\u6cd5\u6765\u8868\u793a\u9ad8\u65af\u51fd\u6570\u3002\u6bd4\u8f83\u7a84\u548c\u5c16\u7684\u9ad8\u65af\u51fd\u6570\u4f1a\u88ab\u6295\u5f71\u5230\u66f4\u7cbe\u7ec6\u7684\u7f51\u683c\uff0c\u800c\u5bbd\u548c\u987a\u6ed1\u7684\u9ad8\u65af\u51fd\u6570\u5219\u76f8\u53cd\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u544a\u8bc9\u4ee3\u7801\u9700\u8981\u8bbe\u7f6e\u6700\u7cbe\u7ec6\u7684\u7f51\u683c\u4e3a400Ry\uff0c\u5e76\u4e14REL_CUTOFF\u4e3a60Ry\u3002\u5173\u4e8eCUTOFF\u548cREL_CUTOFF\u65b9\u9762\u8bf7\u9605\u8bfb</p> <p>Subsection <code>XC</code></p> <pre><code>     &amp;XC\n       &amp;XC_FUNCTIONAL PBE\n       &amp;END XC_FUNCTIONAL\n     &amp;END XC\n</code></pre> <p>\u8fd9\u91cc\u5b9a\u4e49\u4e86\u6211\u4eec\u60f3\u4f7f\u7528\u7684\u4ea4\u6362-\u5173\u8054\u5bc6\u5ea6\u6cdb\u51fd\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6211\u4eec\u9009\u62e9\u4e86PBE\u6cdb\u51fd\u3002P\u6cdb\u51fd\u8981\u4e0e\u57fa\u7ec4\u548c\u8d5d\u52bf\u7684\u9009\u62e9\u4e00\u81f4\u3002</p> <pre><code>     &amp;SCF\n       SCF_GUESS ATOMIC\n       EPS_SCF 3.0E-7\n       MAX_SCF 50\n       &amp;OUTER_SCF\n         EPS_SCF 3.0E-7\n         MAX_SCF 10\n       &amp;END OUTER_SCF\n       &amp;OT\n         MINIMIZER DIIS\n         PRECONDITIONER FULL_SINGLE_INVERSE\n       &amp;END OT\n     &amp;END SCF\n</code></pre> <p><code>SCF_GUESS</code>\u8bbe\u7f6e\u4e86\u5e94\u8be5\u5982\u4f55\u751f\u6210\u521d\u59cb\u7684\u5c1d\u8bd5\u7535\u5b50\u5bc6\u5ea6\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u521d\u59cb\u5bc6\u5ea6\u662f\u7531\u539f\u5b50\u7535\u8377\u5bc6\u5ea6\u91cd\u53e0\u751f\u6210\u7684\u3002\u4e00\u4e2a\u597d\u7684\u7535\u5b50\u5bc6\u5ea6\u53ef\u4ee5\u5e2e\u52a9CP2K\u5feb\u901f\u5f97\u5230\u6536\u655b\u7ed3\u679c\u3002<code>EPS_SCF</code>\u8bbe\u7f6e\u4e86\u7535\u5b50\u5bc6\u5ea6\u5dee\u5f02\u7684\u5bb9\u5fcd\u5ea6\uff08\u6536\u655b\u7cbe\u5ea6\u8981\u6c42\uff09\u3002\u8fd9\u4e2a\u4f1a\u8986\u76d6<code>EPS_DEFAULT</code>\u8bbe\u7f6e\u7684\u503c\u3002<code>MAX_SCF</code>\u6307\u6700\u591a\u4f1a\u8fed\u4ee3\u591a\u5c11\u6b21\u3002</p> <p>Subsection <code>OUTER_SCF</code>\u8fd9\u91cc\u6682\u65f6\u5148\u4e0d\u591a\u4ecb\u7ecd\uff0c\u4f46\u662f\u4e00\u822c\u7cbe\u5ea6\u8bbe\u7f6e\u8981\u8ddf\u4ee5\u4e0a\u7684EPS_SCF\u4e00\u6837\u3002\u4ee5\u4e0a\u7684SCF\u4e3aINNER_SCF\u3002<code>OUTER_SCF</code>\u8bbe\u7f6e<code>MAX_SCF</code> \u4e3a10\u3002\u5728\u8ba1\u7b97\u4e2d\u5b9e\u9645\u4e0a\u4f1a\u8fed\u4ee3\u7684\u6b21\u6570\u662f<code>INNER_SCF</code>\u4e58\u4ee5<code>OUTER_SCF</code>\uff0c\u537350*10\uff0c500\u6b21\u3002</p> <p>Subsection <code>OT</code>\u662f\u5229\u7528Orbital Transformation\u7684\u65b9\u6cd5\u6765\u4f18\u5316\u6ce2\u51fd\u6570\u3002</p> <pre><code>&amp;PRINT\n  &amp;FORCES ON\n  &amp;END FORCES\n&amp;END PRINT\n</code></pre> <p>\u8fd9\u4e2asubsection\u53ef\u4ee5\u5728output\u91cc\u6253\u5370\u51fa\u4f53\u7cfb\u7684\u539f\u5b50\u53d7\u529b\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-e-f/#_2","title":"\u8fd0\u884c\u8ba1\u7b97","text":"<p>\u6b63\u5e38\u8fd0\u884cCP2K\u7684\u65b9\u6cd5\u4e3a</p> <pre><code>mpirun -n 32 cp2k.popt input.inp &gt; output &amp; \n</code></pre> <p>\u5728\u96c6\u7fa4\u4e0a\uff0c\u6211\u4eec\u4f7f\u7528lsf\u811a\u672c\u6587\u4ef6\u63d0\u4ea4\uff0c\u8fd9\u884c\u547d\u4ee4\u5df2\u7ecf\u5199\u5728\u4e86\u811a\u672c\u6587\u4ef6\u91cc\uff0c\u8bf7\u76f4\u63a5\u63d0\u4ea4\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-e-f/#_3","title":"\u8f93\u51fa\u7ed3\u679c","text":"<p>\u5728\u4efb\u52a1\u7ed3\u675f\u540e\uff0c\u4f60\u4f1a\u5f97\u5230\u5982\u4e0b\u6587\u4ef6</p> <ul> <li><code>output</code></li> <li><code>Universality-RESTART.wfn</code></li> <li><code>Universality-RESTART.wfn.bak-1</code></li> <li><code>Universality-RESTART.wfn.bak-2</code></li> <li><code>Universality-RESTART.wfn.bak-3</code></li> </ul> <p>\u6587\u4ef6<code>output</code>\u5305\u542b\u4e86\u8ba1\u7b97\u7684\u4e3b\u8981\u8f93\u51fa\u3002<code>Universality-RESTART.wfn</code>\u662f\u8ba1\u7b97\u6700\u540e\u5f97\u5230\u6ce2\u51fd\u6570\u3002<code>Universality-RESTART.wfn.bak-&lt;n&gt;</code>\u8bb0\u5f55\u4e86\u6700\u540e\u7b2c\\&lt;n&gt;\u6b65\u524dSCF\u5f97\u5230\u7684\u6ce2\u51fd\u6570\u3002\u6b64\u4f8b\u4e2d\uff0c<code>Universality-RESTART.wfn.bak-1</code>\u662fSCF\u6700\u540e\u4e00\u6b65\u7684\u6ce2\u51fd\u6570\u3002</p> <p>\u4f46\u4f60\u60f3\u8981\u5229\u7528\u6ce2\u51fd\u6570\u91cd\u542f\u8ba1\u7b97\u65f6\uff0c\u53ef\u4ee5\u6539\u4e3a<code>SCF_GUESS RESTART</code></p> <p>\u4ed6\u4f1a\u81ea\u52a8\u4ece<code>&lt;PROJECT_NAME&gt;-RESTART.wfn</code>\u6587\u4ef6\u5f00\u59cb\u91cd\u542f\u8ba1\u7b97\u3002</p> <p>\u6211\u4eec\u73b0\u5728\u8be6\u7ec6\u770b\u4e00\u4e0b<code>output</code>\u6587\u4ef6\u91cc\u7684\u90e8\u5206</p> <pre><code> SCF WAVEFUNCTION OPTIMIZATION\n\n  ----------------------------------- OT ---------------------------------------\n  Minimizer      : DIIS                : direct inversion\n                                         in the iterative subspace\n                                         using   7 DIIS vectors\n                                         safer DIIS on\n  Preconditioner : FULL_SINGLE_INVERSE : inversion of\n                                         H + eS - 2*(Sc)(c^T*H*c+const)(Sc)^T\n  Precond_solver : DEFAULT\n  stepsize       :    0.08000000                  energy_gap     :    0.08000000\n  eps_taylor     :   0.10000E-15                  max_taylor     :             4\n  ----------------------------------- OT ---------------------------------------\n\n  Step     Update method      Time    Convergence         Total energy    Change\n  ------------------------------------------------------------------------------\n     1 OT DIIS     0.80E-01    0.5     0.15753643      -176.9839582002 -1.77E+02\n     2 OT DIIS     0.80E-01    0.8     0.09878604      -178.9306891883 -1.95E+00\n     3 OT DIIS     0.80E-01    0.8     0.04863529      -179.6564913758 -7.26E-01\n     4 OT DIIS     0.80E-01    0.8     0.03582212      -179.9871432342 -3.31E-01\n     5 OT DIIS     0.80E-01    0.8     0.02520552      -180.2247770848 -2.38E-01\n     6 OT DIIS     0.80E-01    0.8     0.01876959      -180.4037691134 -1.79E-01\n     7 OT DIIS     0.80E-01    0.8     0.01356216      -180.5257615047 -1.22E-01\n     8 OT DIIS     0.80E-01    0.8     0.01016476      -180.5867232155 -6.10E-02\n     9 OT DIIS     0.80E-01    0.8     0.00712662      -180.6348174041 -4.81E-02\n    10 OT DIIS     0.80E-01    0.8     0.00528671      -180.6543176954 -1.95E-02\n    11 OT DIIS     0.80E-01    0.8     0.00401555      -180.6682811925 -1.40E-02\n    12 OT DIIS     0.80E-01    0.8     0.00331228      -180.6769383021 -8.66E-03\n    13 OT DIIS     0.80E-01    0.8     0.00273633      -180.6824801501 -5.54E-03\n    14 OT DIIS     0.80E-01    0.8     0.00227705      -180.6858569326 -3.38E-03\n    15 OT DIIS     0.80E-01    0.8     0.00189452      -180.6891762522 -3.32E-03\n    16 OT DIIS     0.80E-01    0.8     0.00163117      -180.6913433711 -2.17E-03\n    17 OT DIIS     0.80E-01    0.8     0.00137647      -180.6931734207 -1.83E-03\n    18 OT DIIS     0.80E-01    0.8     0.00119961      -180.6942368984 -1.06E-03\n    19 OT DIIS     0.80E-01    0.9     0.00100873      -180.6952066209 -9.70E-04\n    20 OT DIIS     0.80E-01    0.8     0.00084472      -180.6960712607 -8.65E-04\n    21 OT DIIS     0.80E-01    0.9     0.00073811      -180.6966143834 -5.43E-04\n    22 OT DIIS     0.80E-01    0.8     0.00062100      -180.6969845494 -3.70E-04\n    23 OT DIIS     0.80E-01    0.8     0.00052079      -180.6972986282 -3.14E-04\n    24 OT DIIS     0.80E-01    0.8     0.00044814      -180.6975096788 -2.11E-04\n    25 OT DIIS     0.80E-01    0.8     0.00038815      -180.6976499085 -1.40E-04\n    26 OT DIIS     0.80E-01    0.8     0.00034010      -180.6977592686 -1.09E-04\n    27 OT DIIS     0.80E-01    0.8     0.00029429      -180.6978276824 -6.84E-05\n    28 OT DIIS     0.80E-01    0.8     0.00025218      -180.6979007896 -7.31E-05\n    29 OT DIIS     0.80E-01    0.8     0.00022927      -180.6979456455 -4.49E-05\n    30 OT DIIS     0.80E-01    0.8     0.00020201      -180.6979830729 -3.74E-05\n    31 OT DIIS     0.80E-01    0.8     0.00017896      -180.6980145219 -3.14E-05\n    32 OT DIIS     0.80E-01    0.8     0.00016066      -180.6980416001 -2.71E-05\n    33 OT DIIS     0.80E-01    0.8     0.00014606      -180.6980603801 -1.88E-05\n    34 OT DIIS     0.80E-01    0.8     0.00012970      -180.6980811127 -2.07E-05\n    35 OT DIIS     0.80E-01    0.8     0.00011431      -180.6980956614 -1.45E-05\n    36 OT DIIS     0.80E-01    0.8     0.00009560      -180.6981114298 -1.58E-05\n    37 OT DIIS     0.80E-01    0.8     0.00008482      -180.6981210277 -9.60E-06\n    38 OT DIIS     0.80E-01    0.8     0.00007281      -180.6981278770 -6.85E-06\n    39 OT DIIS     0.80E-01    0.8     0.00006188      -180.6981329264 -5.05E-06\n    40 OT DIIS     0.80E-01    0.8     0.00005294      -180.6981368983 -3.97E-06\n    41 OT DIIS     0.80E-01    0.8     0.00004688      -180.6981391197 -2.22E-06\n    42 OT DIIS     0.80E-01    0.8     0.00004055      -180.6981410282 -1.91E-06\n    43 OT DIIS     0.80E-01    0.8     0.00003559      -180.6981421977 -1.17E-06\n    44 OT DIIS     0.80E-01    0.8     0.00003040      -180.6981432648 -1.07E-06\n    45 OT DIIS     0.80E-01    0.8     0.00002734      -180.6981439881 -7.23E-07\n    46 OT DIIS     0.80E-01    0.8     0.00002451      -180.6981445033 -5.15E-07\n    47 OT DIIS     0.80E-01    0.8     0.00002178      -180.6981449169 -4.14E-07\n    48 OT DIIS     0.80E-01    0.8     0.00001953      -180.6981452985 -3.82E-07\n    49 OT DIIS     0.80E-01    0.8     0.00001795      -180.6981455598 -2.61E-07\n    50 OT DIIS     0.80E-01    0.8     0.00001622      -180.6981458123 -2.52E-07\n\n  Leaving inner SCF loop after reaching    50 steps.\n\n\n  Electronic density on regular grids:        -47.9999999967        0.0000000033\n  Core density on regular grids:               48.0000000000       -0.0000000000\n  Total charge density on r-space grids:        0.0000000033\n  Total charge density g-space grids:           0.0000000033\n\n  Overlap energy of the core charge distribution:               0.00000000000007\n  Self energy of the core charge distribution:               -379.90298629198736\n  Core Hamiltonian energy:                                    102.12467948924306\n  Hartree energy:                                             125.99881317904760\n  Exchange-correlation energy:                                -28.91865218857406\n\n  Total energy:                                              -180.69814581227070\n\n  outer SCF iter =    1 RMS gradient =   0.16E-04 energy =       -180.6981458123\n</code></pre> <p>\u4ee5\u4e0a\u663e\u793a\u4e86\u6211\u4eec\u4f7f\u7528OT DIIS\u65b9\u6cd5\u8fdb\u884c\u8ba1\u7b97\u3002\u73b0\u5728\u8ba1\u7b97\u5df2\u7ecf\u8fdb\u884c\u4e8650\u4e2aSCF\u8fed\u4ee3\u3002\u5f53\u7136\u73b0\u5728\u8fd8\u672a\u8fbe\u5230\u6536\u655b\u9650\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u6700\u540e\u4e00\u4e2a<code>outer SCF iter = 1</code>\u4e5f\u5c31\u662f\u8bf4\u4e00\u4e2aouter SCF\u5305\u542b\u4e86\u4e00\u4e2a\u5b8c\u6574\u7684innter SCF\u3002</p> <pre><code> ATOMIC FORCES in [a.u.]\n\n # Atom   Kind   Element          X              Y              Z\n      1      1      Ti          0.00000026    -0.00000079     0.00000063\n      2      1      Ti          0.00000026    -0.00000027     0.00000004\n      3      2      O          -0.07002277     0.07002168    -0.00000018\n      4      2      O           0.07002184    -0.07002056     0.00000006\n      5      2      O           0.07002270     0.07002086    -0.00000083\n      6      2      O          -0.07002229    -0.07002093     0.00000028\n SUM OF ATOMIC FORCES           0.00000000    -0.00000000     0.00000000     0.00000000\n</code></pre> <p>\u4ee5\u4e0a\u663e\u793a\u4e86\u539f\u5b50\u53d7\u529b\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u53d1\u73b0\u6709\u4e9b\u539f\u5b50\u7684\u53d7\u529b\u4e0d\u63a5\u8fd1\u4e8e0\uff0c\u8bf4\u660e\u8fd9\u4e2a\u7cfb\u7edf\u8fd8\u6ca1\u5904\u5728\u6700\u4f73\u7684\u7ed3\u6784\u4f4d\u7f6e\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-geoopt/","title":"CP2K: \u7ed3\u6784\u548c\u6676\u80de\u4f18\u5316","text":""},{"location":"wiki/software_usage/cp2k/cp2k-geoopt/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li> <p>\u5b66\u4e60\u8d44\u6599</p> </li> <li> <p>\u57fa\u672c\u539f\u7406</p> </li> <li> <p>CP2K \u7ed3\u6784\u4f18\u5316\u8bbe\u7f6e</p> </li> <li> <p>CP2K \u7ed3\u6784\u4f18\u5316\u95ee\u9898</p> </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-geoopt/#_2","title":"\u5b66\u4e60\u8d44\u6599","text":"<p>Slides</p>"},{"location":"wiki/software_usage/cp2k/cp2k-geoopt/#_3","title":"\u57fa\u672c\u539f\u7406","text":"<p>\u5efa\u8bbe\u4e2d, \u53c2\u8003\u5b98\u7f51</p>"},{"location":"wiki/software_usage/cp2k/cp2k-geoopt/#cp2k_1","title":"CP2K \u7ed3\u6784\u4f18\u5316\u8bbe\u7f6e","text":"<p>\u7ed3\u6784\u4f18\u5316</p> <pre><code>&amp;GLOBAL\nRUN_TYPE GEO_OPT\n&amp;END GLOBAL\n</code></pre> <p>\u6676\u80de\u4f18\u5316</p> <pre><code>&amp;GLOBAL\nRUN_TYPE CELL_OPT\n&amp;END GLOBAL\n</code></pre> <p>\u540c\u65f6\uff0c\u5728MOTION\u4e0b\u8bbe\u7f6eOPTIMIZER\u548c\u4e00\u4e9bCONSTRAIN</p> <pre><code>&amp;MOTION\n  &amp;CELL_OPT\n    OPTIMIZER LBFGS \n    KEEP_ANGLES\n    TYPE DIRECT_CELL_OPT\n  &amp;END CELL_OPT\n&amp;END MOTION\n</code></pre> <p>LBFGS\u662f\u5bf9\u5927\u4f53\u7cfb\u5e38\u7528\u7684\uff0cBFGS\u9488\u5bf9\u5c0f\u4f53\u7cfb\uff0c\u66f4\u4e3aRobust\u7684\u662fCG\u3002</p> <p>KEEP_ANGLES\u662f\u6307\u4fdd\u6301\u6676\u80de\u7684\u89d2\u5ea6\u4e0d\u53d8\u3002</p> <p>TYPE\u9ed8\u8ba4\u662fDIRECT_CELL_OPT\uff0c\u5373\u540c\u65f6\u4f18\u5316\u6676\u80de\u548c\u91cc\u9762\u7684\u4f4d\u7f6e\uff0c\u662f\u6700\u5feb\u7684\u4f18\u5316\u65b9\u6cd5\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-geoopt/#cp2k_2","title":"CP2K \u7ed3\u6784\u4f18\u5316\u95ee\u9898","text":"<p>\u6676\u80de\u4f18\u5316\u9700\u8981\u8ba1\u7b97STRESS TENSOR\u3002\u901a\u5e38\u91c7\u7528ANALYTICAL\u65b9\u6cd5\u8ba1\u7b97\u5373\u53ef\uff0c\u4e5f\u662f\u6700\u5feb\u7684\u65b9\u6cd5\u3002\u4f46\u662f\u4e00\u4e9b\u6cdb\u51fd\u5e76\u6ca1\u6709\u5b9e\u73b0\u76f8\u5e94\u7684STRENSS TENSOR\u7684\u8ba1\u7b97\uff0c\u53ef\u4ee5\u91c7\u7528NUMERICAL\u7684\u65b9\u6cd5\u8fdb\u884c\u8ba1\u7b97\u3002\u6bd4\u5982SCAN\u3002\u5728cp2k v8.2\u540e\u52a0\u5165\u4e86METAGGA(\u5305\u62ecSCAN)\u7684STRESS TENSOR\uff0c\u4f46\u662f\u4ec5\u5b9e\u73b0 kinetic energy density\u7684\u90e8\u5206\uff0c\u4f18\u5316\u4f1a\u51fa\u95ee\u9898\uff0c\u539f\u56e0\u4e0d\u660e\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/","title":"CP2K: \u6742\u5316\u6cdb\u51fd","text":""},{"location":"wiki/software_usage/cp2k/cp2k-hf/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li>\u5b66\u4e60\u8d44\u6599</li> <li>\u6742\u5316\u6cdb\u51fd\u57fa\u672c\u539f\u7406</li> <li>\u6742\u5316\u6cdb\u51fd\u8f85\u52a9\u57fa\u7ec4</li> <li>CP2K\u6742\u5316\u6cdb\u51fd\u8bbe\u7f6e</li> <li>\u53c2\u6570\u7684\u6d4b\u8bd5\u548c\u6536\u655b</li> <li>\u4e00\u4e9b\u5143\u7d20\u63a8\u8350\u7684ADMM</li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#_2","title":"\u5b66\u4e60\u8d44\u6599","text":"<p>Slides: UCL DFT with Hybrid Functionals</p> <p>Slides: Hybrid Functional and ADMM</p> <p>\u5b98\u65b9\u7ec3\u4e60</p>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#_3","title":"\u6742\u5316\u6cdb\u51fd\u57fa\u672c\u539f\u7406","text":"<p>\u5efa\u8bbe\u4e2d</p>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#_4","title":"\u6742\u5316\u6cdb\u51fd\u8f85\u52a9\u57fa\u7ec4","text":"<p>\u5efa\u8bbe\u4e2d</p>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#cp2k_1","title":"CP2K\u6742\u5316\u6cdb\u51fd\u8bbe\u7f6e","text":"<pre><code>    # BASIS Purification\n    BASIS_SET_FILE_NAME BASIS_ADMM_MOLOPT\n    BASIS_SET_FILE_NAME BASIS_ADMM\n    &amp;AUXILIARY_DENSITY_MATRIX_METHOD\n      METHOD BASIS_PROJECTION\n      ADMM_PURIFICATION_METHOD MO_DIAG\n    &amp;END AUXILIARY_DENSITY_MATRIX_METHOD\n    # KIND \u8bbe\u7f6e\u4f8b\u5b50\n    &amp;KIND O\n      BASIS_SET DZVP-MOLOPT-SR-GTH\n      POTENTIAL GTH-PBE-q6\n      BASIS_SET AUX_FIT cFIT3\n    &amp;END KIND\n</code></pre> <pre><code># HSE06\u6cdb\u51fd\u90e8\u5206\n      &amp;XC_FUNCTIONAL\n        &amp;PBE\n          SCALE_X 0.0\n          SCALE_C 1.0\n        &amp;END PBE\n        &amp;XWPBE\n          SCALE_X -0.25\n          SCALE_X0 1.0\n          OMEGA 0.11\n        &amp;END XWPBE\n      &amp;END XC_FUNCTIONAL\n      &amp;HF\n        &amp;SCREENING\n          EPS_SCHWARZ 1.0E-6\n          SCREEN_ON_INITIAL_P FALSE\n        &amp;END SCREENING\n        &amp;INTERACTION_POTENTIAL\n          POTENTIAL_TYPE SHORTRANGE\n          OMEGA 0.11\n          T_C_G_DATA t_c_g.dat\n        &amp;END INTERACTION_POTENTIAL\n        &amp;MEMORY\n          MAX_MEMORY 10000\n          EPS_STORAGE_SCALING 0.1\n        &amp;END MEMORY\n        # this depends on user\n        &amp;PERIODIC\n          NUMBER_OF_SHELLS 0\n        &amp;END PERIODIC\n        FRACTION 0.25\n      &amp;END HF\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#_5","title":"\u53c2\u6570\u7684\u6d4b\u8bd5\u548c\u6536\u655b","text":""},{"location":"wiki/software_usage/cp2k/cp2k-hf/#restart","title":"RESTART\u6ce2\u51fd\u6570","text":"<p>\u52a1\u5fc5\u4f7f\u7528\u76f8\u540c\u539f\u5b50\u7ed3\u6784\u7684PBE\u6cdb\u51fd\u4f18\u5316\u540e\u7684\u6ce2\u51fd\u6570\u8fdb\u884c\u91cd\u542f\uff0c\u53ef\u4ee5\u7701\u4e0b\u5927\u91cf\u673a\u65f6\uff0c\u9664\u975e\u4f60\u5f88\u6709\u94b1\u3002</p> <p>\u5728\u6d4b\u8bd5\u53c2\u6570\u6536\u655b\u524d**\u52a1\u5fc5**\u628aSCF\u6b65\u6570\u8c03\u62101\u3002\u53ea\u8981\u8ba1\u7b97\u7684\u6570\u503c\u6536\u655b\u5373\u53ef\u3002 </p> <pre><code>&amp;SCF\n      EPS_SCF 3.0E-7\n      MAX_SCF 1\n&amp;END SCF\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#eps_pgf_orb","title":"EPS_PGF_ORB\u7684\u6536\u655b","text":"<p>\u5728\u521d\u6b21\u8ba1\u7b97\u4e2d\uff0c\u7528\u6237\u4f1a\u9047\u5230\u5982\u4e0bWarning</p> <pre><code> *** WARNING in hfx_energy_potential.F:605 :: The Kohn Sham matrix is not  ***\n *** 100% occupied. This may result in incorrect Hartree-Fock results. Try ***\n *** to decrease EPS_PGF_ORB and EPS_FILTER_MATRIX in the QS section. For  ***\n *** more information see FAQ: https://www.cp2k.org/faq:hfx_eps_warning    ***\n</code></pre> <p>\u8fd9\u662f\u56e0\u4e3aCP2K\u4f1a\u6839\u636e\u67d0\u4e9b\u8bbe\u5b9a\u7684\u503c\uff0c\u6765\u7b5b\u9009\u51fa\u4e0d\u9700\u8981\u8ba1\u7b97\u7684\u56db\u7535\u5b50\u79ef\u5206\u3002\u53ef\u4ee5\u6709\u6548\u964d\u4f4eHartree-Fock\u77e9\u9635\u7684\u8ba1\u7b97\u3002\u5982\u679c\u7b5b\u9009\u7684\u79ef\u5206\u8fc7\u591a\uff0c\u90a3\u4e48H-F\u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c\u5c31\u4f1a\u5931\u771f\u3002\u4e5f\u662f\u6b64Warning\u7684\u6765\u6e90\u3002</p> <p>\u63a7\u5236\u8fd9\u4e2a\u7b5b\u9009\u6807\u51c6\u7684\u6709EPS_PGF_ORB\u8fd9\u4e2a\u53c2\u6570\u3002\u8d8a\u5c0f\u7684\u8bdd\u7b5b\u9009\u7684\u79ef\u5206\u8d8a\u5c11\uff0cH-F\u7ed3\u679c\u4e5f\u5c31\u8d8a\u771f\u5b9e\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\u8fd9\u4e2aWarning\u662f\u4e0d\u4f1a\u6d88\u5931\u7684\uff0c\u5373\u4f7f\u7528\u6237\u8c03\u5230\u4e00\u4e2a\u975e\u5e38\u5c0f\u7684\u91cf\u7ea7\uff0c\u4f8b\u59821.0E-20\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6bd4\u5bf9\u4e0d\u540c\u7684EPF_PGF_ORB\u7684\u80fd\u91cf\u6536\u655b\u6765\u9009\u62e9\u5408\u9002\u7684\u503c\u3002</p> EPS_PGF_ORB \u80fd\u91cf(a. u.) \u4e0e\u4e0a\u4e00\u4e2a\u7684\u8bef\u5dee 1.0E-13 -8402.872803898026177 1.0E-15 -8402.872803587537419 -3.1E-07 1.0E-17 -8402.872803510470476 -7.7E-08 <p>\u4e00\u822c\u7684SCF\u6536\u655b\u9650\u57283.0E-7\uff0c\u80fd\u91cf\u57fa\u672c\u4e5f\u5728\u8fd9\u4e2a\u91cf\u7ea7\u4ee5\u4e0b\uff0c\u56e0\u6b64\u80fd\u91cf\u6536\u655b\u9700\u8981\u8fbe\u52301.0E-7\u4ee5\u4e0b\u6700\u597d\u3002\u6240\u4ee5\u6211\u4eec\u9009\u62e91.0E-15\u4f5c\u4e3aEPS_PGF_ORB\u7684\u503c\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#admm","title":"ADMM\u57fa\u7ec4\u7684\u6536\u655b","text":"<p>\u4e0eEPS_PGF_ORB\u7c7b\u4f3c\u7684\u662fADMM\u57fa\u7ec4\u7684\u6536\u655b\u3002\u5bf9\u4e8e\u540c\u4e00\u79cd\u5143\u7d20, CP2K\u63d0\u4f9b\u591a\u4e86\u591a\u79cd\u57fa\u7ec4\uff0c\u4f8b\u5982cFIT10, cFIT11, cFIT12 \u7b49...\u3002\u6d4b\u8bd5\u7684\u65b9\u6cd5\u5c31\u662f\u9010\u6e10\u589e\u5927ADMM\u57fa\u7ec4\u3002\u80fd\u91cf\u8bef\u5dee\u5fc5\u987b\u5f52\u4e00\u5230\u6bcf\u4e2a\u539f\u5b50\u3002\u901a\u5e38\u4fdd\u8bc1\u8bef\u5dee\u57281meV/atom\u7684\u91cf\u7ea7\u6700\u597d\u3002</p> <p>\u4ee5SrTiO3\u4f53\u7cfb\u4e3a\u4f8b</p> ADMM_BASIS For Ti \u80fd\u91cf(a.u.) \u4e0e\u4e0a\u4e00\u4e2a\u7684\u8bef\u5dee(meV/atom) \u539f\u5b50\u6570 cFIT10 -9062.291421862293646 368 cFIT11 -9062.255359275355659 -2.6 368 cFIT12 -9062.260056088771307 0.3 368 cFIT13 -9062.210205928951837 -3.6 368 <p>\u8fd9\u4e2a\u65f6\u5019\u9009\u62e9**cFIT10**\u6216\u8005**cFIT11**\u5373\u53ef</p>"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#admm_1","title":"\u4e00\u4e9b\u5143\u7d20\u63a8\u8350\u7684ADMM","text":"<p>\u7b14\u8005\u4eb2\u6d4b\uff0c\u901a\u5e38\u4e0e\u4f53\u7cfb\u5173\u7cfb\u4e0d\u5927\u3002</p> \u5143\u7d20 ADMM\u57fa\u7ec4 O cFIT3 H cFIT3 Ti cFIT11 Cd cFIT10 Sn cFIT9 Pb cFIT9 Sr cFIT9 Pt cFIT10 Mg cpFIT3 Ba cFIT9 Na cFIT3 Ta cFIT10"},{"location":"wiki/software_usage/cp2k/cp2k-hf/#warning","title":"\u5176\u4ed6Warning\u5904\u7406","text":"<p>\u5176\u4ed6\u7684Warning\u5728\u5b98\u65b9\u6587\u6863\u4e2d\u6709\u63d0\u8fc7 \u6742\u5316\u6cdb\u51fd\u8ba1\u7b97Warning</p> <p>Cutoff Radiis Warning <code>*** WARNING in hfx_types.F:1287 :: Periodic Hartree Fock calculation      ***  *** requested with use of a truncated or shortrange potential. The cutoff ***  *** radius is larger than half the minimal cell dimension. This may lead  ***  *** to unphysical total energies. Reduce the cutoff radius in order to    ***  *** avoid possible problems.                                              ***</code></p> <p>\u8fd9\u662f\u7531\u4e8e\u5728\u5468\u671f\u8fb9\u754c\u6761\u4ef6\u4e0b, CP2K\u53ea\u53d6HF exchange\u77ed\u7a0b\u90e8\u5206\uff0c\u800c\u957f\u7a0b\u90e8\u5206\u5219\u7531DFT exchange\u6765\u8865\u5145\u3002\u56e0\u6b64\u9700\u8981\u77ed\u7a0b\u7684\u957f\u5ea6\uff0c\u5373Cutoff Radiis\u3002 \u5bf9\u4e8e\u8be5Warning\u6709\u5982\u4e0b\u4e09\u79cd\u5904\u7406\u65b9\u5f0f\u3002</p> <ul> <li>\u5982\u679c\u4f7f\u7528HSE06\uff0c\u8bf7\u5ffd\u89c6\uff0c\u56e0\u4e3a\u8fd9\u4e2acutoff\u7531omega\u786e\u5b9a\u3002</li> <li>\u51cf\u5c11CUTOFF_RADIUS\uff0c\u5982\u679c\u4f60\u7528\u7684\u662fPBE0-TC</li> <li>\u7528\u66f4\u5927\u5468\u671f\u8fb9\u754c\u76d2\u5b50</li> </ul> <p>\u53c2\u8003</p>"},{"location":"wiki/software_usage/cp2k/cp2k-neb/","title":"CP2K: Nudged Elastic Band","text":""},{"location":"wiki/software_usage/cp2k/cp2k-neb/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li> <p>\u5b66\u4e60\u8d44\u6599</p> </li> <li> <p>NEB \u57fa\u672c\u539f\u7406</p> </li> <li> <p>CP2K NEB\u8bbe\u7f6e</p> </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-neb/#_2","title":"\u5b66\u4e60\u8d44\u6599","text":"<ul> <li> <p>Henkelman, G. &amp; J\u00f3nsson, H. Improved tangent estimate in the nudged elastic band method for finding minimum energy paths and saddle points.  J. Chem. Phys. 113, 9978\u20139985 (2000).</p> </li> <li> <p>Henkelman, G., Uberuaga, B. P. &amp; J\u00f3nsson, H. A climbing image nudged elastic band method for finding saddle points and minimum energy paths. J Chem Phys 113, 9901\u20139904 (2000).</p> </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-neb/#neb","title":"NEB \u57fa\u672c\u539f\u7406","text":"<p>\u5f53\u786e\u5b9a\u53cd\u5e94\u7269\u548c\u4ea7\u7269\u7ed3\u6784\u540e\u53ef\u4ee5\u627e\u5230\u4ece\u53cd\u5e94\u7269\u5230\u4ea7\u7269\u7684\u80fd\u91cf\u6700\u5c0f\u8def\u5f84(Minimum Energy Path, MEP). \u5904\u4e8e\u80fd\u91cf\u6700\u5c0f\u8def\u5f84\u4e0a\u7684\u4efb\u610f\u4e00\u4e2a\u7ed3\u6784\u4e2d\uff0c\u4f5c\u7528\u5728\u539f\u5b50\u4e0a\u5e76\u5782\u76f4\u4e8eMEP\u7684\u529b\u5206\u91cf\u90fd\u4e3a0. NEB\u662f\u4e00\u79cd\u5bfb\u627eMEP\u7684\u65b9\u6cd5\u3002\u9996\u5148NEB\u5728\u53cd\u5e94\u7269\u7ed3\u6784\u548c\u4ea7\u7269\u7ed3\u6784\u4e4b\u95f4\u5efa\u7acb\u4e00\u5957\u7ed3\u6784(\u79f0\u4e3aimage\u6216\u8005replica)\u3002 \u8fd9\u4e9b\u76f8\u90bb\u7684image\u4e4b\u95f4\u7528\u5f39\u7c27\u529b\u8fde\u63a5(spring force)\uff0c\u5f62\u6210\u4e00\u6761\u7c7b\u6a61\u76ae\u7b4b(Elastic Band)\u7684\u6784\u9020\u3002\u5176\u4e2d\u6bcf\u4e2aimage\u53d7\u5230\u5782\u76f4\u4e8eMEP\u7684\u771f\u6b63\u7684\u529b\u540c\u65f6\u53d7\u5230\u5e73\u884c\u4e8eMEP\u7684\u5f39\u7c27\u529b\uff0c\u901a\u8fc7\u6700\u5c0f\u5316\u8fd9\u4e2aBand\u7684\u529b\uff0c\u5373\u53ef\u5f97\u5230MEP\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-neb/#cp2k-neb","title":"CP2K NEB\u8bbe\u7f6e","text":"<p>\u9996\u5148\u628aRUN_TYPE\u8bbe\u7f6e\u4e3a<code>BAND</code> <pre><code>&amp;GLOBAL\n    RUN_TYPE BAND\n&amp;END GLOBAL\n</code></pre></p> <p>\u5176\u6b21\u662fMOTION\u90e8\u5206 <pre><code>&amp;MOTION\n    &amp;BAND\n        # \u63d0\u4ea4\u4efb\u52a1\u65f6 \u603bcpu\u6570\u76ee\u4e3aNROC_REP*NUMBER_OF_REPLICA\n        NROC_REP 24 #\u4e00\u4e2aimage\u8981\u7528\u591a\u5c11cpu\u6765\u7b97\n        NUMBER_OF_REPLICA 8 #\u521b\u9020\u591a\u5c11image, \u8fd9\u91cc\u662f\u5305\u542b\u521d\u59cb\u7ed3\u6784\u548c\u6700\u7ec8\u7ed3\u6784\u7684\u6570\u76ee\u3002 \n        BAND_TYPE CI-NEB #\u4f7f\u7528Climbing Image NEB\u65b9\u6cd5\uff0c\u5177\u4f53\u5185\u5bb9\u53c2\u7167\u6587\u732eSEC. IV\n        K_SPRING 0.05 \u5f39\u7c27\u632f\u5b50\u7684\u5f3a\u5ea6\uff0c\u7406\u8bba\u4e0a\u5f39\u7c27\u632f\u5b50\u5f3a\u5ea6\u4e0d\u4f1a\u5f71\u54cd\u4f18\u5316\u7684\u7ed3\u679c\n        &amp;CONVERGENCE_CONTROL # \u8ddf\u7ed3\u6784\u4f18\u5316\u7c7b\u4f3c\n            MAX_FORCE 0.0030\n            RMS_FORCE 0.0050\n            MAX_DR 0.002\n            RMS_DR 0.005\n        &amp;END CONVERGENCE_CONTROL\n        ROTATE_FRAMES F\n        ALIGN_FRAMES F\n        &amp;CI_NEB \n            NSTEPS_IT  2 # \u5728\u53d8\u6210CI\u4e4b\u524d\uff0c\u9700\u8981\u8dd1\u6b63\u5e38NEB, \u8fd9\u91cc\u8bbe\u7f6e\u8dd1\u6b63\u5e38NEB\u7684\u56de\u5408\u6570\u76ee\n        &amp;END CI_NEB\n        &amp;OPTIMIZE_BAND\n            OPT_TYPE DIIS\n            &amp;DIIS\n                NO_LS T\n                MAX_STEPS 1000\n                N_DIIS 3\n            &amp;END DIIS\n        &amp;END OPTIMIZE_BAND\n        &amp;REPLICA #\u521d\u59cb\u7ed3\u6784\u7684\u5750\u6807\n            &amp;COORD\n            @include init.xyz # \u7b2c\u4e00\u79cd\u65b9\u6cd5\uff0c\u53ea\u5305\u542b\u5750\u6807xyz\uff0c\u4e0d\u9700\u8981\u5143\u7d20\n            &amp;END COORD\n        &amp;END REPLICA\n        &amp;REPLICA # \u6700\u7ec8\u7ed3\u6784\u7684\u5750\u6807\n            &amp;COORD\n            @include fin.xyz # \u53ea\u5305\u542b\u5750\u6807xyz\uff0c\u4e0d\u9700\u8981\u5143\u7d20\uff0c\n            &amp;END COORD\n        &amp;END REPLICA\n        &amp;REPLICA # \u6700\u7ec8\u7ed3\u6784\u7684\u5750\u6807\n            COORD_FILE_NAME ./tr7.xyz # \u7b2c\u4e8c\u79cd\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u662f\u6b63\u5e38\u7684xyz\u6587\u4ef6\n        &amp;END REPLICA\n        &amp;PROGRAM_RUN_INFO # \u770bREPLICA\u95f4\u7684\u8ddd\u79bb\n            INITIAL_CONFIGURATION_INFO\n        &amp;END\n    &amp;END BAND\n&amp;END MOTION\n</code></pre> \u6ce8\u610f\u5230\u5982\u679c\u53ea\u5b9a\u4e49\u4e24\u4e2a<code>REPLICA</code> section\uff0c\u5e76\u4e14\u5c0f\u4e8e\u4f60\u7684<code>NUMBER_OF_REPLICA</code>\uff0c\u90a3\u4e48\u5269\u4f59\u7684<code>REPLICA</code>\u7ed3\u6784\u5c06\u4f1a\u7531CP2K\u81ea\u5df1\u751f\u6210\u3002 \u5982\u679c\u5b9a\u4e49\u7684<code>REPLICA</code> section\u6570\u76ee\u7b49\u4e8e<code>NUMBER_OF_REPLICA</code>\uff0c\u90a3\u4e48CP2K\u5c06\u4e0d\u4f1a\u81ea\u52a8\u751f\u6210<code>REPLICA</code>\u7684\u7ed3\u6784\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-neb/#neb_1","title":"\u91cd\u65b0\u542f\u52a8NEB","text":"<p>\u5728cp2k input\u6587\u4ef6\u91cc\u52a0\u5165<code>EXT_RESTART</code> section\u3002\u5e76\u4e14\u5c06<code>xxx-1.restart</code>\u6539\u6210\u4f60\u7684\u771f\u5b9e\u7684restart\u6587\u4ef6\u3002 <pre><code>&amp;EXT_RESTART\n  RESTART_BAND\n  RESTART_FILE_NAME   xxx-1.restart\n&amp;END\n</code></pre> \u540c\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u5229\u7528\u4e4b\u524d\u7684\u6ce2\u51fd\u6570RESTART,\u53ea\u9700\u8981\u5728<code>FORCE_EVAL/DFT/SCF</code>\u4e0b\u8bbe\u7f6e <pre><code>SCF_GUESS RESTART\n</code></pre> \u5373\u53ef\u3002 \u5047\u8bbe\u4f60\u7684PROJECT NAME \u662f <code>water</code>\uff0c\u89c1<code>GLOBAL/PROJECT</code>\uff0c\u540c\u65f6\u4f60\u7684<code>NUMBER_OF_REPLICA</code>\u4e3a8, \u90a3\u4e48\u4f60\u5c06\u4f1a\u751f\u6210\u5982\u4e0b\u6587\u4ef6 <pre><code>water-BAND01-RESTART.wfn\nwater-BAND02-RESTART.wfn\nwater-BAND03-RESTART.wfn\nwater-BAND04-RESTART.wfn\nwater-BAND05-RESTART.wfn\nwater-BAND06-RESTART.wfn\nwater-BAND07-RESTART.wfn\nwater-BAND08-RESTART.wfn\n</code></pre> \u5176\u4e2dBAND\u540e\u9762\u7684\u6570\u5b57\u4ee3\u8868<code>REPLICA</code>\u7684\u5e8f\u6570\u3002\u5728\u91cd\u65b0\u542f\u52a8\u65f6\uff0c\u5219\u4f1a\u81ea\u52a8\u8bfb\u53d6\u8fd9\u4e9b\u6ce2\u51fd\u6570\u3002\u5982\u679c\u6ce2\u51fd\u6570\u662f\u901a\u8fc7\u5176\u4ed6\u65b9\u6cd5\u751f\u6210\u6216\u8005\u63d0\u524d\u51c6\u5907\u597d\u7684\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u66f4\u6539\u6ce2\u51fd\u6570\u7684\u540d\u79f0\u4f7f\u5176\u7b26\u5408\u4e0a\u8ff0\u89c4\u5219\u6765\u542f\u52a8NEB\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-reftraj/","title":"\u6839\u636e\u5df2\u6709\u8f68\u8ff9\u8fd0\u884cCP2K\u5206\u5b50\u52a8\u529b\u5b66\u8ba1\u7b97","text":""},{"location":"wiki/software_usage/cp2k/cp2k-reftraj/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li> <p>CP2K \u5206\u5b50\u52a8\u529b\u5b66\u8ba1\u7b97\u7684\u8f93\u5165\u6587\u4ef6</p> </li> <li> <p>\u5982\u4f55\u6839\u636e\u5df2\u6709\u7684CP2K\u8f68\u8ff9\u8fdb\u884c\u8ba1\u7b97</p> </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-reftraj/#_2","title":"\u5b66\u4e60\u8d44\u6599","text":"<p>CP2K\u5b98\u65b9\u624b\u518c\uff1aSection MD </p> <p>CP2K\u5b98\u65b9\u7ec3\u4e60\uff1aAIMD of bulk liquid water</p>"},{"location":"wiki/software_usage/cp2k/cp2k-reftraj/#cp2k-md-section","title":"CP2K MD Section \u7684\u8f93\u5165\u6587\u4ef6","text":"<p>\u8bf7\u5148\u4e86\u89e3CP2K\u7684\u8f93\u5165\u6587\u4ef6\u8bed\u6cd5\uff0c\u6307\u8def\uff1aCP2K:\u80fd\u91cf\u4e0e\u529b\u7684\u8ba1\u7b97\u3002</p> <p>CP2K \u7684\u8f93\u5165\u6587\u4ef6\u7531\u4e0d\u540c\u7684 SECTION \u7ec4\u6210\uff0c\u800c\u6bcf\u4e2a SECTION \u4e0b\u7ea7\u6709\u53ef\u4ee5\u5305\u542b SUBSECTION \u548c KEYWORDS\uff0c\u8fd9\u4e9b\u4e0d\u540c\u7b49\u7ea7\u7684 SECTION \u548c KEYWORD \u90fd\u662f\u5927\u5199\u82f1\u6587\u5355\u8bcd\u3002\u4e00\u4efd\u8f93\u5165\u6587\u4ef6\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>&amp;SECTION\n  &amp;SUSECTION\n  ...\n  &amp;END SUBSECTION\n  KEYWORD1 &lt;value&gt;\n  KEYWORD2 &lt;value&gt;\n  ...\n&amp;END SECTION\n</code></pre> <p>\u800c\u5982\u679c\u5e0c\u671b\u7528CP2K\u8fdb\u884cMD\u8ba1\u7b97\uff0c\u9700\u8981\u6839\u636e\u4f53\u7cfb\u7684\u9700\u8981\uff0c\u914d\u7f6eCP2K:\u80fd\u91cf\u4e0e\u529b\u7684\u8ba1\u7b97\u4e2d\u4ecb\u7ecd\u7684 <code>GLOBAL</code> \u548c <code>FORCE_EVAL</code> \u8fd9\u4e24\u90e8\u5206\uff0c\u5e76\u4e14\u5c06 SECTION <code>GLOBAL</code> \u4e0b\u7684\u5173\u952e\u5b57 <code>RUN_TYPE</code> \u6539\u4e3a<code>MD</code>\u3002</p> <pre><code>&amp;GLOBAL\n  ...\n  RUN_TYPE MD &lt;---- \u8fd0\u884cMD\u4efb\u52a1\u8bf7\u5c06 RUN_TYPE \u6539\u4e3a MD\n&amp;END GLOBAL\n</code></pre> <p>\u6b64\u5916\uff0c\u8fd8\u9700\u8981\u5728\u914d\u7f6e\u6587\u4ef6 <code>input.inp</code> \u4e2d\u5199\u5165 \uff1a</p> <ul> <li><code>MOTION</code>: \u5305\u542b\u5982\u4f55\u6f14\u53d8\u539f\u5b50\u6838\uff08\u4f8b\u5982MD\uff09\uff0c\u63a7\u5236\u8f93\u51fa\u4ec0\u4e48\u6570\u636e</li> </ul> <p>SECTION in <code>input.inp</code>. This section defines a set of tool connected with the motion of the nuclei. </p> <ul> <li><code>MD</code>:  \u5305\u542b\u4e86\u4e00\u4e9b\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u7684\u57fa\u672c\u53c2\u6570\uff0c\u5982\u9009\u62e9\u4ec0\u4e48\u7cfb\u7efc\uff08ensemble\uff09\u3001\u6e29\u5ea6\u3001\u6b65\u957f\u548c\u603b\u6b65\u6570\u7b49\u3002</li> </ul> <p>SUBSECTION in <code>MOTION</code>. This section defines the whole set of parameters needed perform an MD run. </p>"},{"location":"wiki/software_usage/cp2k/cp2k-reftraj/#motion","title":"\u4e00\u4e2a\u7b80\u5355\u7684 MOTION \u90e8\u5206\u7684\u4f8b\u5b50","text":"<pre><code>&amp;MOTION \n  &amp;MD\n    ENSEMBLE NVE\n    STEPS 10\n    TIMESTEP 0.5\n    TEMPERATURE 300.0\n  &amp;END MD\n  &amp;PRINT\n    &amp;CELL\n      &amp;EACH\n        MD 1\n      &amp;END EACH\n    &amp;END CELL\n    &amp;FORCES\n      &amp;EACH\n        MD 1\n      &amp;END EACH\n    &amp;END FORCES\n    &amp;TRAJECTORY\n      &amp;EACH\n        MD 1\n      &amp;END EACH\n    &amp;END TRAJECTORY\n    &amp;VELOCITIES\n      &amp;EACH\n        MD 1\n      &amp;END EACH\n    &amp;END VELOCITIES\n  &amp;END PRINT\n&amp;END MOTION\n</code></pre> <p>\u4ee5\u4e0a\u4f8b\u5b50\u975e\u5e38\u76f4\u63a5\uff0c\u4e00\u884c\u4e00\u884c\u8bfb\u4e0b\u6765\u5b57\u9762\u610f\u601d\u5c31\u662fMD\u7684\u53c2\u6570\u8bbe\u7f6e\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\u5728 <code>PRINT</code> \u90e8\u5206\u4e2d\u7684 <code>&amp;EACH MD 1 &amp;END EACH</code> \u63a7\u5236\u7684\u662fMD\u6253\u5370\u8f93\u51fa\u7684\u9891\u7387\uff0c\u6307\u7684\u662f\u6bcf\u4e00\u6b65MD\u6a21\u62df\u5bf9\u5e94\u4e00\u4e2a\u8f93\u51fa\uff0c\u8bbe\u7f6e\u6210<code>3</code>\u5c31\u662f\u6bcf\u4e09\u6b65\u8f93\u51fa\u4e00\u6b21\u3002<code>EACH</code>\u4e2dMD\u8f93\u51fa\u9891\u7387\u7f3a\u7701\u503c\u662f<code>1</code>\u3002</p> <p>Warning</p> <p>\u4e3a\u4e86\u65b9\u4fbf\u5206\u6790\uff0c<code>CELL</code> \u7684\u8f93\u51fa\u9891\u7387\u5e94\u8be5\u548c <code>TRAJECTORY</code> \u7684\u4fdd\u6301\u4e00\u81f4</p>"},{"location":"wiki/software_usage/cp2k/cp2k-reftraj/#md","title":"\u6839\u636e\u5df2\u6709\u8f68\u8ff9\u8fdb\u884cMD\u8ba1\u7b97","text":"<p>\u6709\u7684\u65f6\u5019\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u5df2\u6709\u7684\u4e00\u6761MD\u8f68\u8ff9\u8fdb\u884c\u8ba1\u7b97\uff1a</p> <ul> <li> <p>\u5bf9\u673a\u5668\u5b66\u4e60\u52bf\u51fd\u6570\u751f\u6210\u7684MD\u8f68\u8ff9\u8fdb\u884c\u7cbe\u786e\u8ba1\u7b97</p> </li> <li> <p>\u66f4\u6539<code>FORCE_EVAL</code> \u90e8\u5206\u7684\u53c2\u6570\uff0c\u63d0\u5347\u5df2\u6709\u8f68\u8ff9\u80fd\u91cf\u548c\u529b\u7684\u8ba1\u7b97\u7684\u7cbe\u5ea6</p> </li> <li> <p>\u2026\u2026</p> </li> </ul> <p>\u6211\u4eec\u53ef\u4ee5\u5728CP2K\u8f93\u5165\u6587\u4ef6\u7684 <code>MD</code> SECTION \u4e0b\u52a0\u5165<code>REFTRAJ</code> SECTION\u6765\u5b9e\u73b0\u5bf9\u5df2\u6709\u8f68\u8ff9\u7684\u8ba1\u7b97\u3002</p> <p>\u4ee5TiO2\u4e3a\u4f8b\u5b50\uff0c\u9700\u8981\u5728\u63d0\u4ea4\u4efb\u52a1\u7684\u76ee\u5f55\u4e0b\u51c6\u5907\uff1a</p> <pre><code>tree\n.\n\u251c\u2500\u2500 cp2k.lsf                    &lt;---- cp2k \u4efb\u52a1\u63d0\u4ea4\u811a\u672c\uff08/data/share/base/scripts/cp2k.lsf\uff09 \n\u251c\u2500\u2500 input.inp               &lt;---- cp2k \u8f93\u5165\u6587\u4ef6\n\u251c\u2500\u2500 reftraj.xyz       &lt;---- \u5df2\u6709\u7684\u8f68\u8ff9\n\u2514\u2500\u2500 rutile.xyz          &lt;---- \u53ef\u4ee5\u662f\u8f68\u8ff9\u4e2d\u7684\u4e00\u5e27\u7ed3\u6784\n\n0 directories, 4 files\n</code></pre> <p>\u5176\u4e2d <code>rutile.xyz</code> \u5bf9\u5e94\u7684\u662f\u8f93\u5165\u6587\u4ef6<code>input.inp</code>\u4e2d <code>SUBSYS</code> \u4e2d\u6307\u5b9a\u76d2\u5b50\u4e2d\u7684\u539f\u5b50\u5750\u6807\u6587\u4ef6\uff0c\u53ef\u4ee5\u76f4\u63a5\u9009\u7528\u5df2\u6709\u8f68\u8ff9\u4e2d\u7684\u67d0\u4e00\u5e27\u6570\u636e\u3002</p> <p>\u9488\u5bf9\u8fd9\u4e00\u4efb\u52a1\uff0c\u5728 <code>MOTION</code> \u90e8\u5206\u5199\u5165</p> <pre><code>&amp;MOTION\n  &amp;MD\n    &amp;REFTRAJ\n      TRAJ_FILE_NAME reftraj.xyz\n      EVAL_ENERGY_FORCES .TRUE.\n      EVAL_FORCES .TRUE.\n      FIRST_SNAPSHOT 1\n      LAST_SNAPSHOT 50\n      STRIDE 1\n    &amp;END REFTRAJ\n    ...\n  &amp;END MD\n  &amp;PRINT\n    ...\n  &amp;END PRINT\n</code></pre> <p>\u5176\u4e2d <code>TRAJ_FILE_NAME</code> \u5173\u952e\u5b57\u6307\u5b9a\u4e86\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u7684 <code>reftraj.xyz</code> \u505a\u4e3a\u9700\u8981\u8ba1\u7b97\u7684\u8f68\u8ff9\u3002</p> <p>\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0cCP2K\u8f93\u5165\u6587\u4ef6\u4e2d\u7ed9\u5173\u952e\u5b57\u8d4b\u903b\u8f91\u503c\u65f6\u7528 <code>.TRUE.</code> \u6216 <code>.FALSE.</code>\uff0c\u800c <code>EVAL_ENERGY_FORCES</code>\u00a0\u548c <code>EVAL_FORCES</code> \u7684\u7f3a\u7701\u503c\u662f <code>.FALSE.</code>\uff0c\u56e0\u6b64\u5982\u679c\u8981\u8ba1\u7b97\u80fd\u91cf\u548c\u529b\u5fc5\u987b\u8981\u660e\u786e\u6307\u5b9a\u8fd9\u4e24\u4e2a\u5173\u952e\u5b57\u3002</p> <p><code>FIRST_SNAPSHOT</code> , <code>LAST_SNAPSHOT</code> \u548c <code>STRIDE</code>\u8fd9\u4e00\u7ec4\u5173\u952e\u8bcd\u6307\u5b9a\u4e86\u5982\u4f55\u5bf9 <code>reftraj.xyz</code> \u7684\u7ed3\u6784\u8fdb\u884c\u8ba1\u7b97\u3002\u6307\u7684\u662f\u4ece\u5df2\u6709\u8f68\u8ff9\u7684\u7b2c FIRST_SNAPSHOT \u5e27\u5230\u7b2c LAST_SNAPSHOT \u5e27\u7ed3\u6784\uff0c\u6bcf STRIDE \u5e27\u7ed3\u6784\u8ba1\u7b97\u4e00\u6b21\u3002\u800c\u5bf9\u4e8e\u672c\u4f8b\u5b50\uff0c<code>reftraj.xyz</code>\u4e2d\u5171\u670950\u5e27\u7ed3\u6784\uff0c\u56e0\u6b64\u4ee5\u4e0a\u914d\u7f6e\u6587\u4ef6\u8868\u660e\u4ece\u5df2\u6709\u8f68\u8ff9\u7684\u7b2c 1 \u5e27\u5230\u7b2c 50 \u5e27\u7ed3\u6784\uff0c\u6bcf 1 \u5e27\u7ed3\u6784\u8ba1\u7b97\u4e00\u6b21\uff0c\u6240\u4ee5\u8fd9\u6837\u8bbe\u7f6e\u4f1a\u8ba1\u7b97\u5df2\u6709\u8f68\u8ff9\u4e2d\u7684\u6bcf\u4e00\u4e2a\u7ed3\u6784\u7684\u80fd\u91cf\u548c\u529b\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-scan/","title":"CP2K: SCAN\u6cdb\u51fd","text":""},{"location":"wiki/software_usage/cp2k/cp2k-scan/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li> <p>\u5b66\u4e60\u8d44\u6599</p> </li> <li> <p>SCAN\u57fa\u672c\u539f\u7406</p> </li> <li> <p>CP2K SCAN\u6cdb\u51fd\u8bbe\u7f6e</p> </li> <li> <p>CP2K SCAN\u6cdb\u51fd\u7684\u95ee\u9898</p> </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-scan/#_2","title":"\u5b66\u4e60\u8d44\u6599","text":"<p>Sun, J., Remsing, R. C., Zhang, Y., Sun, Z., Ruzsinszky, A., Peng, H., \u2026 Perdew, J. P. (2016). Accurate first-principles structures and energies of diversely bonded systems from an efficient density functional. Nature Chemistry, 8(9), 831\u2013836. https://doi.org/10.1038/nchem.2535</p> <p>Sun, J., Remsing, R. C., Zhang, Y., Sun, Z., Ruzsinszky, A., Peng, H., \u2026 Perdew, J. P. (2015). SCAN: An Efficient Density Functional Yielding Accurate Structures and Energies of Diversely-Bonded Materials, 1\u201319. Retrieved from http://arxiv.org/abs/1511.01089</p>"},{"location":"wiki/software_usage/cp2k/cp2k-scan/#scan","title":"SCAN\u57fa\u672c\u539f\u7406","text":"<p>SCAN\u6cdb\u51fd\u5c5e\u4e8eMetaGGA\u7684\u4e00\u7c7b\u3002\u52a0\u5165\u4e86\u5bc6\u5ea6\u68af\u5ea6\u7684\u4e8c\u9636\u5bfc\u6570\u3002\u8fd1\u5e74\u6765\uff0cSCAN\u6cdb\u51fd\u88ab\u7528\u4e8e\u6c34\u7684\u8ba1\u7b97\u7814\u7a76\u9010\u6e10\u589e\u591a\uff0c\u540c\u65f6\u5bf9\u4e8e\u534a\u5bfc\u4f53**\u4f53\u76f8**\u8ba1\u7b97\u7684\u80fd\u5e26\u4e5f\u6bd4\u8f83\u51c6\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-scan/#cp2k-scan_1","title":"CP2K SCAN\u6cdb\u51fd\u8bbe\u7f6e","text":"<p>SCAN\u6cdb\u51fd\u5e76\u4e0d\u662fCP2K\u6e90\u7801\u81ea\u5e26\uff0c\u5b9e\u9645\u662f\u5f15\u7528\u4e86libxc\u4e2d\u7684\u6cdb\u51fd\u51fd\u6570\u3002\u53ea\u6709CP2K4.1\u4ee5\u4e0a\u7248\u672c\u7684libxc\u5e93\u624d\u80fd\u591f\u4f7f\u7528SCAN\u6cdb\u51fd</p> <pre><code>&amp;XC_FUNCTIONAL\n     &amp;LIBXC\n        FUNCTIONAL MGGA_X_SCAN\n     &amp;END LIBXC\n     &amp;LIBXC\n        FUNCTIONAL MGGA_C_SCAN\n     &amp;END LIBXC\n&amp;END XC_FUNCTIONAL\n</code></pre> <p>SCAN\u6cdb\u51fd\u6709\u4e00\u5957\u81ea\u5df1\u5bf9\u5e94\u7684\u8d5d\u52bf\uff0c\u653e\u5728Hutter\u7684github\u5e93\u4e2d\u3002</p> <p>\u5177\u4f53\u53ef\u4ee5\u53c2\u8003\u4ee5\u4e0b\u8c37\u6b4c\u8bba\u575b\u94fe\u63a5</p> <p>https://github.com/juerghutter/GTH/blob/master/SCAN/POTENTIAL</p> <p>\u4e3b\u96c6\u7fa4\u4e0a\u6211\u5df2\u7ecf\u653e\u7f6e\u4e86\u4e00\u4efdSCAN\u8d5d\u52bf\u3002\u540d\u79f0\u4e3aGTH-SCAN-POTENTIAL</p> <p>cp2k \u8f93\u5165\u6587\u4ef6\u8bbe\u7f6e\u4e3a\u5982\u4e0b\u5373\u53ef\uff1a</p> <pre><code>POTENTIAL_FILE_NAME GTH-SCAN-POTENTIAL\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-scan/#cp2k-scan_2","title":"CP2K SCAN\u6cdb\u51fd\u7684\u95ee\u9898","text":"<p>SCAN\u6cdb\u51fd\u5bf9\u4e8e\u6709\u5927\u91cf\u771f\u7a7a\u7684\u4f53\u7cfb\u4f3c\u4e4e\u975e\u5e38\u96be\u4ee5\u6536\u655b\u3002\u7b14\u8005\u81f3\u4eca\u8bd5\u7528\u8fc7\u4e86Hematite Slab\u6a21\u578b\u548cSrTiO3\u6a21\u578b\uff0c\u5747\u65e0\u6cd5\u6b63\u5e38\u6536\u655b\u3002\u5176\u4ed6\u610f\u89c1\u53c2\u8003\u8c37\u6b4c\u8bba\u575b\u3002\u5982\u6709\u4efb\u4f55\u5efa\u8bae\u5efa\u8bae\u5feb\u901f\u8054\u7cfb\u7b14\u8005\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-slab/","title":"CP2K: Slab\u8ba1\u7b97","text":""},{"location":"wiki/software_usage/cp2k/cp2k-slab/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li> <p>\u4ec0\u4e48\u662fSlab\u6a21\u578b</p> </li> <li> <p>CP2K \u5076\u6781\u77eb\u6b63</p> </li> <li> <p>\u5176\u4ed6\u53bb\u9664\u5468\u671f\u6027\u7684\u65b9\u5f0f</p> </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-slab/#slab","title":"\u4ec0\u4e48\u662fSlab\u6a21\u578b","text":"<p>Slab\u6a21\u578b\u662f\u5728\u4e09\u7ef4\u5468\u671f\u6027\u8fb9\u754c\u6761\u4ef6\u4e0b\u8ba1\u7b97\u56fa\u4f53\u8868\u9762\u7684\u4e00\u79cd\u65b9\u6cd5\u3002\u901a\u5e38\u9009\u62e9z\u65b9\u5411\u4e3a\u8868\u9762\u671d\u5411\uff0c\u5373\u6a21\u578b\u7684z\u65b9\u5411\u4e2d\u6709\u4e00\u534a\u662f\u771f\u7a7a\uff08\u65e0\u539f\u5b50\uff09\u53e6\u4e00\u534a\u4e3a\u56fa\u4f53\u6a21\u578b\u3002\u5982\u4e0b\u56fe\u4e3a\u4e00\u4e2a\u5178\u578b\u7684Slab\u6a21\u578b:</p> <p></p>"},{"location":"wiki/software_usage/cp2k/cp2k-slab/#cp2k","title":"CP2K \u5076\u6781\u77eb\u6b63","text":"<p>Slab\u6a21\u578b\u867d\u7136\u662f\u4ee3\u8868\u8868\u9762\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u5728z\u65b9\u5411\u662f\u56fa\u4f53-\u771f\u7a7a-\u56fa\u4f53-\u771f\u7a7a-...\u7684\u4ea4\u66ff\u3002\u5982\u679c\u6211\u4eec\u5efa\u7acb\u7684Slab\u6a21\u578b\u5728z\u65b9\u5411\u662f\u975e\u5bf9\u79f0\u7684\uff0c\u6a21\u578b\u5c31\u4f1a\u4ea7\u751f\u4e00\u4e2a\u6cbfz\u65b9\u5411\u7684\u5076\u6781\u3002\u5076\u6781\u4f1a\u4ea7\u751f\u9759\u7535\u52bf\uff0c\u9759\u7535\u52bf\u63a5\u7740\u4f1a\u5f71\u54cd\u6a21\u578b\u7684\u955c\u50cf\uff08\u5468\u671f\u6027\u8fb9\u754c\u6761\u4ef6\uff09\u3002\u6700\u540e\u7b97\u51fa\u6765\u7684\u6a21\u578b\u7684\u603b\u80fd\u91cf\u548c\u529b\u4e0e\u771f\u5b9e\u60c5\u51b5\u662f\u4e0d\u76f8\u7b26\u7684\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u65b9\u6cd5\u53bb\u77eb\u6b63\u8fd9\u79cd\u865a\u5047\u7684\u9759\u7535\u5f71\u54cd\u3002</p> <p>\u4e00\u79cd\u5e38\u7528\u7684\u65b9\u6cd5\u5c31\u662f\u5076\u6781\u77eb\u6b63\uff0c\u5728\u771f\u7a7a\u90e8\u5206\u52a0\u5165\u4e00\u4e2a\u8d85\u7a84\u7684\u4f46\u662f\u65b9\u5411\u76f8\u53cd\u7684\u5076\u6781\u3002\u8fd9\u6837\u4e00\u6765\uff0c\u56fa\u4f53\u6a21\u578b\u4ea7\u751f\u7684\u5076\u6781\u548c\u771f\u7a7a\u4e2d\u7684\u5076\u6781\u5c31\u4f1a\u76f8\u4e92\u62b5\u6d88\u3002\u6a21\u578b\u548c\u5176\u955c\u50cf\u4e4b\u95f4\u7684\u9759\u7535\u52bf\u5f71\u54cd\u5c31\u4f1a\u62b5\u6d88\u3002</p> <p>\u5177\u4f53\u7684\u8bbe\u7f6e\u5982\u4e0b:</p> <p>\u5728FORCE_EVAL/QS/DFT\u4e0b\u5f00\u542f</p> <pre><code>SURFACE_DIPOLE_CORRECTION .TRUE.\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-slab/#_2","title":"\u5176\u4ed6\u53bb\u9664\u5468\u671f\u6027\u7684\u65b9\u5f0f","text":"<p>\u8868\u9762\u5076\u6781\u77eb\u6b63\u4ec5\u6709z\u65b9\u5411\u53ef\u4ee5\u53bb\u9664\uff0c\u82e5\u8981\u53bb\u9664\u5176\u4ed6\u4e09\u4e2a\u65b9\u5411\u7684\u5468\u671f\uff0c\u53ef\u4ee5\u91c7\u7528\u53e6\u5916\u7684\u8bbe\u7f6e</p> <p>\u5728FORCE_EVAL/SUBSYS/CELL\u4e0b</p> <pre><code>PERIODIC NONE\n</code></pre> <p>\u5728FORCE_EVAL/DFT/POISSON\u4e0b</p> <pre><code>PERIODIC NONE\nPOISSON_SOLVER MT (\u5176\u4ed6\u4e5f\u53ef\u4ee5 \u7b14\u8005\u4ec5\u8bd5\u8fc7MT)\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-tools/","title":"CP2K","text":"<p>cp2k\u6709\u8bb8\u591a\u65b9\u4fbf\u7684\u5de5\u5177\u3002\u53ef\u4ee5\u5e2e\u6211\u4eec\u811a\u672c\u5316\u5de5\u4f5c\u6d41\u7a0b\uff0c\u8282\u7ea6\u65f6\u95f4\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-tools/#pycp2k","title":"PYCP2K: \u811a\u672c\u5316\u8f93\u5165\u6587\u4ef6\u751f\u6210\u5de5\u5177","text":"<p>\u4e3b\u8981\u4f7f\u7528Python\u8bed\u8a00\uff0c\u53ef\u4ee5\u628acp2k\u8f93\u5165\u5de5\u4f5c\u96c6\u6210\u4e3aPython \u5177\u4f53\u4f7f\u7528\u94fe\u63a5\u770b\u8fd9\u91cc</p> <p>\u8981\u6ce8\u610f\u7684\u662f\uff0c\u4ed6\u8fd9\u91cc\u53ea\u9002\u7528v5.1\u4ee5\u524d\u7248\u672c\u7684 cp2k\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u4f8b\u5982v7.1\u4ee5\u4e0a\u7684\u7248\u672c\uff0c\u90a3\u4e48\u53ef\u4ee5\u81ea\u5df1\u751f\u6210\u5bf9\u5e94\u7684\u5305\u3002 \u8be6\u60c5\u89c1Pycp2k github\u7684 README \u4e2d Manual installation \u90e8\u5206\u3002 \u5728\u6211\u4eec\u96c6\u7fa4\uff0c\u8981\u751f\u6210 xml \u6587\u4ef6\uff0c\u9996\u5148<code>module load cp2k/7.1</code>\uff0c\u7136\u540e\u4f7f\u7528<code>cp2k.popt --xml</code>\u547d\u4ee4\u5373\u53ef\u5f97\u5230 xml \u6587\u4ef6\u3002 \u5176\u4ed6\u6309\u7167 Manual installation \u7684\u6307\u793a\u5373\u53ef\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-zpe/","title":"CP2K: ZPE(Zero-point energy)","text":""},{"location":"wiki/software_usage/cp2k/cp2k-zpe/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li> <p>ZPE\u57fa\u672c\u539f\u7406</p> </li> <li> <p>CP2K Frequence\u8bbe\u7f6e</p> </li> <li> <p>CP2K Frequency\u8ba1\u7b97\u7ed3\u679c\u68c0\u67e5</p> </li> <li> <p>ZPE\u6c42\u89e3</p> </li> <li> <p>\u6ce8\u610f\u4e8b\u9879</p> </li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k-zpe/#zpe","title":"ZPE\u57fa\u672c\u539f\u7406","text":"<p>\u96f6\u70b9\u80fd(ZPE)\u662f\u91cf\u5b50\u529b\u5b66\u7cfb\u7edf\u53ef\u80fd\u5177\u6709\u7684\u6700\u4f4e\u53ef\u80fd\u80fd\u91cf\uff0c\u6b64\u65f6\u7cfb\u7edf\u6240\u5904\u7684\u6001\u79f0\u4e3a\u57fa\u6001\uff1b\u6240\u6709\u91cf\u5b50\u529b\u5b66\u7cfb\u7edf\u90fd\u6709\u96f6\u70b9\u80fd\u3002\u4e0e\u7ecf\u5178\u529b\u5b66\u4e0d\u540c\uff0c\u91cf\u5b50\u7cfb\u7edf\u5728Heisenberg\u4e0d\u786e\u5b9a\u6027\u539f\u7406\u6240\u63cf\u8ff0\u7684\u6700\u4f4e\u80fd\u91cf\u72b6\u6001\u4e0b\u4e0d\u65ad\u6ce2\u52a8\u3002</p> <p>\u6211\u4eec\u5728\u8ba1\u7b97\u5409\u5e03\u65af\u81ea\u7531\u80fd(\\(G=E_{DFT}+ZPE-TS^\\circ\\))\u65f6\u4f1a\u6d89\u53ca\u5230\u96f6\u70b9\u632f\u52a8\u80fd\uff0c\u96f6\u70b9\u632f\u52a8\u80fd\u7684\u8ba1\u7b97\u516c\u5f0f\u4e3a\uff1a</p> <p>\\(ZPE=\\sum_{i=0}^{3N}\\frac{\\hbar\\omega}{2}\\)</p> <p>\u56e0\u6b64\u6211\u4eec\u9700\u501f\u52a9CP2K\u8ba1\u7b97\u5f97\u5230\u632f\u52a8\u9891\u7387\\(\\omega\\)\u3002</p> <p>Boyer, T. H. Quantum Energy and Long-Range Forces. Ann. Phys 1970, 56, 474\u2013503.</p> <p>Girod, M.; Grammaticos, B. The Zero-Point Energy Correction and Its Effect on Nuclear Dynamics. Nucl. Physics, Sect. A 1979, 330 (1), 40\u201352. https://doi.org/10.1016/0375-9474(79)90535-9.</p>"},{"location":"wiki/software_usage/cp2k/cp2k-zpe/#cp2k-frequence","title":"CP2K Frequence\u8bbe\u7f6e","text":"<ol> <li>\u8bbe\u7f6eCP2K INPUT / GLOBAL / RUN_TYPE</li> </ol> <p><pre><code>RUN_TYPE  VIBRATIONAL_ANALYSIS\n</code></pre> 2. \u5728CP2K INPUT / VIBRATIONAL_ANALYSIS\u4e0b</p> <pre><code>&amp;VIBRATIONAL_ANALYSIS\n  NPROC_REP 192  # \u603b\u6838\u6570=\u8282\u70b9\u6570*\u6838\u6570\uff08\u901a\u5e38\u4e0e\u63d0\u4ea4\u4f5c\u4e1acp2k.lsf\u6587\u4ef6\u4e2d\u7684\u6838\u6570\u4e00\u81f4\uff09\n  DX 0.02\n  FULLY_PERIODIC\n  &amp;PRINT\n    &amp;MOLDEN_VIB\n    &amp;END\n    &amp;CARTESIAN_EIGS\n    &amp;END\n    &amp;PROGRAM_RUN_INFO\n      &amp;EACH\n        REPLICA_EVAL 1\n      &amp;END\n    &amp;END\n  &amp;END PRINT\n&amp;END VIBRATIONAL_ANALYSIS\n</code></pre> <ol> <li>\u5728CP2K INPUT / MOTION\u4e0b</li> </ol> <pre><code>&amp;MOTION\n  &amp;CONSTRAINT\n    &amp;FIXED_ATOMS\n      LIST 1..320 # \u8ba1\u7b97\u65f6\u9700\u8981\u56fa\u5b9a\u7684\u65e0\u5173\u539f\u5b50\u5bf9\u5e94\u7684\u5e8f\u53f7\n    &amp;END\n  &amp;END\n&amp;END MOTION\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-zpe/#cp2k-frequency","title":"CP2K Frequency\u8ba1\u7b97\u7ed3\u679c\u68c0\u67e5","text":"<p>\u6b63\u5e38\u8ba1\u7b97\u7ed3\u675f\u4f1a\u8f93\u51faproject-VIBRATIONS-1.mol\u6587\u4ef6,\u91cc\u9762[FREQ]\u6a21\u5757\u5373\u4e3a\u8ba1\u7b97\u5f97\u5230\u7684frequence(unit:\\(cm^{-1}\\))</p> <pre><code>[FREQ]\n      204.783042\n      296.784083\n      379.892297\n      414.559665\n      913.554709\n     3650.225071\n</code></pre> <p>\u5728CP2K\u8ba1\u7b97NEB\u7684\u8fc7\u7a0b\u4e2d\u5bfb\u627e\u8fc7\u5ea6\u6001\u65f6\uff0c\u8fc7\u6e21\u6001\u7684Frequence\u4e2d\u4f1a\u6709\u865a\u9891\uff0c\u5bf9\u5e94\u8d1f\u503c\uff1a</p> <pre><code>[FREQ]\n     -150.004617\n       76.011787\n       90.652110\n      105.659737\n      114.363774\n      118.342870\n      125.738357\n      \u2026\u2026\n</code></pre>"},{"location":"wiki/software_usage/cp2k/cp2k-zpe/#zpe_1","title":"ZPE\u6c42\u89e3","text":"<p>\\(ZPE=\\sum_{i=0}^{3N}\\frac{\\hbar\\omega_i}{2}\\)</p> <p>CP2K\u8ba1\u7b97\u5f97\u5230\u7684Frequence\u662f\u6ce2\u957f\u7684\u5012\u6570\\(\\frac{1}{\\lambda}\\),\u5355\u4f4d\u4e3a\\(cm^{-1}\\),\u6839\u636e\\(\\frac{1}{\\omega}=\\frac{\\lambda}{c}\\)\u53ef\u4ee5\u8ba1\u7b97\u5f97\u5230\u632f\u52a8\u9891\u7387\\(\\omega\\)\uff1b</p> <p>N\u5bf9\u5e94\u8ba1\u7b97\u7684\u539f\u5b50\u4e2a\u6570\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k-zpe/#_2","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>(1) \u7531\u4e8ePBC\u6761\u4ef6\u7684\u9650\u5236\uff0cCP2K\u7684Frequence\u8ba1\u7b97\u7ed3\u679c\u4e2d\u4e0d\u5305\u542b\u5e73\u52a8\u9891\u7387\uff0c\u662f\u5426\u5305\u542b\u8f6c\u52a8\u9891\u7387\u53d6\u51b3\u4e8e\u4f53\u7cfb\u7684\u72b6\u6001(CONSTRAINT)\uff0c\u901a\u5e38\u632f\u52a8\u9891\u7387\u8fdc\u5927\u4e8e\u8f6c\u52a8\u9891\u7387\u3002</p> <p>(2) \u8ba1\u7b97\u771f\u7a7a\u4e2d\u4e00\u4e2a\u5206\u5b50\u7684Frequence\u65f6\uff0c\u8981\u53bb\u9664\u76d2\u5b50\u6240\u6709\u65b9\u5411\u7684\u5468\u671f\u6027\uff0c\u901a\u5e38\u53ef\u4ee5\u7528\\(20\u00c5\\times20\u00c5\\times20\u00c5\\)\u7684\u76d2\u5b50\u8fdb\u884c\u6d4b\u8bd5\u3002</p> <p>(3) \u4f7f\u7528CP2K\u8ba1\u7b97\u4e00\u4e2a\u7a33\u5b9a\u7ed3\u6784\u5f0f\u7684\u9891\u7387\u65f6\uff0c\u4e5f\u5e38\u4f1a\u51fa\u73b0\u591a\u4e2a\u865a\u9891\u3002\u8fd9\u662fCP2K\u8ba1\u7b97\u4f7f\u7528GTH\u8d5d\u52bf\u65f6\u5b58\u5728\u7684\u4e00\u4e2a\u95ee\u9898\u3002\u8be6\u7ec6\u5185\u5bb9\u8bf7\u53c2\u8003(https://groups.google.com/forum/?fromgroups#!topic/cp2k/DVCV0epl7Wo)</p> <p>\u89e3\u51b3\u65b9\u6848\u6709\u56db\u79cd\uff1a</p> <p>a. \u4f7f\u7528NLCC\u8d5d\u52bf(http://arxiv.org/abs/1212.6011)\u3002\u4e0d\u8fc7NLCC\u8d5d\u52bf\u5f88\u4e0d\u5b8c\u6574\uff0c\u53ea\u6709B-Cl\u7684\u5143\u7d20\u6709\uff0c\u4e14\u53ea\u63d0\u4f9b\u4e86PBE\u6cdb\u51fd\u7684\u8d5d\u52bf\u3002</p> <p>b. \u589e\u5927CUTOFF\uff0c\u4f7f\u7528600 Ry\u4ee5\u4e0a\u7684CUTOFF\u3002</p> <p>c. \u5728XC_GRID\u90e8\u5206\u4f7f\u7528\u5e73\u6ed1\u53c2\u6570SMOOTING\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528\u3002</p> <p>d. \u5728XC_GRID\u90e8\u5206\u4f7f\u7528USE_FINER_GRID\u3002\u52a0\u4e0a\u8fd9\u4e2a\u53c2\u6570\u540e\uff0cXC\u90e8\u5206\u7684\u683c\u70b9\u7684\u7cbe\u5ea6\u63d0\u9ad8\u4e3a4*CUTOFF\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k/","title":"CP2K \u5165\u95e8","text":""},{"location":"wiki/software_usage/cp2k/cp2k/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ul> <li>\u8bbe\u7f6eCP2K\u73af\u5883\u53d8\u91cf</li> <li>\u4e66\u5199CP2K\u7684\u8f93\u5165\u6587\u4ef6</li> <li>\u68c0\u67e5CP2K\u8f93\u5165\u6587\u4ef6</li> <li>\u5355\u70b9\u80fd\u8ba1\u7b97</li> <li>\u7ed3\u6784\u4f18\u5316</li> <li>\u5206\u5b50\u52a8\u529b\u5b66</li> </ul>"},{"location":"wiki/software_usage/cp2k/cp2k/#cp2k_1","title":"CP2K\u7684\u7279\u8272","text":"<p>CP2K\u540c\u65f6\u4f7f\u7528\u4e86\u5e73\u9762\u6ce2\u57fa\u7ec4\u548c\u9ad8\u65af\u57fa\u7ec4\uff0c\u56e0\u6b64\u53ef\u4ee5\u5728\u5085\u7acb\u53f6\u7a7a\u95f4\u91cc\u63cf\u8ff0\u957f\u7a0b\u4f5c\u7528\u529b\u548c\u5b9e\u7a7a\u95f4\u91cc\u63cf\u8ff0\u5c40\u57df\u7684\u6ce2\u51fd\u6570\u3002\u4f7f\u7528CP2K\u8fdb\u884c\u5206\u5b50\u52a8\u529b\u5b66(MD)\u8fd0\u7b97\u6548\u7387\u5f88\u9ad8\u3002CP2K\u4f7f\u7528\u4e86\u5355k\u70b9\u7684\u8ba1\u7b97\u65b9\u5f0f\uff0c\u53c8\u79f0\u4e3agamma approximation\uff0c\u56e0\u6b64\u5728\u65e9\u671fCP2K\u7248\u672c\u4e2d\u6ca1\u6709K\u70b9\u7684\u8bbe\u7f6e\u3002\u8fd1\u5e74\u4ec5\u5728\u5355\u70b9\u80fd\u4e2d\u52a0\u5165\u4e86k\u70b9\u7684\u8ba1\u7b97\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#set-env","title":"\u8bbe\u7f6eCP2K\u73af\u5883\u53d8\u91cf","text":""},{"location":"wiki/software_usage/cp2k/cp2k/#basispseudopotential","title":"\u54ea\u91cc\u83b7\u53d6Basis\u548cPseudoPotential\u6587\u4ef6","text":"<p>Github</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#_2","title":"\u7701\u7565\u8def\u5f84","text":"<p>CP2K\u9700\u8981\u7528\u5230\u8d5d\u52bf\u548c\u57fa\u7ec4\u6587\u4ef6\u3002\u5047\u8bbe\u8fd9\u4e9b\u6587\u4ef6\u90fd\u5b58\u5728\u4e8e\u76ee\u5f55<code>/somewhere/basis/</code>\u4e0b\u3002\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf<code>CP2K_DATA_DIR</code>\u6765\u8ba9CP2K\u81ea\u5df1\u627e\u5230\u6587\u4ef6\u3002</p> <p>\u6253\u5f00\u81ea\u5df1\u7684 <code>~/.bashrc</code>\u6587\u4ef6. \u6dfb\u52a0\u4ee5\u4e0b\u547d\u4ee4</p> <pre><code>export CP2K_DATA_DIR=/somewhere/basis/\n</code></pre> <p>\u4e4b\u540e\u5728\u4f7f\u7528\u8d5d\u52bf\u548c\u57fa\u7ec4\u65f6\u53ef\u4ee5\u76f4\u63a5\u5199\u6587\u4ef6\u540d\u5b57\u800c\u4e0d\u9700\u8981\u6307\u51fa\u8def\u5f84\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#cp2k_2","title":"\u4e66\u5199CP2K\u8f93\u5165\u6587\u4ef6","text":"<p>CP2K\u8f93\u5165\u6587\u4ef6\u7684\u4e66\u5199\u5728CP2K\u5b98\u7f51\u4e2d\u6709\u8bb8\u591a\u4f8b\u5b50\uff0c\u8bf7\u5927\u5bb6\u81ea\u5df1\u4e0a\u7f51\u5b66\u4e60\u3002</p> <p>\u9664\u4e86\u7b80\u5355\u7684SECTION, VALUE\u7684\u4e66\u5199\u5f62\u5f0f\u4ee5\u5916\uff0cCP2K\u8fd8\u63d0\u4f9b\u4e86\u4e00\u4e9b\u7b80\u5355\u7684\u53d8\u91cf\u8bbe\u7f6e\u6761\u4ef6\u5224\u65ad\u7b49\u8bbe\u5b9a\u65b9\u5f0f\uff0c\u5177\u4f53\u53c2\u8003CP2K\u8f93\u5165\u53c2\u8003\u624b\u518c\u3002</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#_3","title":"\u4ec0\u4e48\u662f\u597d\u7684\u8f93\u5165\u6587\u4ef6\u4e60\u60ef?","text":"<p>CP2K\u7684\u8f93\u5165\u6587\u4ef6\u53c2\u6570\u8bbe\u7f6e\u7e41\u6742\uff0c\u5f80\u5f80\u6211\u4eec\u662f\u7b2c\u4e00\u6b21\u4ece\u5934\u5230\u4f4d\u5199\u4e00\u904d\u6216\u8005\u76f4\u63a5\u62ff\u522b\u4eba\u7684input\u4fee\u6539\u540e\u8fdb\u884c\u4f7f\u7528\u3002\u4f46\u662f\u8fd9\u6837\u4f1a\u9020\u6210\u4e66\u5199\u9519\u8bef\u6216\u8005\u8bbe\u7f6e\u9519\u8bef\u9891\u7e41\u53d1\u751f\u3002\u63d0\u4ea4\u8d85\u7b97\u4e4b\u540e\u88ab\u9000\u56de\u6765\u7684\u8bdd\u6392\u961f\u65f6\u95f4\u5c31\u6d6a\u8d39\u4e86\u3002\u5728\u6b64\u7b14\u8005\u6709\u51e0\u4e2a\u5efa\u8bae\uff1a</p> <ol> <li>\u4f7f\u7528<code>cp2k.popt -c input.inp</code> \u68c0\u67e5\u8f93\u5165\u6587\u4ef6\u7684\u8bed\u6cd5</li> <li>\u4f7f\u7528\u6ce8\u91ca(#)\u6765\u63d0\u9192\u8f93\u5165\u6587\u4ef6\u7684\u8bbe\u7f6e</li> <li>\u4f7f\u7528\u53d8\u91cf\u548c\u6761\u4ef6\u5224\u65ad\u6765\u7b80\u5355\u7684\u5f00\u5173CP2K\u7684\u529f\u80fd</li> </ol> <pre><code>#a good example of input file\n#set variable and condition to open/close section in CP2K\n#if variable is 0 in condition, it is false, otherwise it is true\n@SET HSE06 0\n\n########## This part is HSE06 ##########\n@IF ${HSE06}\n            &amp;XC_FUNCTIONAL\n                &amp;PBE\n                    SCALE_X 0.0\n                    SCALE_C 1.0\n                &amp;END PBE\n                &amp;XWPBE\n                    SCALE_X -0.25\n                    SCALE_X0 1.0\n                    OMEGA 0.11\n                &amp;END XWPBE\n            &amp;END XC_FUNCTIONAL\n            &amp;HF\n                &amp;SCREENING\n                    EPS_SCHWARZ 1.0E-6\n                    SCREEN_ON_INITIAL_P FALSE\n                &amp;END SCREENING\n                &amp;INTERACTION_POTENTIAL\n                    POTENTIAL_TYPE SHORTRANGE\n                    OMEGA 0.11\n                    T_C_G_DATA t_c_g.dat\n                &amp;END INTERACTION_POTENTIAL\n                &amp;MEMORY\n                    MAX_MEMORY 10000\n                    EPS_STORAGE_SCALING 0.1\n                &amp;END MEMORY\n                &amp;PERIODIC\n                     NUMBER_OF_SHELLS 0\n                &amp;END PERIODIC\n                FRACTION 0.25\n            &amp;END HF\n@ENDIF\n</code></pre> <p>Warning</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#input","title":"\u6ce8\u91ca\u8981\u5355\u72ec\u5360\u4e00\u884c\uff0c\u4ee3\u7801\u548c\u6ce8\u91ca\u6df7\u5408\u4f1a\u5bfc\u81f4input\u8bfb\u5165\u9519\u8bef","text":""},{"location":"wiki/software_usage/cp2k/cp2k/#cp2k_3","title":"\u68c0\u67e5CP2K\u8f93\u5165\u6587\u4ef6","text":"<p>\u5728\u670d\u52a1\u5668\u4e0a\uff0c\u9700\u8981\u901a\u8fc7<code>module load cp2k/\u7248\u672c\u53f7</code> \u6765\u542f\u52a8CP2K\u8f6f\u4ef6\u3002Load\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528<code>cp2k.popt</code>\u547d\u4ee4\uff0c\u8fd9\u662fCP2K\u8f6f\u4ef6\u7684\u4e3b\u8981\u7a0b\u5e8f\u3002</p> <p>CP2K\u7684\u8ba1\u7b97\u8fd0\u884c\u662f</p> <pre><code>cp2k.popt input.inp &gt; output\n</code></pre> <p>\u5f53\u7136\u5728\u670d\u52a1\u5668\u4e0a\u9700\u8981\u901a\u8fc7\u63d0\u4ea4\u811a\u672c\u6765\u6267\u884c\u547d\u4ee4\u3002</p> <p>\u7531\u4e8eCP2K\u8f93\u5165\u6587\u4ef6\u6709\u65f6\u8f83\u4e3a\u5e9e\u5927\uff0c\u7ecf\u5e38\u4f1a\u6709\u8bef\u5199\u6216\u8005\u8bed\u6cd5\u9519\u8bef\u7684\u60c5\u51b5\u53d1\u751f\uff0c\u4e3a\u4e86\u907f\u514d\u63d0\u4ea4\u4e4b\u540e\u88ab\u9000\u56de\u6765\uff0c\u53ef\u4ee5\u5148\u4f7f\u7528\u547d\u4ee4\u68c0\u67e5:</p> <pre><code>cp2k.popt -c input.inp\n</code></pre> <p>Warning</p> <p>cp2k.popt -c \u4ec5\u68c0\u67e5\u662f\u5426\u6709\u8bed\u6cd5\u9519\u8bef\uff0c\u5b9e\u9645\u8fd0\u884c\u7684\u9519\u8bef\u4e0d\u4f1a\u68c0\u67e5\u51fa\u6765</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#_4","title":"\u5355\u70b9\u80fd\u8ba1\u7b97","text":"<p>\u53c2\u89c1\u5b98\u7f51\u7684\u4f8b\u5b50: CP2K\u80fd\u91cf\u548c\u529b\u7684\u8ba1\u7b97</p> <p>\u53c2\u89c1\u5b98\u7f51\u7684\u4f8b\u5b50: CP2K\u4e2dCUTOFF\u548cREL_CUTOFF\u7684\u6d4b\u8bd5</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#_5","title":"\u7ed3\u6784\u4f18\u5316","text":"<p>\u5efa\u8bbe\u4e2d</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#_6","title":"\u5206\u5b50\u52a8\u529b\u5b66","text":"<p>\u5efa\u8bbe\u4e2d</p>"},{"location":"wiki/software_usage/cp2k/cp2k/#cp2k_4","title":"CP2K\u7684\u4e00\u4e9b\u5e38\u7528\u5de5\u5177","text":"<p>CP2K Vim input \u63d2\u4ef6</p>"},{"location":"wiki/teamwork/archive_rules/","title":"\u5982\u4f55\u5f52\u6863/\u6574\u7406\u9879\u76ee\u6587\u4ef6","text":""},{"location":"wiki/teamwork/archive_rules/#_2","title":"\u6570\u636e\u6574\u7406\u7684\u5fc5\u8981\u6027","text":"<p>\u4e3a\u4e86\u80fd\u8ba9\u63a5\u6536\u9879\u76ee\u7684\u4eba\uff0c\u4ee5\u53ca\u7ec4\u91cc\u5176\u4ed6\u4eba\u7684\u6570\u636e\u80fd\u591f\u76f8\u4e92\u53c2\u8003\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u91cd\u590d\u8ba1\u7b97\u548c\u6d6a\u8d39\u3002\u6211\u4e0e\u4e91\u9708\u603b\u7ed3\u4e86\u4e00\u4e9b\u7b80\u5355\u7684\u6574\u7406\u89c4\u5219\u3002</p>"},{"location":"wiki/teamwork/archive_rules/#_3","title":"\u6570\u636e\u6574\u7406\u7684\u89c4\u5219","text":""},{"location":"wiki/teamwork/archive_rules/#1","title":"\u89c4\u52191:","text":"<p>\u4ee5\u9879\u76ee\u540d\u79f0\u547d\u540d\u5927\u6587\u4ef6\u5939\u3002\u4f8b\uff1aSnO2110\u9762\u7684\u673a\u5668\u5b66\u4e60</p> <pre><code>SnO2110-ML #\u9879\u76ee\u6587\u4ef6\u540d\n</code></pre>"},{"location":"wiki/teamwork/archive_rules/#2","title":"\u89c4\u52192:","text":"<p>\u4ee5 \u6570\u5b57 \u4f5c\u4e3a\u76ee\u5f55\u540d\u524d\u7f00\uff0c\u4ee5\u4e0b \u5212\u7ebf\u547d\u540d\u6cd5 \u6765\u7ed9\u76ee\u5f55\u547d\u540d\u3002</p> <p>\u56e0\u4e3a\u8ba1\u7b97\u5fc5\u5b9a\u4f34\u968f\u7740 \u76ee\u7684\uff0c\u6240\u4ee5\u76ee\u5f55\u540d\u4ee5\u8ba1\u7b97\u7684 \u76ee\u7684 \u6765\u547d\u540d\u3002</p> <p>\u6570\u5b57 \u53ef\u4ee5\u4f7f\u76ee\u5f55\u6309\u7167\u81ea\u5df1\u7684\u610f\u5fd7\u6765\u6392\u5e8f\uff0c \u4e0b\u5212\u7ebf\u547d\u540d\u6cd5 \u53ef\u4ee5\u6709\u6548\u7684\u9605\u8bfb\u3002\u4f8b\uff1a</p> <pre><code>./SnO2110-ML\n\u251c\u2500\u2500 00.train_set #\u653e\u8bad\u7ec3\u96c6\n\u251c\u2500\u2500 01.train_set_test #\u505a\u8bad\u7ec3\u96c6\u6d4b\u8bd5\n\u251c\u2500\u2500 02.DP_Pots #\u653e\u673a\u5668\u5b66\u4e60\u52bf\u80fd\n\u251c\u2500\u2500 03.dissociation #\u8ba1\u7b97\u89e3\u79bb\u5ea6\n\u251c\u2500\u2500 04.surface_tension #\u8ba1\u7b97\u8868\u9762\u5f20\u529b\n</code></pre> <p>\u6ce8\u610f\uff1a\u518d\u6b21\u4e00\u7ea7\u76ee\u5f55\u53ef\u4e0d\u6309\u7167\u4ee5\u4e0a\u65b9\u6cd5\u6765\u547d\u540d\uff0c\u5c3d\u91cf\u4f7f\u7528 \u4e0b\u5212\u7ebf\u547d\u540d\u6cd5 \u5373\u53ef\u3002</p>"},{"location":"wiki/teamwork/archive_rules/#3","title":"\u89c4\u52193:","text":"<p>\u5bf9\u4e8e \u4f5c\u56fe\u7c7b\u7684\u76ee\u5f55\uff0c\u8981\u4fdd\u7559\u4f5c\u56fe\u7684 \u6570\u636e\uff0c\u539f\u59cb\u811a\u672c \u548c \u4f5c\u51fa\u6765\u7684\u56fe\u3002\u4f8b\uff1a</p> <pre><code>01.train_set_test\n\u251c\u2500\u2500 TrainSetEnergy.pdf #\u4f5c\u51fa\u6765\u7684\u56fe\n\u251c\u2500\u2500 TrainSetForce.png #\u4f5c\u51fa\u6765\u7684\u56fe\n\u251c\u2500\u2500 TrainingSetError.py #\u5904\u7406\u4f5c\u56fe\u7684\u811a\u672c \u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\uff01\n\u251c\u2500\u2500 e.out #\u4f5c\u56fe\u7684\u539f\u59cb\u6570\u636e\n\u2514\u2500\u2500 f.out #\u4f5c\u56fe\u7684\u539f\u59cb\u6570\u636e\n</code></pre> <p>\u5bf9\u4e8e \u8ba1\u7b97\u7c7b\u7684\u76ee\u5f55\uff0c\u8981\u4fdd\u7559 \u5fc5\u8981\u7684\u8f93\u51fa\u6587\u4ef6 \u548c \u8f93\u5165\u6587\u4ef6\u3002\u4f8b\uff1a</p> <pre><code>02.DP_Pots #\u653e\u673a\u5668\u5b66\u4e60\u52bf\u80fd\n\u251c\u2500\u2500 v1.0 #\u7248\u672c\u53f7\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 graph.000.pb #\u52bf\u80fd\u51fd\u6570\uff0c\u8f93\u51fa\u6587\u4ef6\u7684\u4e00\u79cd\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 graph.001.pb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 graph.002.pb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 graph.003.pb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 input.000.json #\u5bf9\u5e94\u7684\u8f93\u5165\u6587\u4ef6\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 input.001.json\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 input.002.json\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 input.003.json\n\u251c\u2500\u2500 v1.2\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 graph.000.pb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 graph.001.pb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 graph.002.pb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 graph.003.pb\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 input.000.json\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 input.001.json\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 input.002.json\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 input.003.json\n\u2514\u2500\u2500 v1.3\n    \u251c\u2500\u2500 README\n    \u251c\u2500\u2500 graph.000.pb\n    \u251c\u2500\u2500 graph.001.pb\n    \u251c\u2500\u2500 graph.002.pb\n    \u2514\u2500\u2500 graph.003.pb\n</code></pre>"},{"location":"wiki/teamwork/archive_rules/#4","title":"\u89c4\u52194:","text":"<p>\u5728\u6587\u4ef6\u5939\u91cc\u653e\u5165\u5fc5\u8981\u7684\u8bf4\u660e\u6587\u4ef6\uff0c\u4f8b\u5982 README</p> <pre><code>\u2514\u2500\u2500 v1.3\n    \u251c\u2500\u2500 README #\u5fc5\u8981\u7684\u8bf4\u660e\u6587\u4ef6\uff0c\u63a8\u8350\u4f7f\u7528markdown\u8bed\u8a00\u4e66\u5199\n    \u251c\u2500\u2500 graph.000.pb\n    \u251c\u2500\u2500 graph.001.pb\n    \u251c\u2500\u2500 graph.002.pb\n    \u2514\u2500\u2500 graph.003.pb\n</code></pre> <pre><code># README\n converted from v1.2 pot\n compress input use that v1.2 training input\n</code></pre>"},{"location":"wiki/teamwork/git_usage/","title":"Git \u57fa\u672c\u4f7f\u7528\u6559\u7a0b","text":"<p>Git\u662f\u76ee\u524d\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684\u5206\u5e03\u5f0f\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff08\u6ca1\u6709\u4e4b\u4e00\uff09\u2014\u2014 \u5ed6\u96ea\u5cf0</p> <p>\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u5feb\u901f\u8bc6\u522b\u3001\u6574\u7406\u9879\u76ee\u7684\u4fee\u6539\u7b49\uff0c\u907f\u514d\u51fa\u73b0\u8bf8\u5982 \"\u65b0\u5efa\u6587\u672c\u6587\u4ef6_by\u6d69\u4e8c-\u7b2c19\u7248_\u4fee\u6539190810-v114.514 - \u526f\u672c(9).txt\" \u7b49\u4ee4\u4eba\u8840\u538b\u4e0a\u5347\u3001\u5455\u5410\u4e0d\u6b62\u7684\u60c5\u51b5\u3002</p> <p>Git\u4f5c\u4e3a\u5f00\u6e90\u793e\u533a\u5e38\u7528\u7684\u7248\u672c\u63a7\u5236\u7cfb\u7edf\uff0c\u6709\u7740\u5f3a\u5927\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u5e2e\u52a9\u7528\u6237\u7ba1\u7406\u4ee5\u6587\u672c\uff08\u5982\u4ee3\u7801\u7b49\uff09\u4e3a\u4e3b\u7684\u9879\u76ee\u3002\u5f53\u7136\u5bf9\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u4f8b\u5982docx\u3001pptx\u7b49\uff0cGit\u7684\u652f\u6301\u5c1a\u4e0d\u591f\u5b8c\u5584\uff0c\u52a0\u4e0a\u670d\u52a1\u5668\u4f17\u6240\u5468\u77e5\u7684\u539f\u56e0\uff0c\u56e0\u800c\u4e0d\u5efa\u8bae\u628aGithub\u5f53\u6210\u7f51\u76d8\u4f7f\u7528\u3002</p> <p>\u76ee\u524d\u7ec4\u5185\u6709\u5173\u673a\u5668\u5b66\u4e60\u3001\u81ea\u52a8\u5316\u7684\u5de5\u4f5c\u9010\u6e10\u589e\u591a\uff0c\u9700\u8981\u4ee3\u7801\u5171\u4eab\u548c\u534f\u540c\u7684\u573a\u5408\u9010\u6e10\u589e\u52a0\u3002\u53e6\u4e00\u65b9\u9762\uff0c\u57fa\u4e8e LaTeX \u7b49\u6807\u8bb0\u8bed\u8a00\u7684\u8bba\u6587\u5199\u4f5c\uff0c\u5176\u5176\u5b9e\u8d28\u4e0a\u5bf9\u4e5f\u662f\u6587\u672c\u6587\u4ef6\u7684\u5904\u7406\u3002\u4f46\u9274\u4e8e Git \u7684\u5165\u95e8\u548c\u4f7f\u7528\u5c1a\u6709\u4e00\u5b9a\u95e8\u69db\uff0c\u9700\u8981\u4e00\u4e9b\u57fa\u7840\u547d\u4ee4\u7684\u5165\u95e8\u3002\u56e0\u800c\u5199\u4e0b\u8fd9\u7bc7\u6587\u5b57\uff0c\u6574\u7406\u4e00\u4e9b\u5e38\u7528\u7684Git\u64cd\u4f5c\uff0c\u9650\u4e8e\u7bc7\u5e45\u548c\u6c34\u5e73\uff0c\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u7f3a\u6f0f\uff0c\u8fd8\u8bf7\u6307\u6b63\u3002</p> <p>\u672c\u6587\u5c06\u957f\u671f\u66f4\u65b0\uff0c\u4e0d\u5b9a\u671f\u6536\u5f55\u4e00\u4e9b\u5c0f\u6545\u4e8b\u5c0fTrick\u3002</p>"},{"location":"wiki/teamwork/git_usage/#_1","title":"\u9879\u76ee\u521b\u5efa","text":""},{"location":"wiki/teamwork/git_usage/#github","title":"\u57fa\u4e8e Github \u521b\u5efa\u9879\u76ee","text":"<p>\u9996\u5148\u6ce8\u518c Github \u8d26\u53f7\uff0c\u8fd9\u91cc\u4e0d\u4f5c\u8d58\u8ff0\u3002</p> <p>\u63d0\u793a</p> <p>\u82e5\u6b63\u5728\u9605\u8bfb\u672c\u6587\u7684\u8bfb\u8005\u662f\u5728\u6821\u5e08\u751f\uff0c\u53ef\u901a\u8fc7 Github \u5b98\u65b9\u6e20\u9053 \u7533\u8bf7\u6210\u4e3a\u6821\u56ed\u4e13\u4e1a\u7528\u6237\uff08Campus Expert\uff09\uff0c\u4ece\u800c\u53ef\u4ee5\u514d\u8d39\u4f7f\u7528\uff08\u767d\u5ad6\uff09\u4e13\u4e1a\u7248\u7279\u6027\uff0c\u5e76\u4eab\u53d7\u4e00\u7cfb\u5217\u4f18\u60e0\uff08\u5305\u62ecPycharm\u4e13\u4e1a\u7248\u7b49\uff0c\u8be6\u89c1\u5b98\u7f51\u4ecb\u7ecd\uff09\u3002\u5f53\u7136\u8fd9\u4e0d\u5f71\u54cd\u6211\u4eec\u540e\u6587\u7684\u64cd\u4f5c\uff0c\u8bfb\u8005\u53ef\u4ee5\u7a0d\u540e\u7533\u8bf7\u3002\u6ce8\u610f\u7533\u8bf7\u7684IP\u9700\u8981\u4f4d\u4e8e\u6821\u56ed\u7f51\u73af\u5883\u5185\uff0c\u5e76\u4e14\u6700\u597d\u4fdd\u8bc1IP\u5b9a\u4f4d\u5728\u6821\u533a\u8303\u56f4\u5185\u4ee5\u514d\u51fa\u73b0\u9519\u8bef\u8bc6\u522b\u5bfc\u81f4\u7533\u8bf7\u5931\u8d25\u3002\u4f8b\u5982\u53a6\u95e8\u5927\u5b66\u66fe\u5448\u594e\u697c\u4e0d\u4f4d\u4e8eGithub\u8ba4\u53ef\u7684\u6821\u533a\u8303\u56f4\u5185\uff0c\u8bf7\u6700\u597d\u5230\u5316\u5b66\u697c\u3001\u5362\u5609\u9521\u697c\u3001\u56fe\u4e66\u9986\u7b49\u5730\u7533\u8bf7\u3002\u7533\u8bf7\u65f6\u53ef\u80fd\u9700\u8981\u63d0\u4f9b\u5b66\u6821\u90ae\u7bb1\u3001\u5b66\u751f\u5361\u7167\u7247\u4fe1\u606f\u7b49\uff0c\u8bf7\u6309\u7167\u76f8\u5e94\u63d0\u793a\u64cd\u4f5c\u3002</p> <p>\u5b8c\u6210\u6ce8\u518c\u5230\u8fbe\u9996\u9875\uff0c\u4fbf\u53ef\u4ee5\u770b\u5230\u5982\u56fe\u7684\u6309\u94ae\uff0c\u70b9\u51fb\"New\"\u5373\u53ef\u521b\u5efa\u4e00\u4e2a\u4ed3\u5e93\uff08Repository\uff09\u3002</p> <p></p> <p>\u968f\u540e\u4fbf\u51fa\u73b0\u5982\u4e0b\u56fe\u7684\u754c\u9762\uff0c\u53ef\u4ee5\u9009\u62e9\u8bbe\u7f6e\u8be5\u4ed3\u5e93\u7684\u5f52\u5c5e\uff08Owner\uff09\u3001\u540d\u79f0\uff08Repository name\uff09\u3001\u8bf4\u660e\uff08Description\uff09\u3001\u6743\u9650\u7b49\u3002\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u516c\u5171\u4ed3\u5e93\uff08Public\uff09\u7684\u5185\u5bb9\u4efb\u4f55\u4eba\u90fd\u80fd\u770b\u5230\uff0c\u4f46\u63d0\u4ea4\uff08Push\uff09\u9700\u8981\u8bbe\u7f6e\u6743\u9650\uff1b\u800c\u79c1\u6709\u4ed3\u5e93\uff08Private\uff09\u7684\u8bbf\u95ee\u6743\u9650\u53d6\u51b3\u4e8e\u5f52\u5c5e\u8005\uff0c\u82e5\u4e3a\u4e2a\u4eba\u4ed3\u5e93\u9ed8\u8ba4\u4ec5\u81ea\u5df1\u53ef\u89c1\uff0c\u82e5\u4e3a\u7ec4\u7ec7\uff08Organization\uff09\u5219\u4ec5\u8be5\u7ec4\u7ec7\u6210\u5458\u53ef\u89c1\u3002</p> <p></p> <p>\u5c3d\u7ba1\u76f4\u63a5\u70b9\u51fb\u201cCreate repository\u201d\u6211\u4eec\u4fbf\u53ef\u4ee5\u5feb\u901f\u521b\u5efa\u4e00\u4e2a\u4ed3\u5e93\uff0c\u8fd9\u91cc\u63a8\u8350\u6839\u636e\u60c5\u51b5\u9009\u62e9\u662f\u5426\u8981\u521b\u5efa\u8bf4\u660e\u6587\u6863\uff08README file\uff09\u3001\u5ffd\u7565\u4fe1\u606f\uff08.gitignore\uff09\u4ee5\u53ca\u5f00\u6e90\u534f\u8bae\uff08License\uff09\u3002\u5173\u4e8e\u5f00\u6e90\u534f\u8bae\u7684\u8bf4\u660e\uff0c\u8bf7\u70b9\u51fb\"Learn more\"\uff0c\u8fd9\u91cc\u9650\u4e8e\u7bc7\u5e45\u539f\u56e0\u4e0d\u8fc7\u591a\u63cf\u8ff0\u3002</p> <p>\u9700\u8981\u8bf4\u660e\u7684\u662f.gitignore\uff0c\u5982\u56fe\u6240\u793a\uff0c\u53ef\u4ee5\u770b\u5230 Github \u63d0\u4f9b\u4e86\u591a\u79cd\u6a21\u677f\u4f9b\u9009\u62e9\uff0c\u4f8b\u5982\u9700\u8981\u521b\u5efa\u7684\u9879\u76ee\u4ee5Python\u4ee3\u7801\u4e3a\u4e3b\uff0c\u5219\u53ef\u4ee5\u9009\u62e9Python\u3002\u5219\u4ed3\u5e93\u521b\u5efa\u540e\uff0cGit\u5c06\u4e0d\u518d\u8ffd\u8e2a\u6587\u4ef6\u5939\u4e0b\u53ef\u80fd\u5b58\u5728\u7684\u65e5\u5fd7\u6587\u4ef6\u3001\u9884\u7f16\u8bd1\u6587\u4ef6\uff08\u5982.pyc\uff09\u3001Jupyter Notebook\u7f13\u5b58\u7b49\uff0c\u8fd9\u5bf9\u4e8e\u4fdd\u6301\u5de5\u4f5c\u533a\u548c\u4fee\u6539\u4fe1\u606f\u7684\u6e05\u6670\u6709\u5f88\u5927\u5e2e\u52a9\u3002\u5f53\u7136\uff0c\u8fd9\u91cc\u7684\u6a21\u677f\u53ef\u80fd\u65e0\u6cd5\u5305\u542b\u6240\u6709\u9700\u6c42\uff0c\u6545\u4e5f\u53ef\u4ee5\u5148\u521b\u5efa\u4ed3\u5e93\u518d\u6dfb\u52a0\u3002</p> <p>\u4e3a\u4e86\u5408\u4f5c\u7684\u5feb\u6377\u3001\u9632\u6b62\u5728\u63d0\u4ea4\u65f6\u628a\u8fc7\u591a\u65e0\u7528\u6587\u4ef6\u63d0\u4ea4\u5230Git\u4ed3\u5e93\u4e2d\uff0c\u5f3a\u70c8\u63a8\u8350\u5728\u9879\u76ee\u521b\u5efa\u4e4b\u521d\u5c31\u5efa\u7acb.gitignore\u6587\u4ef6\u3002\u540e\u6587\u5c06\u66f4\u52a0\u8be6\u7ec6\u5730\u4ecb\u7ecd\u8fd9\u4e00\u6587\u4ef6\u7684\u7528\u6cd5\u3002</p> <p></p>"},{"location":"wiki/teamwork/git_usage/#_2","title":"\u8fdc\u7a0b\u2194\ufe0e\u672c\u5730","text":"<p>\u5728Github\u4e0a\u521b\u5efa\u9879\u76ee\u540e\uff0c\u4e0b\u4e00\u4e2a\u5173\u5fc3\u7684\u8bae\u9898\u81ea\u7136\u662f\uff0c\u5982\u4f55\u628a\u672c\u5730\u7684\u4ee3\u7801\u4e0a\u4f20\u5230\u8fdc\u7a0b\u3002</p> <p></p> <p>\u76f8\u4fe1\u4e0d\u5c11\u4eba\u5df2\u7ecf\u5bf9\u4e0a\u56fe\u4e2d\u7684\u6309\u94ae \"Add file\" \u8dc3\u8dc3\u6b32\u8bd5\u4e86\uff0c\u70b9\u51fb\u5373\u53ef\u770b\u5230\u4e24\u4e2a\u9009\u9879\uff0c\u5373\u521b\u5efa\u6587\u4ef6\u548c\u4e0a\u4f20\u6587\u4ef6\u3002\u524d\u8005\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u6587\u672c\u6846\u8f93\u5165\u4f60\u60f3\u8981\u5efa\u7acb\u7684\u6587\u5b57\uff0c\u540e\u8005\u5219\u63d0\u4f9b\u4e86\u4e00\u4e2a\u533a\u57df\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u62d6\u52a8\u6587\u4ef6\u624b\u52a8\u4e0a\u4f20\u6216\u8005\u6253\u5f00\u8d44\u6e90\u7ba1\u7406\u5668\u9009\u62e9\u8981\u4e0a\u4f20\u7684\u6587\u4ef6\u3002\u4f46\u5f53\u6587\u4ef6\u8f83\u591a\u3001\u8f83\u5927\u65f6\uff0c\u8fd9\u4e24\u79cd\u65b9\u6cd5\u4fbf\u663e\u5f97\u4e0d\u591f\u4fbf\u6377\u3002\u56e0\u6b64\u8fd9\u91cc\u6211\u4eec\u4ece Git \u547d\u4ee4\u884c\u51fa\u53d1\uff0c\u4ecb\u7ecd\u66f4\u5e38\u7528\u7684\u63d0\u4ea4\u65b9\u5f0f\u3002</p> <p>\u5b9e\u9645\u4e0a Github \u4ec5\u4ec5\u662f\u4e16\u754c\u6700\u5927\u7684 Git \u8fdc\u7a0b\u9879\u76ee\u7ba1\u7406\u5e73\u53f0\uff0cGit \u672c\u8eab\u5219\u4e0d\u4f9d\u8d56\u4e8e Github \u5b58\u5728\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u672c\u5730\u5373\u53ef\u8ffd\u8e2a\u6587\u4ef6\u7684\u4fee\u6539\uff0c\u8fdb\u884c\u7248\u672c\u63a7\u5236\u3002Git\u5728\u672c\u5730\u7684\u5b89\u88c5\u975e\u5e38\u7b80\u5355\uff0c\u7528\u6237\u53ef\u4ee5\u53c2\u7167\u5ed6\u96ea\u5cf0\u8001\u5e08\u7684\u6559\u7a0b\u8fdb\u884c\u3002\u5728\u5b89\u88c5\u7684\u6700\u540e\uff0c\u7528\u6237\u9700\u8981\u8bbe\u7f6e\u81ea\u5df1\u7684\u4fe1\u606f\uff0c\u5373\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002\u4e3a\u4e86\u4f7f\u5728\u8fdc\u7a0b\u7684\u7528\u6237\u4fe1\u606f\u548c\u672c\u5730\u4fdd\u6301\u4e00\u81f4\uff0c\u901a\u5e38\u4e0eGithub\u7684\u7528\u6237\u540d\u548c\u6ce8\u518c\u90ae\u7bb1\u4fdd\u6301\u4e00\u81f4\u3002</p> <pre><code>git config --global user.name \"Your Name\"\ngit config --global user.email \"email@example.com\"\n</code></pre> <p>\u6ce8\u610f<code>git config</code>\u547d\u4ee4\u7684<code>--global</code>\u53c2\u6570\uff0c\u7528\u4e86\u8fd9\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u4f60\u8fd9\u53f0\u673a\u5668\u4e0a\u6240\u6709\u7684Git\u4ed3\u5e93\u90fd\u4f1a\u4f7f\u7528\u8fd9\u4e2a\u914d\u7f6e\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u5bf9\u67d0\u4e2a\u4ed3\u5e93\u6307\u5b9a\u4e0d\u540c\u7684\u7528\u6237\u540d\u548cEmail\u5730\u5740\uff0c\u5373\u53bb\u6389<code>--global</code>\u3002</p> <p>\u5728\u8fdc\u7a0b\u521b\u5efa\u4ed3\u5e93\u540e\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u628a\u8fdc\u7a0b\u7684\u4ed3\u5e93\u62c9\u53d6\uff08Pull\uff09\u5230\u672c\u5730\u3002\u70b9\u51fb\u7eff\u8272\u7684Code\u6309\u94ae\uff0c\u5373\u53ef\u770b\u5230\u5982\u56fe\u7684\u5bf9\u8bdd\u6846\uff0c\u70b9\u51fb\u6587\u672c\u6846\u53f3\u4fa7\u7684\u6309\u94ae\u590d\u5236\u94fe\u63a5\u3002</p> <p></p> <p>\u82e5\u5728\u672c\u5730\u67d0\u4e2a\u76ee\u5f55\u4e0b\uff0c\u8f93\u5165\u5982\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>git clone https://github.com/chenggroup/Test.git\n</code></pre> <p>\u5373\u53ef\u5c06\u8fdc\u7a0b\u4ed3\u5e93\u62c9\u53d6\u5230\u672c\u5730\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a<code>Test</code>\u76ee\u5f55\u7528\u4e8e\u5b58\u653e\u6587\u4ef6\u3002</p> <p>\u5148\u522b\u6025\u7740\u8f93\u5165\u4e0a\u9762\u7684\u547d\u4ee4\u3002\u7531\u4e8e\u5b89\u5168\u6027\u539f\u56e0\uff0cGithub\u5b98\u65b9\u4ece2021\u5e748\u6708\u8d77\u5173\u95ed\u4e86\u901a\u8fc7HTTPS\u534f\u8bae\u76f4\u63a5\u4e0a\u4f20\u63d0\u4ea4\u7684\u529f\u80fd\uff0c\u56e0\u6b64\u8981\u60f3\u4ece\u672c\u5730\u5411\u8fdc\u7a0b\u4e0a\u4f20\u63d0\u4ea4\uff0c\u9700\u8981\u4f7f\u7528SSH\u534f\u8bae\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u8fdb\u884c\u989d\u5916\u914d\u7f6e\uff0c\u8bf7\u53c2\u8003\u5ed6\u96ea\u5cf0\u8001\u5e08\u7684\u6559\u7a0b\u64cd\u4f5c\u3002</p> <p>\u914d\u7f6e\u5b8c\u6210\u540e\uff0c\u5373\u53ef\u7528SSH\u9762\u677f\u91cc\u7684\u94fe\u63a5\u6765\u514b\u9686\uff08Clone\uff09\u8fdc\u7a0b\u4ed3\u5e93\u5230\u672c\u5730\uff1a</p> <p></p> <pre><code>git clone git@github.com:chenggroup/Test.git\n</code></pre> <p>\u6ce8\u610f <code>git clone</code> \u540e\u7684\u94fe\u63a5\u8981\u4fee\u6539\u4e3a\u4f60\u590d\u5236\u7684\u94fe\u63a5\u3002</p> <p>\u968f\u540e <code>cd Test</code> \u8fdb\u5165\u672c\u5730\u4ed3\u5e93\uff0c\u4fbf\u53ef\u4ee5\u5bf9\u672c\u5730\u4ed3\u5e93\u8fdb\u884c\u7f16\u8f91\u3002\u8fd9\u91cc\u6211\u4eec\u7528Vim\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\uff0c\u4e3a\u6f14\u793a\u64cd\u4f5c\u65b9\u4fbf\uff0c\u6587\u4ef6\u540d\u5047\u8bbe\u662f<code>first_commit.txt</code>\uff1a</p> <pre><code>vim first_commit.txt\n</code></pre> <p>\u5728\u6587\u4ef6\u4e2d\u8fdb\u884c\u4e00\u4e9b\u7f16\u8f91\uff0c\u4f8b\u5982\u8f93\u5165\uff1a</p> <pre><code>test\n2021\nfirst commit\n</code></pre> <p>\u5982\u679c\u5c1a\u4e0d\u719f\u6089 Vim \u7684\u64cd\u4f5c\uff0c\u8bf7\u53c2\u8003  Linux\u5165\u95e8\u3002</p> <p>\u4fdd\u5b58\u5e76\u9000\u51fa\uff0c\u8f93\u5165<code>git status</code>\uff0c\u53ef\u4ee5\u770b\u5230\u5df2\u7ecf\u76d1\u6d4b\u5230\u5c1a\u672a\u63d0\u4ea4\u7684\u66f4\u6539\uff1a</p> <pre><code>$ git status\nOn branch master\nYour branch is up to date with 'origin/master'.\n\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n    first_commit.txt\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n</code></pre> <p>\u6ce8\u610f\u8fd9\u91cc\u63d0\u5230\uff0c\u6211\u4eec\u6b63\u5904\u4e8e<code>master</code>\u5206\u652f\u4e0a\uff0c\u5e76\u4e0e\u8fdc\u7a0b\u7684<code>origin/master</code>\u5206\u652f\u4fdd\u6301\u4e00\u81f4\u3002\u8f93\u5165</p> <pre><code>git add .\n</code></pre> <p>\u5373\u53ef\u5c06\u5f53\u524d\u76ee\u5f55\u4e0b\u4fee\u6539\u7684\u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a\uff0c\u53ef\u4f9b\u63d0\u4ea4\u3002\u56e0\u6b64\u8f93\u5165\uff1a</p> <pre><code>git commit -m \"some description\"\n</code></pre> <p>\u5373\u53ef\u751f\u6210\u4e00\u4e2a\u63d0\u4ea4\uff0c\u5305\u542b\u4e86\u4e0a\u8ff0\u6587\u4ef6\u7684\u4fee\u6539\u3002\u8fd9\u91cc<code>some description</code>\u53ef\u4ee5\u53c2\u7167\u81ea\u5df1\u7684\u7f16\u8f91\u8fdb\u884c\u4fee\u6539\u3002</p> <p>\u4f46\u4e0a\u8ff0\u6b65\u9aa4\u4ec5\u4ec5\u662f\u63d0\u4ea4\u5230\u672c\u5730\u7684Git\u4ed3\u5e93\uff0c\u8981\u60f3\u548c\u8fdc\u7a0b\u540c\u6b65\uff0c\u5219\u9700\u8981\uff1a</p> <pre><code>git push origin\n</code></pre> <p>\u5c06\u672c\u5730\u7684\u66f4\u6539\u63d0\u4ea4\u5230\u8fdc\u7a0b\u5bf9\u5e94\u7684\u5206\u652f\uff0c\u5373\u4e0a\u8ff0\u7684<code>origin/master</code>\uff0c\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>$ git push origin\nEnumerating objects: 4, done.\nCounting objects: 100% (4/4), done.\nDelta compression using up to 4 threads\nCompressing objects: 100% (2/2), done.\nWriting objects: 100% (3/3), 309 bytes | 309.00 KiB/s, done.\nTotal 3 (delta 0), reused 0 (delta 0)\nTo github.com:chenggroup/Test.git\n   26c6605..d964d89  master -&gt; master\n</code></pre> <p>\u56de\u5230\u8fdc\u7a0b\u9875\u9762\u5c31\u4f1a\u53d1\u73b0\uff0c\u6211\u4eec\u5df2\u7ecf\u63d0\u4ea4\u6210\u529f\u3002</p> <p></p> <p>\u70b9\u51fb\u8fdb\u5165\uff0c\u5185\u5bb9\u548c\u672c\u5730\u4e00\u81f4\uff1a</p> <p></p> <p>\u4ece\u800c\u6211\u4eec\u53ef\u4ee5\u628a\u672c\u5730\u4ed3\u5e93\u7684\u4fee\u6539\u540c\u6b65\u5230\u8fdc\u7a0b\u3002\u5728<code>git commit</code>\u4e4b\u524d\uff0c\u5b9e\u9645\u4e0a\u4efb\u4f55\u4fee\u6539\u90fd\u53ef\u4ee5\u6dfb\u52a0\u5230\u6682\u5b58\u533a\u4e2d\uff0c\u4f46\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u53ef\u4ee5\u88abTrack\u7684\u6587\u4ef6\u662f\u5426\u662f\u81ea\u5df1\u60f3\u8981\u7684\uff0c\u800c\u4e0d\u8981\u65e0\u8111<code>git add .</code>\u751a\u81f3<code>git add *</code>\uff0c\u4ee5\u514d\u8ffd\u8e2a\u5230\u4e00\u4e9b\u201c\u4e0d\u901f\u4e4b\u5ba2\u201d\u3002</p>"},{"location":"wiki/teamwork/git_usage/#_3","title":"\u9879\u76ee\u7ef4\u62a4","text":""},{"location":"wiki/teamwork/git_usage/#_4","title":"\u5206\u652f","text":"<p>\u5982\u679c\u9879\u76ee\u672c\u8eab\u5185\u5bb9\u8f83\u591a\uff0c\u4e14\u7531\u591a\u4e2a\u4eba\u7ef4\u62a4\uff0c\u5c06\u6240\u6709\u63d0\u4ea4\u90fd\u653e\u5230\u540c\u4e00\u6761\u65f6\u95f4\u7ebf\u4e0a\uff0c\u5c31\u4f1a\u5f62\u6210\u975e\u5e38\u957f\u7684\u4fee\u6539\uff0c\u4e0d\u5229\u4e8e\u6bcf\u4e2a\u4eba\u8ffd\u8e2a\u81ea\u5df1\u7684\u4fee\u6539\u3002\u5e76\u4e14\u6709\u65f6\u4f1a\u5e0c\u671b\u5728\u91cd\u6784\u7684\u540c\u65f6\uff0c\u4fdd\u6301\u4e3b\u7ebf\u5b8c\u6574\u6027\u3002\u8fd9\u4e00\u9700\u6c42\u53ef\u7531Git\u8f7b\u677e\u89e3\u51b3\u3002</p> <p>Git\u652f\u6301\u521b\u5efa\u5206\u652f\uff08Branch\uff09\uff0c\u5373\u53ef\u4ee5\u4ece\u4e3b\u7ebf\u5206\u652f\u51fa\u4e00\u4e2a\u72ec\u7acb\u7684Branch\uff0c\u5e76\u5728\u8be5Branch\u4fee\u6539\uff0c\u901a\u8fc7\u540e\u518d\u5408\u5e76\uff08Merge\uff09\u5230\u4e3b\u7ebf\u4e0a\u3002\u8fd9\u6837\uff0c\u4fbf\u53ef\u4ee5\u5728\u4e0d\u5e72\u6d89\u4e3b\u7ebf\u7684\u60c5\u51b5\u5bf9\u5206\u652f\u8fdb\u884c\u7ef4\u62a4\u548c\u4fee\u6539\u3002\u5e76\u4e14\u6bcf\u4e2a\u4eba\u90fd\u53ef\u4ee5\u521b\u5efa\u81ea\u5df1\u7684\u72ec\u7acb\u5206\u652f\uff0c\u4ece\u800c\u907f\u514d\u5404\u81ea\u7684\u4fee\u6539\u4e4b\u95f4\u51fa\u73b0\u51b2\u7a81\uff0c\u5bfc\u81f4\u6df7\u4e71\u3002</p> <p>\u5207\u6362\u5206\u652f\u7684\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>git checkout -b devel\n</code></pre> <p>\u82e5\u672c\u5730\u4e4b\u524d\u4e0d\u5b58\u5728<code>devel</code>\u5206\u652f\uff0c\u5219\u53ef\u7531\u5f53\u524d\u5206\u652f\u51fa\u53d1\u521b\u5efa\u4e00\u4e2a\u3002\u8fd9\u6837\u7684\u5b9e\u73b0\u65b9\u5f0f\u5c31\u5982\u540c\u4ece\u5f53\u524d\u5730\u94c1\u7ad9\u6362\u4e58\u5230\u53e6\u4e00\u6761\u5730\u94c1\u7ebf\u8def\uff0c\u518d\u7ee7\u7eed\u4e58\u5750\u3002\u4e4b\u540e\u7684\u6240\u6709\u4fee\u6539\u4fbf\u4f53\u73b0\u5728<code>devel</code>\u5206\u652f\u4e0a\u3002</p> <p>\u5f53\u4fee\u6539\u7684\u4ee3\u7801\u6d4b\u8bd5\u5b8c\u5584\uff0c\u6211\u4eec\u4fbf\u53ef\u4ee5\u628a\u652f\u7ebf\u4ee3\u7801\u5408\u5e76\u5230\u4e3b\u7ebf\u4e0a\uff0c\u5373\u5728\u6362\u4e58\u7ebf\u8def\u7684\u5730\u94c1\u7ad9\u4fee\u5efa\u4e00\u4e2a\u6362\u4e58\u7ad9\uff0c\u4e0e\u4e3b\u7ebf\u6362\u4e58\uff0c\u5e76\u4fdd\u7559\u4e4b\u524d\u7684\u6240\u6709\u4fee\u6539\u3002\u547d\u4ee4\u5982\u4e0b\uff1a</p> <pre><code>git checkout master\ngit merge devel\n</code></pre> <p>\u5173\u4e8e\u5206\u652f\u7ba1\u7406\uff0c\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff0c\u53ef\u4ee5\u53c2\u8003\u5ed6\u96ea\u5cf0\u7684\u6559\u7a0b\u3002</p>"},{"location":"wiki/teamwork/git_usage/#pull-request","title":"\u62c9\u53d6\u8bf7\u6c42\uff08Pull Request\uff09","text":"<p>\u7c7b\u4f3c\u4e8e\u5206\u652f\u7684\u5b9e\u73b0\uff0c\u5bf9\u516c\u5f00\u5728Github\u4e0a\u7684\u8fdc\u7a0b\u9879\u76ee\uff0c\u53ef\u4ee5\u7531\u5f53\u524d\u9879\u76ee\u51fa\u53d1\uff0c\u5efa\u7acb\u9879\u76ee\u7684\u590d\u523b\uff08Fork\uff09\u3002\u590d\u523b\u51fa\u7684\u9879\u76ee\u53ef\u4ee5\u770b\u4f5c\u662f\u4e3b\u9879\u76ee\u7684\u5206\u652f\uff0c\u5e76\u4fdd\u7559\u4e86\u521d\u59cb\u9879\u76ee\u7684\u76f8\u5e94\u5206\u652f\u3002</p> <p></p> <p>Fork\u7684\u9879\u76ee\u4ecd\u662f\u8fdc\u7a0b\u9879\u76ee\uff0c\u56e0\u800c\u53ef\u4ee5Clone\u5230\u672c\u5730\u4f5c\u8fdb\u4e00\u6b65\u4fee\u6539\uff0c\u5e76\u53ef\u4ee5\u4e0e\u672c\u5730\u540c\u6b65\u4ece\u800c\u66f4\u65b0\u8fdc\u7a0b\u7684Fork\u9879\u76ee\uff0c\u800c\u539f\u59cb\u9879\u76ee\u4fdd\u6301\u4e0d\u53d8\uff08\u5e76\u4e14\u5f88\u53ef\u80fd\u4e5f\u6ca1\u6743\u9650\u6539\u53d8\uff09\u3002</p> <p>\u6b64\u65f6\uff0c\u8981\u60f3\u5411\u539f\u59cb\u9879\u76ee\u63d0\u4ea4\u81ea\u5df1\u7684\u4fee\u6539\uff0c\u5219\u9700\u8981\u521b\u5efa\u62c9\u53d6\u8bf7\u6c42\uff08Pull request\uff0c\u7b80\u5199\u4e3aPR\uff09\u3002\u70b9\u51fb\u9875\u9762\u4e0a\u7684\"Contribute\"\uff0c\u70b9\u51fb\"Open pull request\"\u5373\u53ef\u521b\u5efaPR\u3002</p> <p></p> <p>\u968f\u540e\uff0c\u4fbf\u53ef\u4ee5\u6307\u5b9a\u4eceFork\u9879\u76ee\u7684\u67d0\u4e2a\u5206\u652f\u63d0\u4ea4PR\u5230\u539f\u59cb\u9879\u76ee\u7684\u67d0\u4e2a\u5206\u652f\u3002\u4f8b\u5982\u56fe\u4e2d\u662f\u4ece\u81ea\u5df1\u7684<code>devel</code>\u5230\u539f\u59cb\u7684<code>master</code>\u5206\u652f\u3002\u5728\u4e0b\u65b9\u7684\u6587\u672c\u6846\u4e2d\u53ef\u4ee5\u8f93\u5165\u81ea\u5df1\u7684\u4fee\u6539\u53ca\u5bf9\u5e94\u7684\u63cf\u8ff0\uff0c\u4fbf\u4e8e\u539f\u59cb\u9879\u76ee\u7684\u7ef4\u62a4\u8005\u5ba1\u6838\u3001\u5904\u7406\u3001\u5408\u5e76PR\u3002</p> <p></p> <p>\u9875\u9762\u5411\u4e0b\u7ffb\uff0c\u53ef\u4ee5\u770b\u5230\u81ea\u5df1\u7684\u5386\u53f2\u63d0\u4ea4\uff0c\u4ee5\u53ca\u4fee\u6539\u7684\u6587\u4ef6\u7b49\u3002\u6ce8\u610f\u5728\u521b\u5efaPR\u524d\uff0c\u8bf7\u52a1\u5fc5\u67e5\u770b\u672c\u6b21PR\u76f8\u6bd4\u539f\u59cb\u6587\u4ef6\u4fee\u6539\u4e86\u54ea\u4e9b\uff0c\u4ee5\u514d\u4e00\u4e9b\u4e0d\u5e0c\u671b\u4e0a\u4f20\u7684\u5185\u5bb9\u6df7\u8fdb\u6765\uff0c\u7ed9\u5ba1\u6838\u4eba\u5458\u5e26\u6765\u56f0\u6270\uff0c\u4e0d\u5229\u4e8e\u6293\u4f4f\u771f\u6b63\u6838\u5fc3\u7684\u4fee\u6539\u3002\u3001</p> <p>\u63d0\u4ea4PR\u4ee5\u540e\uff0c\u5ba1\u6838\u4eba\u5458\u53ef\u80fd\u4f1a\u63d0\u51fa\u4e00\u4e9b\u5efa\u8bae\uff0c\u751a\u81f3\u662f\u4fee\u6539\u610f\u89c1\u3002\u82e5\u63d0\u4ea4\u5230\u5bf9\u5e94\u7684\u590d\u523b\u5206\u652f\uff0c\u5219\u76f8\u5e94\u7684\u4fee\u6539\u4e5f\u4f1a\u540c\u6b65\u5230PR\u4e2d\uff0c\u56e0\u6b64\u4e0d\u9700\u8981\u989d\u5916\u63d0\u4ea4\u4fee\u6539\u8bf7\u6c42\u3002</p>"},{"location":"wiki/teamwork/git_usage/#issue","title":"\u521b\u5efa\u8bae\u9898\uff08Issue\uff09","text":"<p>\u5f53\u53d1\u73b0\u4ee3\u7801\u53ef\u80fd\u5b58\u5728BUG\u6216\u8005\u81ea\u5df1\u6709\u4e00\u4e9b\u7591\u95ee\u9700\u8981\u7ef4\u62a4\u8005\u56de\u7b54\u65f6\uff0c\u6291\u6216\u662f\u6709\u4e00\u4e9b\u60f3\u8981\u5f00\u53d1\u8005\u5b9e\u73b0\u7684\u65b0\u529f\u80fd\uff0c\u7528\u6237\u4e5f\u53ef\u4ee5\u5728\u539f\u59cb\u9879\u76ee\u4e2d\u521b\u5efa\u8bae\u9898\uff08Issue\uff09\uff0c\u7528\u5c3d\u53ef\u80fd\u7b80\u6d01\u7684\u8bed\u8a00\u63cf\u8ff0\u81ea\u5df1\u9047\u5230\u7684\u95ee\u9898\uff0c\u6216\u81ea\u5df1\u7684\u9700\u6c42\u3002\u4e00\u4e9b\u6d41\u884c\u7684\u9879\u76ee\u53ef\u80fd\u4f1a\u63d0\u4f9bIssue\u6a21\u677f\uff0c\u8bf7\u6309\u7167\u6a21\u677f\u63d0\u793a\u586b\u5199\uff0c\u63d0\u9ad8\u89e3\u51b3\u95ee\u9898\u7684\u6548\u7387\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u5bf9\u5e94\u4fee\u590dBUG\u6216\u8005\u5f00\u53d1\u7279\u6027\u3002</p> <p></p> <p>\u5982\u679c\u4f60\u770b\u5230\u76f8\u5173\u7684Issue\uff0c\u800c\u6070\u597d\u4f60\u7684\u4fee\u6539\u53ef\u4ee5\u4e3a\u4e4b\u63d0\u4f9b\u5e2e\u52a9\uff0c\u4e5f\u53ef\u4ee5\u63d0\u4ea4PR\uff0c\u5e76\u5728PR\u7684\u63cf\u8ff0\u4e2d\u7528<code>#&lt;ID&gt;</code>\u8fde\u63a5\u5230\u5bf9\u5e94\u7684Issue\uff0c\u4fbf\u4e8e\u63d0\u95ee\u8005\u540c\u6b65\u4f60\u7684\u4fee\u6539\u3002</p>"},{"location":"wiki/teamwork/git_usage/#gitignore","title":"<code>.gitignore</code> \u6587\u4ef6","text":"<p>\u5f00\u53d1\u8005\u5e38\u5e38\u9700\u8981\u5728\u9879\u76ee\u6587\u4ef6\u5939\u4e0b\u8c03\u8bd5\uff0c\u800c\u8bba\u6587\u64b0\u7a3f\u4eba\u5e38\u5e38\u9700\u8981\u7f16\u8bd1 LaTex \u9879\u76ee\u4ea7\u751f PDF \u4f9b\u9884\u89c8\u3002\u8fd9\u4e9b\u8fc7\u7a0b\uff0c\u90fd\u53ef\u80fd\u4ea7\u751f\u4e00\u4e9b\u65e5\u5fd7\u3001\u7f13\u5b58\u3001\u8f93\u51fa\u7b49\u6587\u4ef6\uff0c\u4e00\u4e9b\u751a\u81f3\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u5728\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cGit \u4f1a\u76d1\u6d4b\u9879\u76ee\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\uff0c\u5982\u679c<code>git add .</code>\uff0c\u5219\u4f1a\u5168\u90e8\u52a0\u5165\u5230\u6682\u5b58\u533a\u3002\u82e5\u5728<code>git commit</code>\u65f6\u4ecd\u672a\u53d1\u73b0\u95ee\u9898\uff0c\u8fd9\u4e9b\u6587\u4ef6\u5c31\u4f1a\u4e00\u5e76\u88ab\u4ed3\u5e93\u8ffd\u8e2a\u3002\u5f53\u4e0a\u4f20\u5230\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u6709\u6743\u9650\u67e5\u770b\u8fd9\u4e9b\u9879\u76ee\u7684\u4eba\u4fbf\u4f1a\u5728Github\u6216\u8005\u5176\u4ed6\u5730\u65b9\u770b\u5230\u8fd9\u4e9b\u6587\u4ef6\uff0c\u8840\u538b\u53ef\u80fd\u4f1a\u65e0\u6cd5\u6291\u5236\u5730\u6025\u901f\u4e0a\u5347\u2026\u2026</p> <p>\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u4fbf\u9700\u8981\u6709\u529e\u6cd5\u62d2\u7edd\u8ffd\u8e2a\u8fd9\u4e9b\u6587\u4ef6\u3002Git\u63d0\u4f9b\u7684\u89e3\u51b3\u65b9\u6848\u4fbf\u662f\u521b\u5efa\u4e00\u4e2a<code>.gitignore</code>\u6587\u4ef6\uff0c\u8bb0\u5f55\u8fd9\u4e9b\u5e0c\u671b\u88ab\u5ffd\u7565\u7684\u6587\u4ef6\u6216\u76ee\u5f55\u3002\u5176\u683c\u5f0f\u5982\u4e0b\u6240\u793a\uff0c\u5373\u628a\u5e0c\u671b\u5ffd\u7565\u6216\u8005\u6392\u9664\u7684\u6587\u4ef6\u52a0\u5165\u5176\u4e2d\u3002</p> <pre><code># \u6392\u9664\u7279\u5b9a\u6587\u4ef6\ntext.txt\n\n# \u6392\u9664tmp\u4e0b\u7684\u6240\u6709\u6587\u4ef6\ntmp/*\n\n# \u6392\u9664\u6240\u6709.\u5f00\u5934\u7684\u9690\u85cf\u6587\u4ef6\n.*\n\n# \u6392\u9664\u6240\u6709.class\u6587\u4ef6\n*.class\n\n# \u4e0d\u6392\u9664.gitignore\u548cApp.class\n!.gitignore\n!App.class\n</code></pre> <p>\u53ef\u4ee5\u60f3\u50cf\uff0c\u5982\u679c\u6240\u6709\u89c4\u5219\u90fd\u624b\u52a8\u7f16\u5199\uff0c\u5bf9\u4e8e\u7ef4\u62a4\u8005\u53ef\u80fd\u4f1a\u6709\u56f0\u6270\u3002\u56e0\u6b64\uff0cGithub\u4e0a\u4ea6\u6709\u7ef4\u62a4\u4e00\u4e2a<code>.gitignore</code>\u6587\u4ef6\u7684\u4ed3\u5e93\uff08github/gitignore: A collection of useful .gitignore templates\uff09\uff0c\u7528\u6237\u53ea\u9700\u8981\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u4ece\u4e2d\u9009\u53d6\u76f8\u5e94\u7684\u5ffd\u7565\u4fe1\u606f\uff0c\u52a0\u5165\u5230\u672c\u5730\u7684<code>.gitignore</code>\u5373\u53ef\u3002\u6ce8\u610f\uff0c\u8be5\u4ed3\u5e93\u7684\u6839\u76ee\u5f55\u4e0b\u653e\u7f6e\u7684\u662f\u4e00\u4e9b\u5e38\u7528\u8bed\u8a00\u73af\u5883\uff0c\u800c\u4e00\u4e9b\u7f16\u8f91\u5668\u6216IDE\u540c\u6837\u4f1a\u4ea7\u751f\u7f13\u5b58\u6587\u4ef6\uff0c\u8fd9\u4e9b\u6a21\u677f\u89c1\u4e8e<code>global</code>\u4e0b\u3002\u5b9e\u9645\u4e0a\uff0c\u4eceGithub\u521b\u5efa\u7684\u4ed3\u5e93\u4fbf\u662f\u4ece\u8fd9\u4e2a\u4ed3\u5e93\u4e2d\u62c9\u53d6<code>.gitignore</code>\u7684\u6a21\u677f\u3002</p> <p>\u4f46\u662f\uff0c\u5f88\u591a\u610f\u8bc6\u5230\u81ea\u5df1\u9700\u8981<code>.gitignore</code>\u7684\u7528\u6237\u5f80\u5f80\u662f\u7ecf\u5386\u4e86\u8840\u538b\u7684\u4e0a\u5347\uff0c\u60f3\u8981\u4ea1\u7f8a\u8865\u7262\u7684\u3002\u5373\u5df2\u7ecf\u628a\u8bf8\u5982\u65e5\u5fd7\u6587\u4ef6\u4e00\u7c7b\u7684\u6587\u4ef6\u63d0\u4ea4\u5230\u8fdc\u7a0b\u4ed3\u5e93\u4e2d\uff0c\u751a\u81f3\u5728clone\u65f6\u624d\u53d1\u73b0\u95ee\u9898\u3002\u4e00\u4e2a\u6bd4\u8f83\u5feb\u901f\u7684\u89e3\u51b3\u65b9\u6848\u4fbf\u662f\uff0c\u5728\u5efa\u7acb.gitignore\u540e\uff0c\u76f4\u63a5\u8fd0\u884c\uff1a</p> <pre><code>git rm -r --cached .\ngit add .\n</code></pre> <p>\u76f8\u5f53\u4e8e\u4ece\u5934\u5f00\u59cb\uff0c\u76f4\u63a5\u5c06\u4e0d\u5e0c\u671b\u7ee7\u7eedtrack\u7684\u6587\u4ef6\u6807\u8bb0\u4e3a\u5220\u9664\uff0c\u4ece\u800c\u5728\u63d0\u4ea4\u4e0a\u5f7b\u5e95\u5ffd\u7565\u8fd9\u4e9b\u6587\u4ef6\u7684\u5b58\u5728\uff0c\u4f46\u540c\u65f6\u4e0d\u5220\u9664\u539f\u59cb\u6587\u4ef6\u3002\u4f46\u8fd9\u4e9b\u6587\u4ef6\u7684\u8bb0\u5f55\u4ecd\u5b58\u5728\u4e8e\u8fdc\u7a0b\u3002</p> <p>\u53e6\u4e00\u79cd\u601d\u8def\u5219\u662f\u5229\u7528<code>git update-index --assume-unchanged &lt;file&gt;</code>\u547d\u4ee4\uff0c\u5ffd\u7565\u6389\u8be5\u6587\u4ef6\u7684\u66f4\u6539\uff0c\u4f46\u4ecd\u4fdd\u7559\u4e86\u6587\u4ef6\u672c\u8eab\u3002\u603b\u4e4b\uff0c\u8fd9\u4e24\u79cd\u65b9\u6cd5\u90fd\u65e0\u6cd5\u4ece\u6839\u672c\u4e0a\u89e3\u51b3\u5df2\u7ecf\u63d0\u4ea4\u5230\u8fdc\u7a0b\u7684\u6587\u4ef6\uff0c\u56e0\u6b64\u8fd8\u662f\u63a8\u8350\u5728<code>git init</code>\u4e4b\u521d\u5c31\u5199\u597d<code>.gitignore</code>\uff0c\u6216\u5229\u7528 Github \u81ea\u5e26\u7684\u6a21\u677f\u3002</p>"},{"location":"wiki/teamwork/tutorial_rules/","title":"\u5982\u4f55\u7ec4\u7ec7\u57f9\u8bad","text":"<ol> <li> <p>\u4e00\u5b9a\u8981\u5728\u57f9\u8bad\u548c\u5c55\u793a**\u524d**\u628a\u5e7b\u706f\u7247\u548c\u57f9\u8bad\u6750\u6599\u53d1\u9001\u7ed9\u5b66\u5458</p> </li> <li> <p>\u57f9\u8bad\u6750\u6599\u8bf7\u9075\u5faa\u4ee5\u4e0b\u683c\u5f0f</p> </li> <li> <p>\u4e3b\u9898</p> </li> <li> <p>\u76ee\u6807\u548c\u6b64\u6b21\u57f9\u8bad\u7684\u6536\u76ca</p> <p>--- \u4f8b\uff1a1.\u7406\u89e3\u5de5\u4f5c\u6d41 2.\u5b66\u4e60\u5982\u4f55\u81ea\u52a8\u5316\u5de5\u4f5c\u6d41 3.\u5b66\u4e60\u5982\u4f55\u901a\u8fc7airflow\u53ef\u89c6\u5316\u5de5\u4f5c\u6d41</p> </li> <li> <p>\u63d0\u524d\u5e2e\u53c2\u4e0e\u8005/\u5b66\u5458\u51c6\u5907</p> <p>--- \u6240\u9700\u7684\u80cc\u666f\u77e5\u8bc6\u548c\u63d0\u4f9b\u5fc5\u8981\u7684\u5f15\u5bfc - \u94fe\u63a5\uff0c\u4e66\u7c4d\uff0c\u5fc5\u8bfb\u6587\u7ae0\u7b49</p> <p>--- \u5176\u4ed6\u9700\u8981\u5728\u57f9\u8bad\u524d\u505a\u597d\u7684\u51c6\u5907</p> <p>--- \u4f8b\uff1a1.\u5b89\u88c5PyCharm, Jupiter, python3.9\u7b49 2.\u5b89\u88c5\u548c\u9a8c\u8bc1\u6240\u9700\u7684\u5305\uff08airflow\uff09</p> </li> <li> <p>\u57f9\u8bad\u5185\u5bb9\u7684\u65f6\u95f4\u5b89\u6392</p> <p>--- \u4f8b\uff1a </p> <ol> <li>\u4ecb\u7ecd\u5de5\u4f5c\u6d41(10\u5206\u949f)</li> <li>\u4ecb\u7ecdaiida\u548caiflow(20\u5206\u949f)</li> <li>\u7ec3\u4e60\u5de5\u4f5c\u6d41\u548c\u53ef\u89c6\u5316\u5de5\u4f5c\u6d41(50\u5206\u949f)</li> <li>\u7b54\u7591(19\u5206\u949f)</li> </ol> </li> <li> <p>\u786e\u4fdd\u4f60\u8db3\u591f\u65e9\u5730\u53d1\u9001\u7684\u5e7b\u706f\u7247\u548c\u57f9\u8bad\u6750\u6599\u3002\u7559\u4e0b\u5145\u8db3\u7684\u65f6\u95f4\u7ed9\u5b66\u5458\u5b8c\u6210\u51c6\u5907\u7684\u4efb\u52a1\u3002</p> </li> </ol>"},{"location":"wiki/teamwork/tutorial_rules/#trainingpresentaion-guideline","title":"Training/Presentaion Guideline","text":"<ol> <li> <p>Always send slides and agenda BEFORE presentation and training </p> </li> <li> <p>Follow the agenda format as below:</p> <p>a. Topic</p> <p>b. Objective and benefit of training</p> <p>\u2014\u2014 e.g. 1. Understand workflow 2. Learn how to automate workflow 3. Learn how to visualize workflow via package'airflow'</p> <p>c. Participant's preparation</p> <p>\u2014\u2014 State the desired background knowledge and provide induction \u2014 links, books, must-read papers etc.</p> <p>\u2014\u2014 State the preparation that the participants need to complete before attending the training</p> <p>\u2014\u2014 e.g. 1. Install IDE PyCharm, Jupiter, python3.9 etc. 2. Install and validate required packages(airflow)</p> <p>d. Items with time slot</p> <p>\u2014\u2014 e.g.</p> </li> <li> <p>Introduce workflow (10 minutes)</p> </li> <li> <p>Introduce Aida and airflow (20 minutes)</p> </li> <li> <p>Practice workflow and visualize via 'airflow' (50 minutes)</p> </li> <li> <p>Q&amp;A (10 minutes)</p> </li> <li> <p>Make sure you send slides and agenda early and leave plenty of time for the participants to complete the preparation tasks.</p> </li> </ol>"},{"location":"en/","title":"Welcome to ChengGroup Wiki","text":"<p>This is group wiki for chenggroup of XMU which is personal academic group. Visitors are welcomed to have look in our wiki. It's better if you would like to post any suggestions for us. This Wiki are mainly written in Simplified Chinese.</p>"},{"location":"en/wiki/book_recommendation/","title":"Recommended Book List","text":""},{"location":"en/wiki/book_recommendation/#basic-theory-series","title":"Basic Theory Series","text":"<ol> <li> <p>Quantum Chemistry </p> <p>Quantum mechanics fundamentals tailored for chemistry students, with detailed calculations.</p> </li> <li> <p>Modern Quantum Chemistry</p> <p>A classic textbook on quantum chemistry, with a highlight on the Hartree-Fock theory.</p> </li> <li> <p>The Electronic Structure and Chemistry of Solids</p> <p>Qualitative solid-state physics suitable for chemistry students, providing a basic understanding of solid-state physics.</p> </li> <li> <p>Statistical Mechanics</p> <p>A comprehensive introduction to statistical mechanics with detailed formula derivations. Serious study will provide a relatively deep understanding of statistical mechanics.</p> </li> <li> <p>Second Quantized Approach to Quantum Chemistry</p> <p>As stated in the preface of this book, it is designed to introduce chemists (non-physicists) to the language of second quantization. If you want to delve into second quantization in detail for literature reading, I highly recommend this book. As the author says, you will only appreciate the beauty of second quantization once you start using it.</p> </li> </ol>"},{"location":"en/wiki/book_recommendation/#programming-series","title":"Programming Series","text":"<ol> <li> <p>Linux Command Line and Shell Scripting Bible</p> <p>From beginners to intermediate, this book provides excellent explanations and comprehensiveness. Interacting with the Unix kernel using bash and shell is the foundation for all programming, especially if you want to enjoy programming on Linux or MacOS.</p> </li> <li> <p>Python Crash Course</p> <p>A systematic introduction to Python programming, focusing on the data presentation part in the project section.</p> </li> <li> <p>Numerical Python</p> <p>A textbook on using Python in data science, covering numpy, scipy, and matplotlib.</p> </li> <li> <p>Fortran for Scientists &amp; Engineers</p> <p>An introduction to Fortran with a solid foundation. The examples are straightforward, comprehensive, and can be completed in about 20 days. The summaries and code references at the end of each chapter are well-detailed. Additionally, there is a tutorial on Fortran/C interoperability in the appendix.</p> </li> </ol>"}]}